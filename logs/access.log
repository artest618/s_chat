[2015-08-28 10:41:41.171] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-28 10:41:41.438] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 10:41:41.649] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 10:41:41.806] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 10:41:41.807] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 10:41:41.808] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 10:41:41.808] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 10:41:41.809] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 10:41:41.857] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 10:41:41.857] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 10:41:41.858] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 10:41:41.861] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 10:41:41.862] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 10:41:41.950] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 10:41:41.950] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 10:41:41.950] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 10:41:41.951] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 10:41:41.955] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 10:41:41.986] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 10:41:41.986] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 10:41:41.992] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 10:41:41.996] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 10:41:42.037] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 10:41:42.191] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 10:41:42.192] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 10:41:42.193] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 10:41:42.194] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 10:41:42.194] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 10:41:42.194] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 10:41:42.195] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 10:41:42.195] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 10:41:42.267] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 10:41:42.281] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 10:41:42.314] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 10:41:42.327] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 10:41:42.328] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 10:41:42.339] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 10:44:10.771] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:10.778] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:12.418] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:12.421] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:12.614] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:12.616] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:13.646] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:13.646] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:14.415] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:14.415] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:15.211] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:15.212] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:16.386] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:16.387] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:17.664] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:17.664] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:17.952] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:17.953] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:18.735] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:18.736] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:19.094] [INFO] dateFileLog - action / start......
[2015-08-28 10:44:19.095] [DEBUG] dateFileLog - GET /
[2015-08-28 10:44:40.228] [INFO] dateFileLog - action /flushMsgCount start......
[2015-08-28 10:44:40.228] [INFO] dateFileLog - param uid=220
[2015-08-28 10:44:40.229] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:44:40.231] [DEBUG] dateFileLog - GET /flushMsgCount?uid=220
[2015-08-28 10:44:40.381] [DEBUG] dateFileLog - GET /favicon.ico
[2015-08-28 10:50:01.487] [INFO] dateFileLog - action / start......
[2015-08-28 10:50:01.487] [DEBUG] dateFileLog - GET /
[2015-08-28 10:50:06.700] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 10:50:06.701] [INFO] dateFileLog - param uid=394
[2015-08-28 10:50:06.701] [INFO] dateFileLog - param uname=张顾问
[2015-08-28 10:50:06.701] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:50:08.800] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='394'
[2015-08-28 10:50:08.897] [INFO] dateFileLog - { code: '10002', msg: '顾问已存在，请不要重复创建' }
[2015-08-28 10:50:08.901] [DEBUG] dateFileLog - GET /createCounselor?uid=394&uname=%E5%BC%A0%E9%A1%BE%E9%97%AE
[2015-08-28 10:50:22.432] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 10:50:22.432] [INFO] dateFileLog - param uid=999
[2015-08-28 10:50:22.432] [INFO] dateFileLog - param uname=张顾问
[2015-08-28 10:50:22.432] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:50:25.235] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='999'
[2015-08-28 10:50:25.509] [INFO] dateFileLog - start transaction...
[2015-08-28 10:50:25.510] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (999, '张顾问', '张顾问', 3, 3, '2015-08-28 10:50:22' ,'')
[2015-08-28 10:50:25.613] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (999, '张顾问', '张顾问', 3, 3, '2015-08-28 10:50:22' ,'')
[2015-08-28 10:50:25.614] [ERROR] dateFileLog - ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
Error: ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
    at Query.Sequence._packetToError (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:48:14)
    at Query.ErrorPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:83:18)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
    at Socket.Readable.push (_stream_readable.js:126:10)
    at TCP.onread (net.js:538:20)
    --------------------
    at Protocol._enqueue (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:135:48)
    at PoolConnection.query (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:201:25)
    at excutesql (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:40:28)
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:69:23)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
[2015-08-28 10:50:25.662] [ERROR] dateFileLog - cerr is not defined
ReferenceError: cerr is not defined
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:100:58)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
[2015-08-28 10:50:59.241] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 10:50:59.241] [INFO] dateFileLog - param uid=999
[2015-08-28 10:50:59.241] [INFO] dateFileLog - param uname=张顾问
[2015-08-28 10:50:59.241] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:51:02.305] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='999'
[2015-08-28 10:51:02.518] [INFO] dateFileLog - start transaction...
[2015-08-28 10:51:02.519] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (999, '张顾问', '张顾问', 3, 3, '2015-08-28 10:50:59' ,'')
[2015-08-28 10:51:02.642] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (999, '张顾问', '张顾问', 3, 3, '2015-08-28 10:50:59' ,'')
[2015-08-28 10:51:02.643] [ERROR] dateFileLog - ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
Error: ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
    at Query.Sequence._packetToError (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:48:14)
    at Query.ErrorPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:83:18)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
    at Socket.Readable.push (_stream_readable.js:126:10)
    at TCP.onread (net.js:538:20)
    --------------------
    at Protocol._enqueue (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:135:48)
    at PoolConnection.query (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:201:25)
    at excutesql (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:40:28)
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:69:23)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
[2015-08-28 10:51:02.690] [ERROR] dateFileLog - cerr is not defined
ReferenceError: cerr is not defined
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:100:58)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
[2015-08-28 10:51:29.088] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 10:51:29.088] [INFO] dateFileLog - param uid=999
[2015-08-28 10:51:29.088] [INFO] dateFileLog - param uname=张顾问
[2015-08-28 10:51:29.088] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:51:31.957] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='999'
[2015-08-28 10:51:32.141] [INFO] dateFileLog - start transaction...
[2015-08-28 10:51:32.141] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (999, '张顾问', '张顾问', 3, 3, '2015-08-28 10:51:29' ,'')
[2015-08-28 10:51:32.295] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-28 10:51:32.296] [INFO] dateFileLog - true
[2015-08-28 10:51:32.364] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE owner='1'
[2015-08-28 10:51:32.372] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (999, '张顾问', '张顾问', 3, 3, '2015-08-28 10:51:29' ,'')
[2015-08-28 10:51:32.373] [ERROR] dateFileLog - ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
Error: ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
    at Query.Sequence._packetToError (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:48:14)
    at Query.ErrorPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:83:18)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
    at Socket.Readable.push (_stream_readable.js:126:10)
    at TCP.onread (net.js:538:20)
    --------------------
    at Protocol._enqueue (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:135:48)
    at PoolConnection.query (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:201:25)
    at excutesql (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:40:28)
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:69:23)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
[2015-08-28 10:51:32.592] [INFO] dateFileLog - start transaction...
[2015-08-28 10:51:32.592] [DEBUG] dateFileLog - INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (999, '张顾问', '张顾问', '张顾问的客户群', 2, '999_5515135919')
[2015-08-28 10:51:32.592] [DEBUG] dateFileLog - INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (999, '张顾问', '张顾问', '张顾问的客户经理群',3, '999_5664497386')
[2015-08-28 10:51:32.593] [DEBUG] dateFileLog - INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (999, '张顾问', '张顾问', 3,'14', '2015-08-28 10:51:32')
[2015-08-28 10:51:32.593] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('999','14','2', null)
[2015-08-28 10:51:32.651] [INFO] dateFileLog - excuted INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (999, '张顾问', '张顾问', '张顾问的客户群', 2, '999_5515135919')successfully.
[2015-08-28 10:51:32.701] [INFO] dateFileLog - excuted INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (999, '张顾问', '张顾问', '张顾问的客户经理群',3, '999_5664497386')successfully.
[2015-08-28 10:51:32.761] [INFO] dateFileLog - excuted INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (999, '张顾问', '张顾问', 3,'14', '2015-08-28 10:51:32')successfully.
[2015-08-28 10:51:32.823] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('999','14','2', null)successfully.
[2015-08-28 10:51:32.954] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-28 10:51:33.002] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE owner='999'
[2015-08-28 10:51:33.162] [INFO] dateFileLog - start transaction...
[2015-08-28 10:51:33.162] [DEBUG] dateFileLog - INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (999, '张顾问', '张顾问', 3,'49', '2015-08-28 10:51:33')
[2015-08-28 10:51:33.163] [DEBUG] dateFileLog - INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (999, '张顾问', '张顾问', 3,'50', '2015-08-28 10:51:33')
[2015-08-28 10:51:33.163] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('999','49','2', null)
[2015-08-28 10:51:33.163] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('999','50','2', null)
[2015-08-28 10:51:33.223] [INFO] dateFileLog - excuted INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (999, '张顾问', '张顾问', 3,'49', '2015-08-28 10:51:33')successfully.
[2015-08-28 10:51:33.284] [INFO] dateFileLog - excuted INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (999, '张顾问', '张顾问', 3,'50', '2015-08-28 10:51:33')successfully.
[2015-08-28 10:51:33.344] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('999','49','2', null)successfully.
[2015-08-28 10:51:33.397] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('999','50','2', null)successfully.
[2015-08-28 10:51:33.524] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-28 10:51:33.571] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE owner='999'
[2015-08-28 10:51:33.615] [INFO] dateFileLog - { code: '10001',
  list: 
   [ { group_name: '张顾问的客户群', group_id: '999_5515135919' },
     { group_name: '张顾问的客户经理群', group_id: '999_5664497386' } ] }
[2015-08-28 10:51:33.617] [DEBUG] dateFileLog - GET /createCounselor?uid=999&uname=%E5%BC%A0%E9%A1%BE%E9%97%AE
[2015-08-28 10:51:39.365] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 10:51:40.543] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 10:51:40.556] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 10:51:40.556] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 10:51:40.557] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 10:51:40.565] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 10:51:40.671] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 10:51:40.685] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 10:51:40.741] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 10:51:40.747] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 10:51:40.748] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 10:51:40.831] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 10:51:40.832] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 10:51:40.845] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 10:51:40.856] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 10:51:40.881] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 10:51:40.973] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 10:51:40.974] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 10:51:40.981] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 10:51:41.047] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 10:51:41.048] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 10:51:41.124] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 10:51:41.125] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 10:51:41.138] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 10:51:41.151] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 10:51:41.165] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 10:51:41.244] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 10:51:41.252] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 10:51:41.258] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 10:51:41.261] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 10:51:41.271] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 10:51:41.396] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 10:51:41.406] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 10:51:41.426] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 10:51:41.427] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 10:51:41.427] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 10:51:41.519] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=49)
[2015-08-28 10:51:41.520] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=50)
[2015-08-28 10:53:58.789] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 10:53:58.789] [INFO] dateFileLog - param uid=998
[2015-08-28 10:53:58.789] [INFO] dateFileLog - param uname=张顾问
[2015-08-28 10:53:58.789] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:54:00.896] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='998'
[2015-08-28 10:54:01.047] [INFO] dateFileLog - start transaction...
[2015-08-28 10:54:01.047] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (998, '张顾问', '张顾问', 3, 3, '2015-08-28 10:53:58' ,'')
[2015-08-28 10:54:01.161] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (998, '张顾问', '张顾问', 3, 3, '2015-08-28 10:53:58' ,'')
[2015-08-28 10:54:01.162] [ERROR] dateFileLog - ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
Error: ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
    at Query.Sequence._packetToError (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:48:14)
    at Query.ErrorPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:83:18)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
    at Socket.Readable.push (_stream_readable.js:126:10)
    at TCP.onread (net.js:538:20)
    --------------------
    at Protocol._enqueue (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:135:48)
    at PoolConnection.query (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:201:25)
    at excutesql (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:40:28)
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:69:23)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
[2015-08-28 10:54:01.209] [ERROR] dateFileLog - cerr is not defined
ReferenceError: cerr is not defined
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:100:58)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
[2015-08-28 10:54:12.584] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-28 10:54:12.921] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 10:54:13.099] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 10:54:13.228] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 10:54:13.248] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 10:54:13.259] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 10:54:13.260] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 10:54:13.280] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 10:54:13.299] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 10:54:13.308] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 10:54:13.323] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 10:54:13.324] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 10:54:13.324] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 10:54:13.378] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 10:54:13.378] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 10:54:13.379] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 10:54:13.380] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 10:54:13.382] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 10:54:13.399] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 10:54:13.408] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 10:54:13.418] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 10:54:13.419] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 10:54:13.456] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 10:54:13.485] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 10:54:13.489] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 10:54:13.497] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 10:54:13.497] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 10:54:13.498] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 10:54:13.506] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 10:54:13.507] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 10:54:13.517] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 10:54:13.532] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 10:54:13.554] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 10:54:13.669] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 10:54:13.679] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 10:54:13.680] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=50)
[2015-08-28 10:54:13.680] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 10:54:13.681] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 10:54:13.681] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=49)
[2015-08-28 10:54:25.010] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 10:54:25.010] [INFO] dateFileLog - param uid=998
[2015-08-28 10:54:25.010] [INFO] dateFileLog - param uname=张顾问
[2015-08-28 10:54:25.010] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:54:25.150] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='998'
[2015-08-28 10:54:25.430] [INFO] dateFileLog - start transaction...
[2015-08-28 10:54:25.430] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (998, '张顾问', '张顾问', 3, 3, '2015-08-28 10:54:25' ,'')
[2015-08-28 10:54:25.570] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (998, '张顾问', '张顾问', 3, 3, '2015-08-28 10:54:25' ,'')
[2015-08-28 10:54:25.571] [ERROR] dateFileLog - ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
Error: ER_DUP_ENTRY: Duplicate entry '张顾问' for key 'name_UNIQUE'
    at Query.Sequence._packetToError (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:48:14)
    at Query.ErrorPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:83:18)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
    at Socket.Readable.push (_stream_readable.js:126:10)
    at TCP.onread (net.js:538:20)
    --------------------
    at Protocol._enqueue (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:135:48)
    at PoolConnection.query (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:201:25)
    at excutesql (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:40:28)
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:69:23)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
[2015-08-28 10:54:25.622] [ERROR] dateFileLog - cerr is not defined
ReferenceError: cerr is not defined
    at Query._callback (/Users/garden/projects/s_chat/s_chat/server/mysqldbfactory.js:100:58)
    at Query.Sequence.end (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)
    at Query._handleFinalResultPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)
    at Query.OkPacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/sequences/Query.js:78:10)
    at Protocol._parsePacket (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:271:23)
    at Parser.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Parser.js:77:12)
    at Protocol.write (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/protocol/Protocol.js:39:16)
    at Socket.<anonymous> (/Users/garden/projects/s_chat/s_chat/node_modules/mysql/lib/Connection.js:96:28)
    at Socket.emit (events.js:107:17)
    at readableAddChunk (_stream_readable.js:163:16)
[2015-08-28 10:55:23.392] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-28 10:55:26.591] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 10:55:26.857] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 10:55:26.948] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 10:55:26.956] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 10:55:27.015] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 10:55:27.024] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 10:55:27.031] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 10:55:27.032] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 10:55:27.032] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 10:55:27.033] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 10:55:27.036] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 10:55:27.043] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 10:55:27.096] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 10:55:27.096] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 10:55:27.097] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 10:55:27.097] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 10:55:27.107] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 10:55:27.108] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 10:55:27.108] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 10:55:27.134] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 10:55:27.135] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 10:55:27.143] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 10:55:27.176] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 10:55:27.177] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 10:55:27.178] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 10:55:27.190] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 10:55:27.191] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 10:55:27.191] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 10:55:27.194] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 10:55:27.211] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 10:55:27.212] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 10:55:27.216] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 10:55:27.264] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 10:55:27.289] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 10:55:27.290] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 10:55:27.290] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 10:55:27.290] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=49)
[2015-08-28 10:55:27.292] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=50)
[2015-08-28 10:55:44.765] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-28 10:55:45.091] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 10:55:45.501] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 10:55:45.570] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 10:55:45.642] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 10:55:45.643] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 10:55:45.644] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 10:55:45.645] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 10:55:45.645] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 10:55:45.645] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 10:55:45.646] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 10:55:45.664] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 10:55:45.665] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 10:55:45.807] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 10:55:45.840] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 10:55:45.841] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 10:55:45.842] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 10:55:45.842] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 10:55:45.864] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 10:55:45.864] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 10:55:45.865] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 10:55:45.891] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 10:55:45.891] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 10:55:45.967] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 10:55:45.967] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 10:55:45.986] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 10:55:45.986] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 10:55:45.986] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 10:55:46.001] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 10:55:46.012] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 10:55:46.022] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 10:55:46.040] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 10:55:46.041] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 10:55:46.056] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 10:55:46.079] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 10:55:46.087] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 10:55:46.087] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 10:55:46.100] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=49)
[2015-08-28 10:55:46.101] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=50)
[2015-08-28 10:56:24.977] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 10:56:24.978] [INFO] dateFileLog - param uid=997
[2015-08-28 10:56:24.978] [INFO] dateFileLog - param uname=张顾问1
[2015-08-28 10:56:24.978] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 10:56:25.039] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='997'
[2015-08-28 10:56:25.330] [INFO] dateFileLog - start transaction...
[2015-08-28 10:56:25.330] [DEBUG] dateFileLog - INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (997, '张顾问1', '张顾问1', 3, 3, '2015-08-28 10:56:24' ,'')
[2015-08-28 10:56:25.440] [INFO] dateFileLog - excuted INSERT INTO tb_userinfo (uid, name, cname, usertype, groupcount, createdate ,headicon)  VALUES (997, '张顾问1', '张顾问1', 3, 3, '2015-08-28 10:56:24' ,'')successfully.
[2015-08-28 10:56:25.492] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-28 10:56:25.492] [INFO] dateFileLog - true
[2015-08-28 10:56:25.540] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE owner='1'
[2015-08-28 10:56:25.690] [INFO] dateFileLog - start transaction...
[2015-08-28 10:56:25.691] [DEBUG] dateFileLog - INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (997, '张顾问1', '张顾问1', '张顾问1的客户群', 2, '997_4167629535')
[2015-08-28 10:56:25.691] [DEBUG] dateFileLog - INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (997, '张顾问1', '张顾问1', '张顾问1的客户经理群',3, '997_3361916328')
[2015-08-28 10:56:25.691] [DEBUG] dateFileLog - INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (997, '张顾问1', '张顾问1', 3,'14', '2015-08-28 10:56:25')
[2015-08-28 10:56:25.691] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('997','14','2', null)
[2015-08-28 10:56:25.750] [INFO] dateFileLog - excuted INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (997, '张顾问1', '张顾问1', '张顾问1的客户群', 2, '997_4167629535')successfully.
[2015-08-28 10:56:25.809] [INFO] dateFileLog - excuted INSERT INTO tb_grouplist (owner, ownername, ownercname, groupname, grouptype, groupnum) VALUES (997, '张顾问1', '张顾问1', '张顾问1的客户经理群',3, '997_3361916328')successfully.
[2015-08-28 10:56:25.868] [INFO] dateFileLog - excuted INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (997, '张顾问1', '张顾问1', 3,'14', '2015-08-28 10:56:25')successfully.
[2015-08-28 10:56:25.928] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('997','14','2', null)successfully.
[2015-08-28 10:56:26.049] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-28 10:56:26.100] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE owner='997'
[2015-08-28 10:56:26.278] [INFO] dateFileLog - start transaction...
[2015-08-28 10:56:26.279] [DEBUG] dateFileLog - INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (997, '张顾问1', '张顾问1', 3,'51', '2015-08-28 10:56:26')
[2015-08-28 10:56:26.279] [DEBUG] dateFileLog - INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (997, '张顾问1', '张顾问1', 3,'52', '2015-08-28 10:56:26')
[2015-08-28 10:56:26.279] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('997','51','2', null)
[2015-08-28 10:56:26.279] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('997','52','2', null)
[2015-08-28 10:56:26.339] [INFO] dateFileLog - excuted INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (997, '张顾问1', '张顾问1', 3,'51', '2015-08-28 10:56:26')successfully.
[2015-08-28 10:56:26.399] [INFO] dateFileLog - excuted INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (997, '张顾问1', '张顾问1', 3,'52', '2015-08-28 10:56:26')successfully.
[2015-08-28 10:56:26.459] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('997','51','2', null)successfully.
[2015-08-28 10:56:26.520] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES ('997','52','2', null)successfully.
[2015-08-28 10:56:26.933] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-28 10:56:27.689] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE owner='997'
[2015-08-28 10:56:27.780] [INFO] dateFileLog - { code: '10001',
  list: 
   [ { group_name: '张顾问1的客户群', group_id: '997_4167629535', type: 2 },
     { group_name: '张顾问1的客户经理群', group_id: '997_3361916328', type: 3 } ] }
[2015-08-28 10:56:27.788] [DEBUG] dateFileLog - GET /createCounselor?uid=997&uname=%E5%BC%A0%E9%A1%BE%E9%97%AE1
[2015-08-28 11:05:45.250] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 11:05:45.374] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 11:05:45.375] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 11:05:45.375] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 11:05:45.387] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 11:05:45.387] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 11:05:45.388] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 11:05:45.390] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 11:05:45.533] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 11:05:45.534] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 11:05:45.543] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 11:05:45.554] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 11:05:45.555] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 11:05:45.563] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 11:05:45.564] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 11:05:45.674] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 11:05:45.675] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 11:05:45.676] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 11:05:45.690] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 11:05:45.705] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 11:05:45.712] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 11:05:45.746] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 11:05:45.783] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 11:05:45.804] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 11:05:45.805] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 11:05:45.811] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 11:05:45.823] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 11:05:45.834] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 11:05:45.862] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 11:05:45.895] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 11:05:45.952] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 11:05:45.956] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 11:05:45.957] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 11:05:45.964] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 11:05:45.972] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 11:05:46.007] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 11:05:46.065] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=49)
[2015-08-28 11:05:46.081] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=50)
[2015-08-28 11:05:46.101] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=51)
[2015-08-28 11:05:46.116] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=52)
[2015-08-28 11:11:31.421] [INFO] dateFileLog - action /createCounselor start......
[2015-08-28 11:11:31.421] [INFO] dateFileLog - param uid=220
[2015-08-28 11:11:31.422] [INFO] dateFileLog - param tid=426
[2015-08-28 11:11:31.422] [INFO] dateFileLog - param pid=123
[2015-08-28 11:11:31.422] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:11:34.300] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid='220'
[2015-08-28 11:11:34.393] [INFO] dateFileLog - { code: '10002', msg: '顾问已存在，请不要重复创建' }
[2015-08-28 11:11:34.398] [DEBUG] dateFileLog - GET /createCounselor?uid=220&tid=426&pid=123
[2015-08-28 11:11:44.318] [INFO] dateFileLog - action / start......
[2015-08-28 11:11:44.318] [INFO] dateFileLog - param uid=220
[2015-08-28 11:11:44.318] [INFO] dateFileLog - param tid=426
[2015-08-28 11:11:44.318] [INFO] dateFileLog - param pid=123
[2015-08-28 11:11:44.319] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:11:44.319] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-28 11:11:46.902] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"124.202.191.174\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-28 11:11:46.954] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-28 11:11:47.008] [DEBUG] dateFileLog - GET /?uid=220&tid=426&pid=123
[2015-08-28 11:11:47.035] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-28 11:11:47.040] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-28 11:11:47.041] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-28 11:11:47.440] [DEBUG] dateFileLog - GET /js/schat.js
[2015-08-28 11:11:47.456] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-28 11:11:47.457] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-28 11:11:47.458] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-28 11:11:47.460] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-28 11:11:47.464] [DEBUG] dateFileLog - GET /js/ajaxupload.js
[2015-08-28 11:11:47.554] [INFO] dateFileLog - action /getUserInfo start......
[2015-08-28 11:11:47.554] [INFO] dateFileLog - param tid=426
[2015-08-28 11:11:47.555] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:11:47.557] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-28 11:11:47.610] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=426
[2015-08-28 11:11:47.651] [INFO] dateFileLog - { user: 
   { id: 24,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 3,
     headicon: '',
     groupcount: 0,
     createdate: null,
     delflag: 0 },
  counselor: undefined }
[2015-08-28 11:11:47.654] [DEBUG] dateFileLog - POST /getUserInfo
[2015-08-28 11:11:47.659] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-28 11:11:47.661] [INFO] dateFileLog - action /chatList start......
[2015-08-28 11:11:47.693] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=000000220 AND a.toid = b.uid
[2015-08-28 11:11:47.829] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=000000220 AND a.groupid = b.id
[2015-08-28 11:11:47.872] [INFO] dateFileLog - { schat: [], gchat: [] }
[2015-08-28 11:11:47.873] [DEBUG] dateFileLog - POST /chatList
[2015-08-28 11:11:47.879] [DEBUG] dateFileLog - GET /views/tmpls/contactlist.ejs
[2015-08-28 11:11:53.703] [INFO] dateFileLog - action / start......
[2015-08-28 11:11:53.703] [INFO] dateFileLog - param uid=221
[2015-08-28 11:11:53.703] [INFO] dateFileLog - param tid=426
[2015-08-28 11:11:53.703] [INFO] dateFileLog - param pid=123
[2015-08-28 11:11:53.703] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:11:53.705] [DEBUG] dateFileLog - GET /?uid=221&tid=426&pid=123
[2015-08-28 11:11:53.709] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-28 11:11:53.717] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-28 11:11:53.719] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-28 11:11:53.720] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-28 11:11:53.736] [DEBUG] dateFileLog - GET /js/schat.js
[2015-08-28 11:11:53.747] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-28 11:11:53.748] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-28 11:11:53.749] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-28 11:11:53.751] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-28 11:11:53.753] [DEBUG] dateFileLog - GET /js/ajaxupload.js
[2015-08-28 11:11:53.767] [INFO] dateFileLog - action /getUserInfo start......
[2015-08-28 11:11:53.767] [INFO] dateFileLog - param tid=426
[2015-08-28 11:11:53.767] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:11:53.769] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-28 11:11:53.864] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=426
[2015-08-28 11:11:53.948] [INFO] dateFileLog - { user: 
   { id: 24,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 3,
     headicon: '',
     groupcount: 0,
     createdate: null,
     delflag: 0 },
  counselor: undefined }
[2015-08-28 11:11:53.949] [DEBUG] dateFileLog - POST /getUserInfo
[2015-08-28 11:11:53.953] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-28 11:11:53.955] [INFO] dateFileLog - action /chatList start......
[2015-08-28 11:11:53.986] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=000000220 AND a.toid = b.uid
[2015-08-28 11:11:54.083] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=000000220 AND a.groupid = b.id
[2015-08-28 11:11:54.126] [INFO] dateFileLog - { schat: [], gchat: [] }
[2015-08-28 11:11:54.127] [DEBUG] dateFileLog - POST /chatList
[2015-08-28 11:11:54.132] [DEBUG] dateFileLog - GET /views/tmpls/contactlist.ejs
[2015-08-28 11:12:00.709] [INFO] dateFileLog - action / start......
[2015-08-28 11:12:00.709] [INFO] dateFileLog - param uid=220
[2015-08-28 11:12:00.709] [INFO] dateFileLog - param tid=426
[2015-08-28 11:12:00.709] [INFO] dateFileLog - param pid=123
[2015-08-28 11:12:00.709] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:12:00.710] [DEBUG] dateFileLog - GET /?uid=220&tid=426&pid=123
[2015-08-28 11:12:00.725] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-28 11:12:00.730] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-28 11:12:00.731] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-28 11:12:01.390] [DEBUG] dateFileLog - GET /js/schat.js
[2015-08-28 11:12:05.237] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-28 11:12:16.759] [INFO] dateFileLog - action / start......
[2015-08-28 11:12:16.760] [INFO] dateFileLog - param uid=220
[2015-08-28 11:12:16.760] [INFO] dateFileLog - param tid=426
[2015-08-28 11:12:16.760] [INFO] dateFileLog - param pid=123
[2015-08-28 11:12:16.760] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:12:16.760] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-28 11:12:16.939] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"124.202.191.174\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-28 11:12:17.049] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-28 11:12:17.110] [DEBUG] dateFileLog - GET /?uid=220&tid=426&pid=123
[2015-08-28 11:12:17.192] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-28 11:12:17.193] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-28 11:12:17.263] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-28 11:12:17.605] [DEBUG] dateFileLog - GET /js/schat.js
[2015-08-28 11:12:17.762] [DEBUG] dateFileLog - GET /js/ajaxupload.js
[2015-08-28 11:12:17.772] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-28 11:12:17.773] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-28 11:12:17.773] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-28 11:12:17.781] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-28 11:12:17.925] [INFO] dateFileLog - action /getUserInfo start......
[2015-08-28 11:12:17.925] [INFO] dateFileLog - param tid=426
[2015-08-28 11:12:17.925] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:12:17.969] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=426
[2015-08-28 11:12:18.017] [INFO] dateFileLog - { user: 
   { id: 24,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 3,
     headicon: '',
     groupcount: 0,
     createdate: null,
     delflag: 0 },
  counselor: undefined }
[2015-08-28 11:12:18.018] [DEBUG] dateFileLog - POST /getUserInfo
[2015-08-28 11:12:18.024] [INFO] dateFileLog - action /chatList start......
[2015-08-28 11:12:18.024] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-28 11:12:18.069] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=000000220 AND a.toid = b.uid
[2015-08-28 11:12:18.081] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-28 11:12:18.279] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=000000220 AND a.groupid = b.id
[2015-08-28 11:12:18.339] [INFO] dateFileLog - { schat: [], gchat: [] }
[2015-08-28 11:12:18.340] [DEBUG] dateFileLog - POST /chatList
[2015-08-28 11:12:18.380] [DEBUG] dateFileLog - GET /views/tmpls/contactlist.ejs
[2015-08-28 11:12:32.016] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-28 11:12:32.017] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-28 11:12:45.226] [INFO] dateFileLog - action / start......
[2015-08-28 11:12:45.226] [INFO] dateFileLog - param uid=220
[2015-08-28 11:12:45.226] [INFO] dateFileLog - param tid=426
[2015-08-28 11:12:45.226] [INFO] dateFileLog - param pid=123
[2015-08-28 11:12:45.226] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:12:45.227] [DEBUG] dateFileLog - GET /?uid=220&tid=426&pid=123
[2015-08-28 11:12:45.233] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-28 11:12:45.253] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-28 11:12:45.254] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-28 11:12:45.255] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-28 11:12:45.297] [DEBUG] dateFileLog - GET /js/schat.js
[2015-08-28 11:12:45.412] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-28 11:12:45.421] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-28 11:12:45.422] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-28 11:12:45.423] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-28 11:12:45.425] [DEBUG] dateFileLog - GET /js/ajaxupload.js
[2015-08-28 11:12:45.517] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-28 11:12:45.519] [INFO] dateFileLog - action /getUserInfo start......
[2015-08-28 11:12:45.519] [INFO] dateFileLog - param tid=426
[2015-08-28 11:12:45.519] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-28 11:12:45.778] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=426
[2015-08-28 11:12:45.858] [INFO] dateFileLog - { user: 
   { id: 24,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 3,
     headicon: '',
     groupcount: 0,
     createdate: null,
     delflag: 0 },
  counselor: undefined }
[2015-08-28 11:12:45.860] [DEBUG] dateFileLog - POST /getUserInfo
[2015-08-28 11:12:45.864] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-28 11:12:45.866] [INFO] dateFileLog - action /chatList start......
[2015-08-28 11:12:45.928] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=000000220 AND a.toid = b.uid
[2015-08-28 11:12:46.067] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=000000220 AND a.groupid = b.id
[2015-08-28 11:12:46.139] [INFO] dateFileLog - { schat: [], gchat: [] }
[2015-08-28 11:12:46.140] [DEBUG] dateFileLog - POST /chatList
[2015-08-28 11:12:46.147] [DEBUG] dateFileLog - GET /views/tmpls/contactlist.ejs
[2015-08-28 11:16:28.608] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 11:16:28.713] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 11:16:28.720] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 11:16:28.724] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 11:16:28.725] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 11:16:28.725] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 11:16:28.725] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 11:16:28.726] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 11:16:28.827] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 11:16:28.841] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 11:16:28.842] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 11:16:28.845] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 11:16:28.864] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 11:16:28.864] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 11:16:28.865] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 11:16:28.918] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 11:16:28.944] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 11:16:28.945] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 11:16:28.947] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 11:16:28.964] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 11:16:28.965] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 11:16:28.965] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 11:16:29.030] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 11:16:29.038] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 11:16:29.038] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 11:16:29.039] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 11:16:29.081] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 11:16:29.082] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 11:16:29.092] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 11:16:29.138] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 11:16:29.143] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 11:16:29.143] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 11:16:29.152] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 11:16:29.212] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 11:16:29.215] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 11:16:29.216] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 11:16:29.245] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=49)
[2015-08-28 11:16:29.260] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=50)
[2015-08-28 11:16:29.313] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=52)
[2015-08-28 11:16:29.314] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=51)
[2015-08-28 11:26:24.481] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-28 11:26:24.661] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-28 11:26:24.661] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-28 11:26:24.662] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-28 11:26:24.662] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-28 11:26:24.665] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-28 11:26:24.666] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=19)
[2015-08-28 11:26:24.666] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=20)
[2015-08-28 11:26:24.744] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=21)
[2015-08-28 11:26:24.747] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=22)
[2015-08-28 11:26:24.748] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=23)
[2015-08-28 11:26:24.750] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=24)
[2015-08-28 11:26:24.755] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=25)
[2015-08-28 11:26:24.755] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=26)
[2015-08-28 11:26:24.764] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=27)
[2015-08-28 11:26:24.835] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=28)
[2015-08-28 11:26:24.844] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=29)
[2015-08-28 11:26:24.845] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=30)
[2015-08-28 11:26:24.852] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=32)
[2015-08-28 11:26:24.853] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=31)
[2015-08-28 11:26:24.871] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=33)
[2015-08-28 11:26:24.871] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=34)
[2015-08-28 11:26:25.104] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=35)
[2015-08-28 11:26:25.106] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=37)
[2015-08-28 11:26:25.107] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=36)
[2015-08-28 11:26:25.107] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=38)
[2015-08-28 11:26:25.112] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=39)
[2015-08-28 11:26:25.118] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=40)
[2015-08-28 11:26:25.119] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=41)
[2015-08-28 11:26:25.177] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=42)
[2015-08-28 11:26:25.179] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=43)
[2015-08-28 11:26:25.192] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=44)
[2015-08-28 11:26:25.193] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=45)
[2015-08-28 11:26:25.193] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=46)
[2015-08-28 11:26:25.204] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=47)
[2015-08-28 11:26:25.205] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=48)
[2015-08-28 11:26:25.264] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=49)
[2015-08-28 11:26:25.293] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=50)
[2015-08-28 11:26:25.294] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=51)
[2015-08-28 11:26:25.294] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=52)
[2015-08-29 13:18:34.388] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 13:18:34.842] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 13:18:34.896] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 13:18:35.175] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 13:18:35.411] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 13:27:59.771] [INFO] dateFileLog - action / start......
[2015-08-29 13:27:59.772] [INFO] dateFileLog - param uid=375
[2015-08-29 13:27:59.772] [INFO] dateFileLog - param tid=489
[2015-08-29 13:27:59.773] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:27:59.774] [INFO] dateFileLog - check user if signed with uid:375
[2015-08-29 13:28:01.363] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":12,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"中国人民银行\",\"birthday\":1440604800000,\"birthdayCh\":\"2015-08-27\",\"cardNo\":\"6221098709870987\",\"cardNoImg\":\"http://anliangfile1.7zhibao.com/www/user/375/2015/08/26/10/022523/1440555213919.jpg\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1439863302591,\"createTimeCh\":\"2015-08-18 10:01:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"http://anliangfile1.7zhibao.com/www/user/375/2015/08/26/10/018560/1440555230510.jpg\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131098199111120987\",\"idNoImg\":\"http://anliangfile1.7zhibao.com/www/user/375/2015/08/26/10/084774/1440555203719.png\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"1\",\"marriageSts\":\"\",\"nickName\":\"shenna\",\"orgId\":0,\"parent\":0,\"persIntro\":\"神啊深谙合身那，中科金财\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"314141414\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1439863303535,\"registerTimeCh\":\"2015-08-18\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/12/2015/08/18/10/047563/1439863302622.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"1\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"1\",\"starLevel\":0,\"strCreateTime\":\"2015-08-18\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"345140324@qq.com\",\"userGrade\":0,\"userId\":375,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/12/2015/08/18/10/071369/1439863303179.JPG\",\"userName\":\"沈娜\",\"userPhone\":\"18611141640\",\"userPwd\":\"7211e5358e5a808dede5a427c4f7792c\",\"userRole\":\"3\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 13:28:01.513] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=375
[2015-08-29 13:32:21.238] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 13:32:21.836] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 13:32:21.875] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 13:32:22.114] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 13:32:22.348] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 13:32:51.180] [INFO] dateFileLog - action / start......
[2015-08-29 13:32:51.180] [INFO] dateFileLog - param uid=220
[2015-08-29 13:32:51.180] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:32:51.181] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 13:32:51.444] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 13:32:51.506] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 13:32:51.532] [DEBUG] dateFileLog - GET /?uid=220
[2015-08-29 13:32:51.558] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:32:51.561] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-29 13:32:51.772] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:32:51.780] [DEBUG] dateFileLog - GET /images/bodybg.jpg
[2015-08-29 13:32:51.806] [DEBUG] dateFileLog - GET /js/schat.js
[2015-08-29 13:32:51.823] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:32:51.832] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:32:51.835] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:32:51.840] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:32:51.844] [DEBUG] dateFileLog - GET /js/ajaxupload.js
[2015-08-29 13:32:51.889] [INFO] dateFileLog - action /getUserInfo start......
[2015-08-29 13:32:51.894] [DEBUG] dateFileLog - POST /getUserInfo
[2015-08-29 13:32:51.898] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:32:51.922] [INFO] dateFileLog - action /chatList start......
[2015-08-29 13:32:51.925] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:32:51.935] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=000000220 AND a.toid = b.uid
[2015-08-29 13:32:51.984] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=000000220 AND a.groupid = b.id
[2015-08-29 13:32:52.079] [INFO] dateFileLog - { schat: [], gchat: [] }
[2015-08-29 13:32:52.082] [DEBUG] dateFileLog - POST /chatList
[2015-08-29 13:32:52.089] [DEBUG] dateFileLog - GET /views/tmpls/contactlist.ejs
[2015-08-29 13:33:03.561] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:33:03.565] [DEBUG] dateFileLog - GET /css/pc.css
[2015-08-29 13:33:51.366] [INFO] dateFileLog - action / start......
[2015-08-29 13:33:51.367] [INFO] dateFileLog - param uid=220
[2015-08-29 13:33:51.367] [INFO] dateFileLog - param tid=489
[2015-08-29 13:33:51.368] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:33:51.373] [DEBUG] dateFileLog - GET /?uid=220&tid=489
[2015-08-29 13:33:51.389] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:33:51.412] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:33:51.418] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:33:51.424] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:33:51.503] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:33:51.524] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:33:51.528] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:33:51.530] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:33:51.533] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:33:51.564] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:33:51.667] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:33:51.670] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 13:33:51.670] [INFO] dateFileLog - param tid=489
[2015-08-29 13:33:51.670] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:33:51.975] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 13:33:51.986] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 0,
     createdate: '2015-08-29T03:23:09.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 13:33:51.990] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 13:33:51.997] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 13:33:52.007] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:33:52.008] [INFO] dateFileLog - param tid=489
[2015-08-29 13:33:52.008] [INFO] dateFileLog - param chattype=single
[2015-08-29 13:33:52.008] [INFO] dateFileLog - param date=
[2015-08-29 13:33:52.008] [INFO] dateFileLog - param page=1
[2015-08-29 13:33:52.008] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:33:52.010] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:33:52.019] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 13:33:52.019] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:33:52.019] [INFO] dateFileLog - param tid=000000489
[2015-08-29 13:33:52.019] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:33:52.023] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 13:33:52.025] [DEBUG] dateFileLog - GET /images/add.jpg
[2015-08-29 13:33:52.028] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:33:52.037] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:33:52.039] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 13:33:52.041] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:33:52.044] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:33:52.118] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 13:33:52.289] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 13:33:52.348] [INFO] dateFileLog - start transaction...
[2015-08-29 13:33:52.349] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES (000000220,'000000489','1', null)
[2015-08-29 13:33:52.369] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES (000000220,'000000489','1', null)successfully.
[2015-08-29 13:33:52.552] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 13:34:07.182] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:34:07.182] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:34:07.182] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:07.197] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:34:07.416] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:34:07.521] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:34:07.556] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:34:07.598] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:34:07.601] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:34:07.608] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:34:07.633] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:34:07.659] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:34:07.686] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:34:07.698] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:34:07.703] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:34:07.705] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:34:07.753] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:34:07.799] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:34:07.799] [INFO] dateFileLog - param uid=220
[2015-08-29 13:34:07.799] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:07.802] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:34:07.818] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:34:07.832] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:34:07.836] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:34:10.712] [INFO] dateFileLog - action / start......
[2015-08-29 13:34:10.712] [INFO] dateFileLog - param uid=220
[2015-08-29 13:34:10.712] [INFO] dateFileLog - param to=489
[2015-08-29 13:34:10.712] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:10.717] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 13:34:10.743] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:34:10.759] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:34:10.761] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:34:10.762] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:34:10.831] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:34:10.851] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:34:10.862] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:34:10.864] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:34:10.867] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:34:10.880] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:34:10.926] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 13:34:10.926] [INFO] dateFileLog - param to=489
[2015-08-29 13:34:10.926] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:10.930] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:34:10.951] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 13:34:10.962] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 0,
     createdate: '2015-08-29T03:23:09.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 13:34:10.964] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 13:34:10.971] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 13:34:10.983] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 13:34:10.987] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:34:10.988] [INFO] dateFileLog - param tid=489
[2015-08-29 13:34:10.988] [INFO] dateFileLog - param chattype=single
[2015-08-29 13:34:10.989] [INFO] dateFileLog - param date=
[2015-08-29 13:34:10.989] [INFO] dateFileLog - param page=1
[2015-08-29 13:34:10.990] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:10.993] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:34:10.995] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:34:10.997] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 13:34:10.998] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:34:10.998] [INFO] dateFileLog - param tid=000000489
[2015-08-29 13:34:10.998] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:11.000] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:34:11.014] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:34:11.017] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:34:11.035] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 13:34:11.043] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 13:34:11.187] [INFO] dateFileLog - start transaction...
[2015-08-29 13:34:11.187] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:34:11' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 13:34:11.210] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:34:11' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 13:34:11.341] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 13:34:18.485] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 13:34:18.485] [INFO] dateFileLog - param owner=489
[2015-08-29 13:34:18.485] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:18.511] [INFO] dateFileLog - start transaction...
[2015-08-29 13:34:18.511] [DEBUG] dateFileLog - INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (000000220,'用户名称1','用户名称1',2,16,null)
[2015-08-29 13:34:18.522] [INFO] dateFileLog - excuted INSERT INTO tb_group_userlist (userid, username, usercname, usertype, groupid, jointime) VALUES (000000220,'用户名称1','用户名称1',2,16,null)successfully.
[2015-08-29 13:34:18.824] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 13:34:18.829] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 13:34:19.050] [INFO] dateFileLog - start transaction...
[2015-08-29 13:34:19.050] [DEBUG] dateFileLog - UPDATE tb_userinfo SET groupcount=1 where uid=000000220
[2015-08-29 13:34:19.075] [INFO] dateFileLog - excuted UPDATE tb_userinfo SET groupcount=1 where uid=000000220successfully.
[2015-08-29 13:34:19.377] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 13:34:23.599] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:34:23.599] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:34:23.599] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:23.892] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:34:23.912] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:34:23.927] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:34:23.945] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:34:23.965] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:34:23.967] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:34:23.970] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:34:24.004] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:34:24.007] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 13:34:24.054] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:34:24.135] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:34:24.140] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:34:24.143] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:34:24.145] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:34:24.164] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:34:24.209] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:34:24.209] [INFO] dateFileLog - param uid=220
[2015-08-29 13:34:24.209] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:24.214] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:34:24.217] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:34:24.233] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:34:24.237] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:34:33.577] [INFO] dateFileLog - action / start......
[2015-08-29 13:34:33.577] [INFO] dateFileLog - param uid=220
[2015-08-29 13:34:33.577] [INFO] dateFileLog - param to=16
[2015-08-29 13:34:33.577] [INFO] dateFileLog - param totype=2
[2015-08-29 13:34:33.577] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:33.584] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 13:34:33.607] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:34:33.623] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:34:33.626] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:34:33.628] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:34:33.694] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:34:33.707] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:34:33.711] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:34:33.713] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:34:33.718] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:34:33.743] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:34:33.797] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:34:33.797] [INFO] dateFileLog - param to=16
[2015-08-29 13:34:33.797] [INFO] dateFileLog - param totype=2
[2015-08-29 13:34:33.797] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:33.800] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:34:33.812] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:34:33.828] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:34:33.860] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:34:33.869] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:34:33.869] [INFO] dateFileLog - param tid=16
[2015-08-29 13:34:33.869] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:34:33.869] [INFO] dateFileLog - param date=
[2015-08-29 13:34:33.870] [INFO] dateFileLog - param page=1
[2015-08-29 13:34:33.870] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:33.873] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:34:33.881] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:34:33.881] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:34:33.892] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:34:33.912] [DEBUG] dateFileLog - GET /images/butn.jpg
[2015-08-29 13:34:36.226] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 13:34:36.226] [INFO] dateFileLog - param gid=16
[2015-08-29 13:34:36.226] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:34:36.226] [INFO] dateFileLog - param totype=2
[2015-08-29 13:34:36.226] [INFO] dateFileLog - param usertype=2
[2015-08-29 13:34:36.226] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:36.236] [DEBUG] dateFileLog - GET /getGroupMembers?gid=16&uid=000000220&totype=2&usertype=2
[2015-08-29 13:34:36.264] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:34:36.281] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:34:36.286] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:34:36.288] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:34:36.303] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:34:36.390] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 13:34:36.406] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:34:36.413] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:34:36.419] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:34:36.422] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:34:36.437] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:34:53.576] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:34:53.577] [INFO] dateFileLog - action / start......
[2015-08-29 13:34:53.577] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:34:53.577] [INFO] dateFileLog - param to=000000489
[2015-08-29 13:34:53.577] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:53.581] [DEBUG] dateFileLog - GET /?uid=000000220&to=000000489
[2015-08-29 13:34:53.616] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:34:53.618] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:34:53.620] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:34:53.694] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:34:53.724] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:34:53.732] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:34:53.734] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:34:53.738] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:34:53.741] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:34:53.803] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 13:34:53.804] [INFO] dateFileLog - param to=000000489
[2015-08-29 13:34:53.804] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:53.807] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:34:53.822] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:34:53.835] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T03:23:09.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 13:34:53.841] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 13:34:53.847] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 13:34:53.859] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 13:34:53.860] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:34:53.860] [INFO] dateFileLog - param tid=489
[2015-08-29 13:34:53.860] [INFO] dateFileLog - param chattype=single
[2015-08-29 13:34:53.860] [INFO] dateFileLog - param date=
[2015-08-29 13:34:53.860] [INFO] dateFileLog - param page=1
[2015-08-29 13:34:53.861] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:53.863] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:34:53.865] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:34:53.867] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 13:34:53.868] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:34:53.868] [INFO] dateFileLog - param tid=000000489
[2015-08-29 13:34:53.868] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:53.870] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:34:53.882] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:34:53.884] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:34:53.899] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 13:34:53.907] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 13:34:53.994] [INFO] dateFileLog - start transaction...
[2015-08-29 13:34:53.994] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:34:53' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 13:34:54.005] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:34:53' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 13:34:54.401] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 13:34:58.161] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:34:58.161] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:34:58.161] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:58.814] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:34:58.836] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:34:58.865] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:34:58.875] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:34:58.925] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:34:58.927] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:34:58.930] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:34:58.970] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:34:58.989] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:34:59.068] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:34:59.071] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:34:59.076] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:34:59.078] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:34:59.093] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:34:59.143] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:34:59.143] [INFO] dateFileLog - param uid=220
[2015-08-29 13:34:59.143] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:34:59.150] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:34:59.152] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:34:59.165] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:34:59.170] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:35:00.311] [INFO] dateFileLog - action / start......
[2015-08-29 13:35:00.311] [INFO] dateFileLog - param uid=220
[2015-08-29 13:35:00.311] [INFO] dateFileLog - param to=16
[2015-08-29 13:35:00.311] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:00.311] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:00.320] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 13:35:00.345] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:35:00.369] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:35:00.372] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:35:00.374] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:35:00.441] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:35:00.456] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:35:00.463] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:35:00.471] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:35:00.473] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:35:00.490] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:35:00.539] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:35:00.540] [INFO] dateFileLog - param to=16
[2015-08-29 13:35:00.540] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:00.540] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:00.545] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:35:00.551] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:35:00.572] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:35:00.578] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:35:00.587] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:35:00.589] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:35:00.589] [INFO] dateFileLog - param tid=16
[2015-08-29 13:35:00.590] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:35:00.590] [INFO] dateFileLog - param date=
[2015-08-29 13:35:00.590] [INFO] dateFileLog - param page=1
[2015-08-29 13:35:00.590] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:00.592] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:35:00.593] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:35:00.606] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:35:01.759] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 13:35:01.759] [INFO] dateFileLog - param gid=16
[2015-08-29 13:35:01.759] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:35:01.759] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:01.759] [INFO] dateFileLog - param usertype=2
[2015-08-29 13:35:01.759] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:01.796] [DEBUG] dateFileLog - GET /getGroupMembers?gid=16&uid=000000220&totype=2&usertype=2
[2015-08-29 13:35:01.807] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:35:01.820] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:35:01.829] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:35:01.849] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:35:01.877] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:35:01.892] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 13:35:01.908] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:35:01.912] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:35:01.923] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:35:01.927] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:35:01.940] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:35:08.734] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:35:08.735] [INFO] dateFileLog - action / start......
[2015-08-29 13:35:08.735] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:35:08.735] [INFO] dateFileLog - param to=000000489
[2015-08-29 13:35:08.735] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:08.759] [DEBUG] dateFileLog - GET /?uid=000000220&to=000000489
[2015-08-29 13:35:08.778] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:35:08.789] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:35:08.792] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:35:08.829] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:35:08.854] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:35:08.858] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:35:08.861] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:35:08.865] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:35:08.887] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:35:08.934] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 13:35:08.934] [INFO] dateFileLog - param to=000000489
[2015-08-29 13:35:08.935] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:08.939] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:35:08.946] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:35:08.965] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T03:23:09.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 13:35:08.969] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 13:35:08.977] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 13:35:08.984] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 13:35:08.986] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:35:08.986] [INFO] dateFileLog - param tid=489
[2015-08-29 13:35:08.986] [INFO] dateFileLog - param chattype=single
[2015-08-29 13:35:08.986] [INFO] dateFileLog - param date=
[2015-08-29 13:35:08.986] [INFO] dateFileLog - param page=1
[2015-08-29 13:35:08.986] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:08.988] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:35:08.989] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:35:08.992] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 13:35:08.993] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:35:08.993] [INFO] dateFileLog - param tid=000000489
[2015-08-29 13:35:08.993] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:08.994] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:35:09.003] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:35:09.010] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:35:09.032] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 13:35:09.043] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 13:35:09.073] [INFO] dateFileLog - start transaction...
[2015-08-29 13:35:09.074] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:35:09' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 13:35:09.085] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:35:09' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 13:35:09.455] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 13:35:38.161] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:35:38.161] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:35:38.161] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:38.499] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:35:38.813] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:35:38.837] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:35:38.872] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:35:38.891] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:35:38.900] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:35:38.902] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:35:38.943] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:35:38.955] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:35:39.040] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:35:39.046] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:35:39.050] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:35:39.053] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:35:39.068] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:35:39.113] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:35:39.114] [INFO] dateFileLog - param uid=220
[2015-08-29 13:35:39.114] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:39.119] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:35:39.123] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:35:39.137] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:35:39.139] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:35:41.545] [INFO] dateFileLog - action / start......
[2015-08-29 13:35:41.545] [INFO] dateFileLog - param uid=220
[2015-08-29 13:35:41.545] [INFO] dateFileLog - param to=16
[2015-08-29 13:35:41.546] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:41.546] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:41.549] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 13:35:41.559] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:35:41.584] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:35:41.586] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:35:41.588] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:35:41.659] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:35:41.677] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:35:41.680] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:35:41.687] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:35:41.689] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:35:41.704] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:35:41.748] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:35:41.749] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:35:41.749] [INFO] dateFileLog - param to=16
[2015-08-29 13:35:41.749] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:41.750] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:41.777] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:35:41.805] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:35:41.812] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:35:41.822] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:35:41.825] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:35:41.825] [INFO] dateFileLog - param tid=16
[2015-08-29 13:35:41.825] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:35:41.825] [INFO] dateFileLog - param date=
[2015-08-29 13:35:41.825] [INFO] dateFileLog - param page=1
[2015-08-29 13:35:41.825] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:41.828] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:35:41.829] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:35:41.842] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:35:43.594] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:35:43.594] [INFO] dateFileLog - param tid=16
[2015-08-29 13:35:43.594] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:35:43.594] [INFO] dateFileLog - param date=
[2015-08-29 13:35:43.594] [INFO] dateFileLog - param page=NaN
[2015-08-29 13:35:43.594] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:43.598] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:35:46.432] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 13:35:46.433] [INFO] dateFileLog - param gid=16
[2015-08-29 13:35:46.433] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:35:46.433] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:46.433] [INFO] dateFileLog - param usertype=2
[2015-08-29 13:35:46.433] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:46.441] [DEBUG] dateFileLog - GET /getGroupMembers?gid=16&uid=000000220&totype=2&usertype=2
[2015-08-29 13:35:46.470] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:35:46.488] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:35:46.494] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:35:46.497] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:35:46.503] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:35:46.558] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 13:35:46.577] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:35:46.582] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:35:46.590] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:35:46.592] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:35:46.606] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:35:48.439] [INFO] dateFileLog - action / start......
[2015-08-29 13:35:48.439] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:35:48.439] [INFO] dateFileLog - param to=16
[2015-08-29 13:35:48.439] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:48.439] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:48.447] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:35:48.453] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 13:35:48.513] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:35:48.516] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:35:48.519] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:35:48.557] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:35:48.589] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:35:48.591] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:35:48.595] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:35:48.597] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:35:48.618] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:35:48.667] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:35:48.667] [INFO] dateFileLog - param to=16
[2015-08-29 13:35:48.667] [INFO] dateFileLog - param totype=2
[2015-08-29 13:35:48.667] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:48.675] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:35:48.691] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:35:48.707] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:35:48.713] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:35:48.721] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:35:48.723] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:35:48.723] [INFO] dateFileLog - param tid=16
[2015-08-29 13:35:48.723] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:35:48.723] [INFO] dateFileLog - param date=
[2015-08-29 13:35:48.723] [INFO] dateFileLog - param page=1
[2015-08-29 13:35:48.723] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:35:48.725] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:35:48.727] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:35:48.736] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:35:55.910] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 13:35:55.923] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 13:35:55.927] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 13:35:55.932] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 13:35:55.935] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 13:35:55.937] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 13:35:55.938] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 13:35:55.983] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 13:35:55.986] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 13:35:55.990] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 13:35:55.993] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 13:35:55.999] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 13:35:56.002] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 13:35:56.005] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 13:35:56.015] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 13:35:56.020] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 13:35:59.105] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 13:35:59.118] [INFO] dateFileLog - msgdata/16/2015-08-29/1.json
[2015-08-29 13:35:59.125] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 13:35:59.128] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 13:35:59.128] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"}
[2015-08-29 13:36:56.943] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:36:57.031] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 13:36:57.048] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:36:57.074] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:36:57.092] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:36:57.096] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:36:57.100] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:36:59.026] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:36:59.027] [INFO] dateFileLog - action / start......
[2015-08-29 13:36:59.027] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:36:59.027] [INFO] dateFileLog - param to=16
[2015-08-29 13:36:59.027] [INFO] dateFileLog - param totype=2
[2015-08-29 13:36:59.027] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:36:59.037] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 13:36:59.094] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:36:59.096] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:36:59.098] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:36:59.152] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:36:59.174] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:36:59.181] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:36:59.184] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:36:59.187] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:36:59.204] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:36:59.252] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:36:59.253] [INFO] dateFileLog - param to=16
[2015-08-29 13:36:59.253] [INFO] dateFileLog - param totype=2
[2015-08-29 13:36:59.253] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:36:59.258] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:36:59.266] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:36:59.283] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:36:59.290] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:36:59.300] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:36:59.302] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:36:59.302] [INFO] dateFileLog - param tid=16
[2015-08-29 13:36:59.303] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:36:59.303] [INFO] dateFileLog - param date=
[2015-08-29 13:36:59.303] [INFO] dateFileLog - param page=1
[2015-08-29 13:36:59.303] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:36:59.304] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},
[2015-08-29 13:36:59.307] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:36:59.307] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:36:59.319] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:36:59.338] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 13:36:59.343] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 13:37:02.553] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 13:37:02.563] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 13:37:02.565] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 13:37:02.566] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 13:37:02.573] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 13:37:02.577] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 13:37:02.581] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 13:37:02.591] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 13:37:02.596] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 13:37:02.600] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 13:37:02.602] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 13:37:02.604] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 13:37:02.606] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 13:37:02.610] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 13:37:02.614] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 13:37:05.681] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 13:37:05.695] [INFO] dateFileLog - msgdata/16/2015-08-29/1.json
[2015-08-29 13:37:05.696] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"}
[2015-08-29 13:37:15.497] [INFO] dateFileLog - msgdata/16/2015-08-29/1.json
[2015-08-29 13:37:15.498] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"}
[2015-08-29 13:38:56.718] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:38:56.718] [INFO] dateFileLog - param tid=16
[2015-08-29 13:38:56.718] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:38:56.718] [INFO] dateFileLog - param date=
[2015-08-29 13:38:56.718] [INFO] dateFileLog - param page=NaN
[2015-08-29 13:38:56.718] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:38:56.728] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:38:57.497] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:38:57.497] [INFO] dateFileLog - param tid=16
[2015-08-29 13:38:57.497] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:38:57.497] [INFO] dateFileLog - param date=
[2015-08-29 13:38:57.497] [INFO] dateFileLog - param page=NaN
[2015-08-29 13:38:57.497] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:38:57.499] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:42:21.109] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 13:42:21.140] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 13:42:21.725] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 13:42:21.986] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 13:45:35.365] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:45:35.366] [INFO] dateFileLog - param tid=16
[2015-08-29 13:45:35.366] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:45:35.366] [INFO] dateFileLog - param date=
[2015-08-29 13:45:35.366] [INFO] dateFileLog - param page=NaN
[2015-08-29 13:45:35.366] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:45:35.370] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:45:40.212] [INFO] dateFileLog - msgdata/16/2015-08-29/1.json
[2015-08-29 13:45:40.213] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"}
[2015-08-29 13:45:43.868] [INFO] dateFileLog - msgdata/16/2015-08-29/1.json
[2015-08-29 13:45:43.869] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "}
[2015-08-29 13:46:14.994] [INFO] dateFileLog - action / start......
[2015-08-29 13:46:14.994] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:46:14.994] [INFO] dateFileLog - param to=16
[2015-08-29 13:46:14.994] [INFO] dateFileLog - param totype=2
[2015-08-29 13:46:14.994] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:46:15.001] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 13:46:15.034] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:46:15.060] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:46:15.068] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:46:15.078] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:46:15.123] [DEBUG] dateFileLog - GET /favicon.ico
[2015-08-29 13:46:15.132] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:46:15.148] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:46:15.150] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:46:15.158] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:46:15.164] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:46:15.185] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:46:15.244] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:46:15.245] [INFO] dateFileLog - param to=16
[2015-08-29 13:46:15.245] [INFO] dateFileLog - param totype=2
[2015-08-29 13:46:15.245] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:46:15.250] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:46:15.268] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:46:15.397] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:46:15.404] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:46:15.412] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:46:15.413] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:46:15.413] [INFO] dateFileLog - param tid=16
[2015-08-29 13:46:15.413] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:46:15.413] [INFO] dateFileLog - param date=
[2015-08-29 13:46:15.413] [INFO] dateFileLog - param page=1
[2015-08-29 13:46:15.413] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:46:15.414] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 13:46:15.417] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:46:15.418] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:46:15.433] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:46:15.442] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 13:46:15.446] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 13:46:15.460] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 13:46:15.464] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 13:46:15.466] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 13:46:18.191] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 13:46:18.211] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 13:46:18.222] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 13:46:18.223] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 13:46:18.225] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 13:46:18.228] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 13:46:18.233] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 13:46:18.239] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 13:46:18.243] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 13:46:18.244] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 13:46:18.246] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 13:46:18.248] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 13:47:54.519] [INFO] dateFileLog - action / start......
[2015-08-29 13:47:54.519] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:47:54.519] [INFO] dateFileLog - param to=16
[2015-08-29 13:47:54.519] [INFO] dateFileLog - param totype=2
[2015-08-29 13:47:54.519] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:47:54.528] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 13:47:54.555] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:47:54.586] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:47:54.593] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:47:54.600] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:47:54.642] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:47:54.657] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:47:54.664] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:47:54.672] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:47:54.677] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:47:54.688] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:47:54.738] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:47:54.739] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:47:54.739] [INFO] dateFileLog - param to=16
[2015-08-29 13:47:54.739] [INFO] dateFileLog - param totype=2
[2015-08-29 13:47:54.739] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:47:54.766] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:47:54.781] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:47:54.787] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:47:54.795] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:47:54.798] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:47:54.798] [INFO] dateFileLog - param tid=16
[2015-08-29 13:47:54.798] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:47:54.798] [INFO] dateFileLog - param date=
[2015-08-29 13:47:54.798] [INFO] dateFileLog - param page=1
[2015-08-29 13:47:54.798] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:47:54.799] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 13:47:54.801] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:47:54.802] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:47:54.822] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:47:54.831] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 13:47:54.834] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 13:47:54.837] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 13:47:54.841] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 13:47:54.848] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 13:48:00.045] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:48:00.045] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:48:00.045] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:00.063] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:48:00.090] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:48:00.112] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:48:00.150] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:48:00.172] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:48:00.175] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:48:00.178] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:48:00.220] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:48:00.235] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:48:00.298] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:48:00.301] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:48:00.305] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:48:00.308] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:48:00.323] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:48:00.377] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:48:00.377] [INFO] dateFileLog - param uid=220
[2015-08-29 13:48:00.377] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:00.380] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:48:00.383] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:48:00.406] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:48:00.410] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:48:04.236] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:48:04.236] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:48:04.236] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:04.247] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:48:04.303] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:48:04.322] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:48:04.333] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:48:04.348] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:48:04.352] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:48:04.363] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:48:04.411] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:48:04.435] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:48:04.495] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:48:04.498] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:48:04.502] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:48:04.505] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:48:04.526] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:48:04.579] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:48:04.579] [INFO] dateFileLog - param uid=220
[2015-08-29 13:48:04.579] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:04.581] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:48:04.589] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:48:04.603] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:48:04.606] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:48:11.655] [INFO] dateFileLog - action / start......
[2015-08-29 13:48:11.655] [INFO] dateFileLog - param uid=220
[2015-08-29 13:48:11.656] [INFO] dateFileLog - param to=489
[2015-08-29 13:48:11.656] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:11.693] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 13:48:11.710] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:48:11.735] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:48:11.737] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:48:11.740] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:48:11.790] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:48:11.813] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:48:11.817] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:48:11.819] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:48:11.821] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:48:11.840] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:48:11.883] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 13:48:11.883] [INFO] dateFileLog - param to=489
[2015-08-29 13:48:11.883] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:11.893] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:48:11.893] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 13:48:11.906] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T03:23:09.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 13:48:11.908] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 13:48:11.917] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 13:48:11.927] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 13:48:11.928] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:48:11.929] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:48:11.929] [INFO] dateFileLog - param tid=489
[2015-08-29 13:48:11.929] [INFO] dateFileLog - param chattype=single
[2015-08-29 13:48:11.929] [INFO] dateFileLog - param date=
[2015-08-29 13:48:11.929] [INFO] dateFileLog - param page=1
[2015-08-29 13:48:11.929] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:11.931] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:48:11.933] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 13:48:11.933] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:48:11.933] [INFO] dateFileLog - param tid=000000489
[2015-08-29 13:48:11.933] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:11.934] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:48:11.947] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:48:11.947] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:48:11.964] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 13:48:11.969] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 13:48:12.424] [INFO] dateFileLog - start transaction...
[2015-08-29 13:48:12.424] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:48:11' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 13:48:12.435] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:48:11' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 13:48:12.993] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 13:48:13.486] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:48:13.487] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:48:13.487] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:13.547] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:48:13.581] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:48:13.599] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:48:13.626] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:48:13.646] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:48:13.652] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:48:13.660] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:48:13.702] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:48:13.713] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:48:13.792] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:48:13.795] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:48:13.798] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:48:13.800] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:48:13.815] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:48:13.863] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:48:13.866] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:48:13.866] [INFO] dateFileLog - param uid=220
[2015-08-29 13:48:13.866] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:13.873] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:48:13.886] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:48:13.889] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:48:22.073] [INFO] dateFileLog - action / start......
[2015-08-29 13:48:22.073] [INFO] dateFileLog - param uid=220
[2015-08-29 13:48:22.073] [INFO] dateFileLog - param to=16
[2015-08-29 13:48:22.073] [INFO] dateFileLog - param totype=2
[2015-08-29 13:48:22.073] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:22.084] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 13:48:22.118] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:48:22.139] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:48:22.149] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:48:22.152] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:48:22.199] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:48:22.222] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:48:22.227] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:48:22.231] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:48:22.233] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:48:22.249] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:48:22.292] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 13:48:22.293] [INFO] dateFileLog - param to=16
[2015-08-29 13:48:22.293] [INFO] dateFileLog - param totype=2
[2015-08-29 13:48:22.293] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:22.302] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:48:22.314] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 13:48:22.331] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 13:48:22.337] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 13:48:22.343] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:48:22.345] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:48:22.345] [INFO] dateFileLog - param tid=16
[2015-08-29 13:48:22.345] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 13:48:22.345] [INFO] dateFileLog - param date=
[2015-08-29 13:48:22.345] [INFO] dateFileLog - param page=1
[2015-08-29 13:48:22.346] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:48:22.346] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 13:48:22.348] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:48:22.349] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:48:22.363] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:48:22.371] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 13:48:22.376] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 13:48:22.379] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 13:48:22.383] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 13:48:22.386] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 13:48:24.917] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 13:48:24.935] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 13:48:24.943] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 13:48:24.948] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 13:48:24.951] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 13:48:24.955] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 13:48:24.969] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 13:48:24.974] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 13:48:24.975] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 13:48:24.978] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 13:48:24.979] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 13:48:24.984] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 13:52:21.336] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 13:52:21.362] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 13:52:21.362] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 13:52:21.676] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 13:57:22.383] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 13:57:22.383] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:57:22.383] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:57:22.396] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 13:57:22.442] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 13:57:22.463] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 13:57:22.482] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:57:22.500] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:57:22.503] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:57:22.505] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:57:22.536] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 13:57:22.565] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 13:57:22.636] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:57:22.638] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:57:22.644] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:57:22.645] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:57:22.660] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:57:22.711] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:57:22.713] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 13:57:22.713] [INFO] dateFileLog - param uid=220
[2015-08-29 13:57:22.713] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:57:22.716] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 13:57:22.733] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 13:57:22.736] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:57:25.673] [INFO] dateFileLog - action / start......
[2015-08-29 13:57:25.673] [INFO] dateFileLog - param uid=220
[2015-08-29 13:57:25.673] [INFO] dateFileLog - param to=489
[2015-08-29 13:57:25.673] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:57:25.677] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 13:57:25.686] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 13:57:25.706] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 13:57:25.723] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 13:57:25.726] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 13:57:25.787] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 13:57:25.811] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 13:57:25.813] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 13:57:25.820] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 13:57:25.835] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 13:57:25.839] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 13:57:25.898] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 13:57:25.898] [INFO] dateFileLog - param to=489
[2015-08-29 13:57:25.898] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:57:25.906] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 13:57:25.907] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 13:57:25.921] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T03:23:09.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 13:57:25.924] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 13:57:25.930] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 13:57:25.940] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 13:57:25.943] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 13:57:25.944] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 13:57:25.944] [INFO] dateFileLog - param tid=489
[2015-08-29 13:57:25.944] [INFO] dateFileLog - param chattype=single
[2015-08-29 13:57:25.944] [INFO] dateFileLog - param date=
[2015-08-29 13:57:25.944] [INFO] dateFileLog - param page=1
[2015-08-29 13:57:25.944] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:57:25.946] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 13:57:25.952] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 13:57:25.952] [INFO] dateFileLog - param uid=000000220
[2015-08-29 13:57:25.952] [INFO] dateFileLog - param tid=000000489
[2015-08-29 13:57:25.952] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 13:57:25.953] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 13:57:25.963] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 13:57:26.009] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 13:57:26.025] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 13:57:26.036] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 13:57:26.076] [INFO] dateFileLog - start transaction...
[2015-08-29 13:57:26.076] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:57:26' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 13:57:26.095] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 13:57:26' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 13:57:26.225] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:02:51.102] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Pool.releaseConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:135:10)
    at Pool._removeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:247:8)
    at Pool._purgeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:228:8)
    at Ping.onPing [as _callback] (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:90:12)
    at Ping.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
[2015-08-29 14:02:51.103] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 14:04:16.809] [INFO] dateFileLog - action / start......
[2015-08-29 14:04:16.809] [INFO] dateFileLog - param uid=220
[2015-08-29 14:04:16.809] [INFO] dateFileLog - param to=489
[2015-08-29 14:04:16.809] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:04:16.809] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 14:04:17.244] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"0\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 14:04:18.779] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 14:04:18.986] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 14:04:19.021] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 14:04:19.055] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:04:19.062] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:04:19.076] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:04:19.112] [DEBUG] dateFileLog - GET /favicon.ico
[2015-08-29 14:04:19.129] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:04:19.162] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:04:19.182] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:04:19.200] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:04:19.202] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:04:19.227] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:04:19.286] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:04:19.286] [INFO] dateFileLog - param to=489
[2015-08-29 14:04:19.286] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:04:19.291] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:04:19.390] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:04:19.452] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:04:19.456] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:04:19.475] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:04:19.482] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:04:19.483] [INFO] dateFileLog - param tid=489
[2015-08-29 14:04:19.483] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:04:19.483] [INFO] dateFileLog - param date=
[2015-08-29 14:04:19.483] [INFO] dateFileLog - param page=1
[2015-08-29 14:04:19.483] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:04:19.511] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:04:19.513] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:04:19.513] [INFO] dateFileLog - param uid=000000220
[2015-08-29 14:04:19.513] [INFO] dateFileLog - param tid=000000489
[2015-08-29 14:04:19.513] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:04:19.515] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 14:04:19.544] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 14:04:19.544] [DEBUG] dateFileLog - GET /images/add.jpg
[2015-08-29 14:04:19.554] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:04:19.557] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:04:19.562] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:04:19.596] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 14:04:19.706] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:04:19.902] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 14:04:20.503] [INFO] dateFileLog - start transaction...
[2015-08-29 14:04:20.503] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:04:20' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:04:20.622] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:04:20' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:04:20.851] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:05:00.455] [INFO] dateFileLog - action / start......
[2015-08-29 14:05:00.455] [INFO] dateFileLog - param uid=489
[2015-08-29 14:05:00.455] [INFO] dateFileLog - param to=220
[2015-08-29 14:05:00.455] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:05:00.455] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 14:05:00.663] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 14:05:01.990] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:05:02.094] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 14:05:02.613] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:05:03.019] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:05:03.021] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:05:08.850] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:05:08.851] [DEBUG] dateFileLog - GET /favicon.ico
[2015-08-29 14:05:10.484] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:05:10.485] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:05:10.588] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:05:10.589] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:05:10.696] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:05:15.596] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:05:15.596] [INFO] dateFileLog - param to=220
[2015-08-29 14:05:15.596] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:05:15.599] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:05:15.821] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 14:05:15.916] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:05:15.919] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:05:16.228] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:05:16.665] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:05:16.665] [INFO] dateFileLog - param tid=220
[2015-08-29 14:05:16.665] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:05:16.665] [INFO] dateFileLog - param date=
[2015-08-29 14:05:16.665] [INFO] dateFileLog - param page=1
[2015-08-29 14:05:16.665] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:05:16.667] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:05:16.669] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 14:05:16.677] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:05:16.677] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:05:16.677] [INFO] dateFileLog - param tid=000000220
[2015-08-29 14:05:16.677] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:05:16.839] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:05:16.840] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 14:05:16.852] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 14:05:16.854] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:05:16.902] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:05:17.046] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 14:05:17.048] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:05:17.634] [INFO] dateFileLog - start transaction...
[2015-08-29 14:05:17.634] [DEBUG] dateFileLog - INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES (000000489,'000000220','1', null)
[2015-08-29 14:05:18.010] [INFO] dateFileLog - excuted INSERT INTO tb_contacthistory_list (user, toid, totype, lastchattime) VALUES (000000489,'000000220','1', null)successfully.
[2015-08-29 14:05:18.269] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:05:24.233] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 14:05:25.182] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 14:05:25.183] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:05:25.183] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 14:05:25.192] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 14:05:25.194] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 14:05:25.203] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 14:05:25.640] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 14:05:25.645] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 14:05:26.421] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 14:05:26.918] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 14:05:26.919] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 14:05:26.929] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 14:05:26.938] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 14:05:26.947] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 14:05:28.543] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 14:05:33.733] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 14:05:34.048] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:05:34.050] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"}
[2015-08-29 14:05:34.053] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 14:05:34.060] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 14:05:34.065] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:05:34.066] [INFO] dateFileLog - param uid=220
[2015-08-29 14:05:34.066] [INFO] dateFileLog - param tid=489
[2015-08-29 14:05:34.066] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:05:34.076] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:05:34.078] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:05:34.088] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 14:05:34.089] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:05:35.335] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:05:35.476] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:05:35.586] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 14:05:36.089] [INFO] dateFileLog - start transaction...
[2015-08-29 14:05:36.089] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:05:35' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:05:36.191] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:05:35' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:05:36.281] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:05:40.808] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:05:40.809] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:05:40.809] [INFO] dateFileLog - param uid=220
[2015-08-29 14:05:40.809] [INFO] dateFileLog - param tid=489
[2015-08-29 14:05:40.809] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:05:40.817] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"}
[2015-08-29 14:05:40.825] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 14:05:41.619] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:05:41.724] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:05:41.923] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 14:05:42.335] [INFO] dateFileLog - start transaction...
[2015-08-29 14:05:42.335] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:05:42' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:05:42.537] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:05:42' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:05:42.642] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:05:47.870] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 14:05:47.894] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 14:05:47.899] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 14:05:47.902] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 14:05:47.904] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 14:05:47.906] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 14:05:47.907] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 14:05:47.908] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 14:05:47.910] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 14:05:47.932] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 14:05:47.951] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 14:05:47.954] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 14:05:47.961] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 14:05:47.965] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 14:05:50.046] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 14:05:50.055] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 14:05:50.060] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:05:50.062] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"}
[2015-08-29 14:05:50.632] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 14:05:51.875] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:05:51.875] [INFO] dateFileLog - param uid=489
[2015-08-29 14:05:51.875] [INFO] dateFileLog - param tid=220
[2015-08-29 14:05:51.875] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:05:51.878] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 14:05:53.316] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 14:05:53.394] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:05:53.597] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 14:05:54.006] [INFO] dateFileLog - start transaction...
[2015-08-29 14:05:54.006] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:05:53' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:05:54.214] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:05:53' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:05:54.634] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:07:51.204] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:07:51.206] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "}
[2015-08-29 14:07:51.909] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:07:51.910] [INFO] dateFileLog - param uid=489
[2015-08-29 14:07:51.910] [INFO] dateFileLog - param tid=220
[2015-08-29 14:07:51.910] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:07:53.430] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 14:07:53.511] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:07:53.712] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 14:07:54.428] [INFO] dateFileLog - start transaction...
[2015-08-29 14:07:54.428] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:07:54' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:07:54.637] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:07:54' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:07:55.352] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:12:22.855] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 14:12:23.151] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 14:12:23.435] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 14:12:24.073] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 14:12:25.099] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 14:12:25.302] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 14:14:04.834] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:14:04.834] [INFO] dateFileLog - param uid=000000220
[2015-08-29 14:14:04.834] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:14:05.136] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 14:14:05.420] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 14:14:05.592] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 14:14:05.612] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 14:14:05.630] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:14:05.638] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:14:05.641] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:14:05.695] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 14:14:05.698] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 14:14:05.721] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 14:14:05.780] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:14:05.783] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:14:05.786] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:14:05.789] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:14:05.811] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:14:05.851] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 14:14:05.851] [INFO] dateFileLog - param uid=220
[2015-08-29 14:14:05.851] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:14:05.861] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 14:14:05.862] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:14:05.874] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 14:14:05.885] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 14:15:42.814] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:15:42.814] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:15:42.814] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:15:43.023] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 14:15:43.217] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 14:15:43.312] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 14:15:43.839] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 14:15:43.847] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:15:43.855] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:15:43.866] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:15:44.043] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 14:15:44.044] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 14:15:44.143] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 14:15:44.347] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:15:44.349] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:15:44.350] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:15:44.455] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:15:44.652] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:15:49.975] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:15:50.181] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 14:15:50.181] [INFO] dateFileLog - param uid=489
[2015-08-29 14:15:50.181] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:15:50.183] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 14:15:50.206] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 14:15:50.591] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 14:15:57.038] [INFO] dateFileLog - action / start......
[2015-08-29 14:15:57.038] [INFO] dateFileLog - param uid=489
[2015-08-29 14:15:57.038] [INFO] dateFileLog - param to=15
[2015-08-29 14:15:57.039] [INFO] dateFileLog - param totype=2
[2015-08-29 14:15:57.039] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:15:57.043] [DEBUG] dateFileLog - GET /?uid=489&to=15&totype=2
[2015-08-29 14:15:58.587] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 14:15:58.602] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:15:58.611] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:15:58.612] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:15:59.703] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:16:00.121] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:16:00.122] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:16:00.123] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:16:00.124] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:16:00.791] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:16:01.351] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 14:16:01.351] [INFO] dateFileLog - param to=15
[2015-08-29 14:16:01.351] [INFO] dateFileLog - param totype=2
[2015-08-29 14:16:01.351] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:16:01.353] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:16:01.573] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 15
[2015-08-29 14:16:02.189] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 14:16:02.395] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 14:16:02.546] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:16:02.546] [INFO] dateFileLog - param tid=15
[2015-08-29 14:16:02.546] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 14:16:02.546] [INFO] dateFileLog - param date=
[2015-08-29 14:16:02.546] [INFO] dateFileLog - param page=1
[2015-08-29 14:16:02.546] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:16:02.547] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:16:02.549] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:16:02.784] [DEBUG] dateFileLog - GET /images/butn.jpg
[2015-08-29 14:16:02.802] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 14:16:02.815] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:16:04.341] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 14:16:04.341] [INFO] dateFileLog - param gid=15
[2015-08-29 14:16:04.341] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:16:04.341] [INFO] dateFileLog - param totype=2
[2015-08-29 14:16:04.341] [INFO] dateFileLog - param usertype=3
[2015-08-29 14:16:04.341] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:16:04.347] [DEBUG] dateFileLog - GET /getGroupMembers?gid=15&uid=000000489&totype=2&usertype=3
[2015-08-29 14:16:04.721] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 14:16:04.731] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:16:04.732] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:16:04.733] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:16:05.019] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 14:16:05.020] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 14:16:05.270] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:16:05.271] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:16:05.272] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:16:05.273] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:16:05.474] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:16:28.376] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:16:28.376] [INFO] dateFileLog - action / start......
[2015-08-29 14:16:28.376] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:16:28.376] [INFO] dateFileLog - param to=000000375
[2015-08-29 14:16:28.376] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:16:28.378] [DEBUG] dateFileLog - GET /?uid=000000489&to=000000375
[2015-08-29 14:16:29.617] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:16:29.618] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:16:29.619] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:16:29.912] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:16:30.763] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:16:30.764] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:16:30.765] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:16:30.766] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:16:31.144] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:16:31.870] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:16:31.870] [INFO] dateFileLog - param to=000000375
[2015-08-29 14:16:31.870] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:16:31.872] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:16:32.062] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000375
[2015-08-29 14:16:32.293] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 15,
     uid: '000000375',
     name: '沈娜',
     cname: '沈娜',
     usertype: 1,
     headicon: 'http://anliangfile1.7zhibao.com/www/creditCons/12/2015/08/18/10/071369/1439863303179.JPG',
     groupcount: 1,
     createdate: Fri Aug 28 2015 19:56:16 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:16:32.296] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:16:32.507] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:16:32.987] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:16:32.987] [INFO] dateFileLog - param tid=375
[2015-08-29 14:16:32.987] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:16:32.987] [INFO] dateFileLog - param date=
[2015-08-29 14:16:32.987] [INFO] dateFileLog - param page=1
[2015-08-29 14:16:32.987] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:16:32.989] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:16:32.990] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:16:32.990] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:16:32.990] [INFO] dateFileLog - param tid=000000375
[2015-08-29 14:16:32.990] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:16:32.990] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 14:16:33.005] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:16:33.006] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:16:33.191] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000375
[2015-08-29 14:16:33.266] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:16:33.377] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000375
[2015-08-29 14:16:33.381] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:16:33.595] [INFO] dateFileLog - start transaction...
[2015-08-29 14:16:33.596] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:16:33' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:16:33.673] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:16:33' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:16:33.804] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:16:38.209] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 14:16:38.928] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 14:16:38.929] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:16:38.931] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 14:16:38.933] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 14:16:39.468] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 14:16:39.469] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 14:16:39.470] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 14:16:39.471] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 14:16:39.472] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 14:16:39.474] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 14:16:40.351] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 14:16:40.378] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 14:16:40.379] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 14:16:40.380] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 14:16:40.382] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 14:16:43.740] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 14:16:43.974] [INFO] dateFileLog - msgdata/375/489/2015-08-29/1.json
[2015-08-29 14:16:43.976] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:16:43.977] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 14:16:43","message":"/bsmile"}
[2015-08-29 14:17:32.590] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:17:32.590] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:17:32.590] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:17:32.810] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 14:17:33.400] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 14:17:33.503] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 14:17:34.122] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 14:17:34.130] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:17:34.131] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:17:35.039] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:17:35.040] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 14:17:35.247] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 14:17:36.406] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:17:36.412] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:17:36.413] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:17:36.414] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:17:36.809] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:17:37.218] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 14:17:37.218] [INFO] dateFileLog - param uid=489
[2015-08-29 14:17:37.218] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:17:37.220] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 14:17:37.221] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:17:39.032] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 14:17:39.038] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 14:18:52.452] [INFO] dateFileLog - action / start......
[2015-08-29 14:18:52.452] [INFO] dateFileLog - param uid=489
[2015-08-29 14:18:52.452] [INFO] dateFileLog - param to=375
[2015-08-29 14:18:52.452] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:18:52.454] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 14:18:53.688] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 14:18:53.697] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:18:53.698] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:18:53.700] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:18:53.888] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:18:53.990] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:18:53.991] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:18:53.992] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:18:53.994] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:18:54.195] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:18:54.912] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:18:54.912] [INFO] dateFileLog - param to=375
[2015-08-29 14:18:54.912] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:18:54.914] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:18:55.114] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=375
[2015-08-29 14:18:55.217] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 15,
     uid: '000000375',
     name: '沈娜',
     cname: '沈娜',
     usertype: 1,
     headicon: 'http://anliangfile1.7zhibao.com/www/creditCons/12/2015/08/18/10/071369/1439863303179.JPG',
     groupcount: 1,
     createdate: Fri Aug 28 2015 19:56:16 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:18:55.219] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:18:55.448] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:18:55.838] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:18:55.838] [INFO] dateFileLog - param tid=375
[2015-08-29 14:18:55.839] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:18:55.839] [INFO] dateFileLog - param date=
[2015-08-29 14:18:55.839] [INFO] dateFileLog - param page=1
[2015-08-29 14:18:55.839] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:18:55.841] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:18:55.842] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:18:55.843] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 14:18:55.844] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:16:43","message":"/bsmile"},
[2015-08-29 14:18:55.845] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:18:56.036] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 14:18:56.049] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:18:56.049] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:18:56.049] [INFO] dateFileLog - param tid=000000375
[2015-08-29 14:18:56.049] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:18:56.052] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:18:56.141] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000375
[2015-08-29 14:18:56.243] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:18:56.341] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000375
[2015-08-29 14:18:56.344] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:18:56.346] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:18:56.347] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 14:18:56.752] [INFO] dateFileLog - start transaction...
[2015-08-29 14:18:56.752] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:18:56' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:18:56.957] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:18:56' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:18:57.674] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:18:59.211] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:18:59.211] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:18:59.211] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:18:59.413] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 14:18:59.723] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 14:19:00.138] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 14:19:00.652] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 14:19:00.661] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:19:00.662] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:19:00.750] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:19:00.955] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 14:19:00.957] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 14:19:00.958] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 14:19:01.258] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:19:01.286] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:19:01.287] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:19:01.288] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:19:01.566] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:19:02.286] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 14:19:02.286] [INFO] dateFileLog - param uid=489
[2015-08-29 14:19:02.286] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:19:02.287] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 14:19:02.288] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:19:03.512] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 14:19:03.519] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 14:22:07.748] [INFO] dateFileLog - action / start......
[2015-08-29 14:22:07.748] [INFO] dateFileLog - param uid=220
[2015-08-29 14:22:07.748] [INFO] dateFileLog - param to=489
[2015-08-29 14:22:07.748] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:22:07.754] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 14:22:07.766] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 14:22:07.799] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:22:07.801] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:22:07.809] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:22:07.861] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:22:07.874] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:22:07.878] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:22:07.884] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:22:07.890] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:22:07.906] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:22:07.948] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:22:07.949] [INFO] dateFileLog - param to=489
[2015-08-29 14:22:07.949] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:22:07.953] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:22:08.141] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:22:08.342] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:22:08.345] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:22:08.352] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:22:08.361] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:22:08.365] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:22:08.365] [INFO] dateFileLog - param tid=489
[2015-08-29 14:22:08.365] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:22:08.365] [INFO] dateFileLog - param date=
[2015-08-29 14:22:08.366] [INFO] dateFileLog - param page=1
[2015-08-29 14:22:08.366] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:22:08.372] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:22:08.373] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:22:08.373] [INFO] dateFileLog - param uid=000000220
[2015-08-29 14:22:08.373] [INFO] dateFileLog - param tid=000000489
[2015-08-29 14:22:08.374] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:22:08.379] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 14:22:08.412] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},
[2015-08-29 14:22:08.422] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:22:08.424] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:22:08.437] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:22:08.448] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:22:08.452] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 14:22:08.452] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 14:22:08.462] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 14:22:08.545] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:22:08.594] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 14:22:09.059] [INFO] dateFileLog - start transaction...
[2015-08-29 14:22:09.059] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:22:08' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:22:09.288] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:22:08' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:22:09.483] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:22:21.245] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 14:22:21.561] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 14:22:22.073] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 14:22:22.474] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 14:22:22.881] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 14:22:23.187] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 14:22:41.358] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:22:41.358] [INFO] dateFileLog - param tid=489
[2015-08-29 14:22:41.358] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:22:41.358] [INFO] dateFileLog - param date=
[2015-08-29 14:22:41.358] [INFO] dateFileLog - param page=NaN
[2015-08-29 14:22:41.358] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:22:41.366] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:24:36.606] [INFO] dateFileLog - action / start......
[2015-08-29 14:24:36.606] [INFO] dateFileLog - param uid=220
[2015-08-29 14:24:36.606] [INFO] dateFileLog - param to=489
[2015-08-29 14:24:36.606] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:24:36.611] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 14:24:36.617] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 14:24:36.669] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:24:36.672] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:24:36.676] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:24:36.735] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:24:36.748] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:24:36.754] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:24:36.762] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:24:36.766] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:24:36.790] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:24:36.860] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:24:36.860] [INFO] dateFileLog - param to=489
[2015-08-29 14:24:36.860] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:24:36.872] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:24:37.412] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:24:37.612] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:24:37.621] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:24:37.623] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:24:37.649] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:24:37.651] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:24:37.652] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:24:37.652] [INFO] dateFileLog - param tid=489
[2015-08-29 14:24:37.652] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:24:37.652] [INFO] dateFileLog - param date=
[2015-08-29 14:24:37.652] [INFO] dateFileLog - param page=1
[2015-08-29 14:24:37.652] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:24:37.655] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:24:37.656] [INFO] dateFileLog - param uid=000000220
[2015-08-29 14:24:37.656] [INFO] dateFileLog - param tid=000000489
[2015-08-29 14:24:37.656] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:24:37.656] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 14:24:37.676] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 14:24:37.678] [DEBUG] dateFileLog - GET /images/add.jpg
[2015-08-29 14:24:37.679] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},
[2015-08-29 14:24:37.681] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:24:37.689] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:24:37.713] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:24:37.723] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:24:37.730] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 14:24:37.734] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 14:24:37.738] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 14:24:37.743] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 14:24:37.746] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 14:24:37.954] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:24:38.050] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 14:24:38.562] [INFO] dateFileLog - start transaction...
[2015-08-29 14:24:38.562] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:24:38' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:24:38.668] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:24:38' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:24:38.873] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:26:15.188] [INFO] dateFileLog - action / start......
[2015-08-29 14:26:15.189] [INFO] dateFileLog - param uid=220
[2015-08-29 14:26:15.189] [INFO] dateFileLog - param to=489
[2015-08-29 14:26:15.189] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:26:15.199] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 14:26:15.227] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 14:26:15.249] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:26:15.261] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:26:15.272] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:26:15.304] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:26:15.335] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:26:15.340] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:26:15.345] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:26:15.351] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:26:15.373] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:26:15.413] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:26:15.413] [INFO] dateFileLog - param to=489
[2015-08-29 14:26:15.413] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:26:15.418] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:26:38.167] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:26:38.167] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:26:38.167] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:28:15.420] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:28:15.420] [INFO] dateFileLog - param to=489
[2015-08-29 14:28:15.420] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:29:33.612] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 14:29:35.194] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 14:29:35.652] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 14:29:42.715] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 14:29:43.098] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 14:29:43.405] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 14:29:44.532] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 14:29:51.200] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:29:51.200] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:29:51.200] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:29:51.207] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 14:30:04.828] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:30:04.828] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:30:04.828] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:30:04.831] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 14:30:16.209] [INFO] dateFileLog - action / start......
[2015-08-29 14:30:16.209] [INFO] dateFileLog - param uid=220
[2015-08-29 14:30:16.210] [INFO] dateFileLog - param to=489
[2015-08-29 14:30:16.210] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:30:16.210] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 14:30:16.810] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"0\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 14:30:16.893] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 14:30:17.100] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 14:30:17.129] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:30:17.133] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:30:17.137] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:30:17.411] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:30:17.430] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:30:17.439] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:30:17.443] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:30:17.446] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:30:17.464] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:30:17.526] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:30:17.527] [INFO] dateFileLog - param to=489
[2015-08-29 14:30:17.527] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:30:17.532] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:30:17.812] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:30:18.017] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:30:18.024] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:30:18.031] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:30:18.043] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:30:18.045] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:30:18.051] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:30:18.051] [INFO] dateFileLog - param tid=489
[2015-08-29 14:30:18.051] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:30:18.051] [INFO] dateFileLog - param date=
[2015-08-29 14:30:18.051] [INFO] dateFileLog - param page=1
[2015-08-29 14:30:18.051] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:30:18.054] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},
[2015-08-29 14:30:18.056] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:30:18.058] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:30:18.058] [INFO] dateFileLog - param uid=000000220
[2015-08-29 14:30:18.058] [INFO] dateFileLog - param tid=000000489
[2015-08-29 14:30:18.058] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:30:18.064] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 14:30:18.068] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 14:30:18.079] [DEBUG] dateFileLog - GET /images/add.jpg
[2015-08-29 14:30:18.083] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:30:18.101] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:30:18.110] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:30:18.119] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 14:30:18.123] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 14:30:18.125] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 14:30:18.129] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 14:30:18.216] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 14:30:18.429] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:30:18.634] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 14:30:19.041] [INFO] dateFileLog - start transaction...
[2015-08-29 14:30:19.042] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:30:18' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:30:19.248] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:30:18' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:30:19.350] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:30:22.420] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:30:22.420] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:30:22.421] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:30:22.423] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 14:30:38.545] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 14:30:38.553] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:30:38.567] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"}
[2015-08-29 14:31:32.897] [INFO] dateFileLog - action / start......
[2015-08-29 14:31:32.897] [INFO] dateFileLog - param uid=220
[2015-08-29 14:31:32.897] [INFO] dateFileLog - param to=489
[2015-08-29 14:31:32.897] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:31:32.906] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 14:31:32.912] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 14:31:32.941] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:31:32.945] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:31:32.948] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:31:33.022] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:31:33.036] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:31:33.044] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:31:33.048] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:31:33.053] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:31:33.081] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:31:33.121] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:31:33.121] [INFO] dateFileLog - param to=489
[2015-08-29 14:31:33.121] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:31:33.125] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:31:33.382] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 14:31:33.588] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 14:31:33.591] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 14:31:33.598] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 14:31:33.610] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 14:31:33.617] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 14:31:33.618] [INFO] dateFileLog - param tid=489
[2015-08-29 14:31:33.618] [INFO] dateFileLog - param chattype=single
[2015-08-29 14:31:33.618] [INFO] dateFileLog - param date=
[2015-08-29 14:31:33.618] [INFO] dateFileLog - param page=1
[2015-08-29 14:31:33.618] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:31:33.625] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 14:31:33.629] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 14:31:33.630] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 14:31:33.630] [INFO] dateFileLog - param uid=000000220
[2015-08-29 14:31:33.630] [INFO] dateFileLog - param tid=000000489
[2015-08-29 14:31:33.630] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:31:33.636] [DEBUG] dateFileLog - GET /images/add.jpg
[2015-08-29 14:31:33.637] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 14:31:33.645] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},
[2015-08-29 14:31:33.648] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 14:31:33.657] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 14:31:33.668] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 14:31:33.678] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 14:31:33.681] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 14:31:33.683] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 14:31:33.692] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 14:31:33.694] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 14:31:33.694] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 14:31:33.791] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 14:31:33.898] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 14:31:34.310] [INFO] dateFileLog - start transaction...
[2015-08-29 14:31:34.310] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:31:33' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 14:31:34.515] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 14:31:33' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 14:31:34.612] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 14:31:41.611] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 14:31:41.617] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:31:41.623] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"}
[2015-08-29 14:31:45.249] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:31:45.250] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"}
[2015-08-29 14:31:49.972] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 14:31:49.972] [INFO] dateFileLog - param uid=000000489
[2015-08-29 14:31:49.972] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:31:49.974] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 14:33:23.149] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 14:33:23.155] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""}
[2015-08-29 14:39:33.539] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 14:39:33.843] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 14:39:33.844] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 14:39:34.051] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 14:39:35.309] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 14:39:35.378] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 14:49:33.802] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 14:49:34.112] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 14:49:34.113] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 14:49:34.113] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 14:49:34.113] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 14:49:34.114] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 14:59:28.655] [INFO] dateFileLog - action / start......
[2015-08-29 14:59:28.655] [INFO] dateFileLog - param uid=220
[2015-08-29 14:59:28.655] [INFO] dateFileLog - param to=489
[2015-08-29 14:59:28.655] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 14:59:28.659] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 14:59:28.665] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 14:59:28.687] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 14:59:28.690] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 14:59:28.692] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 14:59:28.764] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 14:59:28.782] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 14:59:28.786] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 14:59:28.790] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 14:59:28.794] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 14:59:28.827] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 14:59:28.867] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 14:59:28.869] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 14:59:28.869] [INFO] dateFileLog - param to=489
[2015-08-29 14:59:28.869] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:00:03.455] [ERROR] dateFileLog - { [Error: Handshake inactivity timeout]
  code: 'PROTOCOL_SEQUENCE_TIMEOUT',
  fatal: true,
  timeout: 10000 }
Error: Handshake inactivity timeout
    at Handshake.<anonymous> (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:154:17)
    at Handshake.emit (events.js:104:17)
    at Handshake._onTimeout (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:116:8)
    at Timer.listOnTimeout (timers.js:110:15)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Pool.releaseConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:135:10)
    at Pool._removeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:247:8)
    at Pool._purgeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:228:8)
    at Ping.onPing [as _callback] (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:90:12)
    at Ping.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
[2015-08-29 15:00:03.456] [INFO] dateFileLog - {"code":"PROTOCOL_SEQUENCE_TIMEOUT","fatal":true,"timeout":10000}
[2015-08-29 15:00:08.883] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Pool.releaseConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:135:10)
    at Pool._removeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:247:8)
    at Pool._purgeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:228:8)
    at Ping.onPing [as _callback] (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:90:12)
    at Ping.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
[2015-08-29 15:00:08.883] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 15:00:08.886] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 15:00:33.057] [INFO] dateFileLog - action / start......
[2015-08-29 15:00:33.057] [INFO] dateFileLog - param uid=220
[2015-08-29 15:00:33.057] [INFO] dateFileLog - param to=489
[2015-08-29 15:00:33.057] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:00:33.057] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 15:01:15.993] [INFO] dateFileLog - action / start......
[2015-08-29 15:01:15.993] [INFO] dateFileLog - param uid=220
[2015-08-29 15:01:15.993] [INFO] dateFileLog - param to=489
[2015-08-29 15:01:15.993] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:01:15.993] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 15:01:16.683] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 15:01:18.517] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 15:01:18.654] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 15:01:18.706] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:01:18.716] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:01:18.730] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:01:19.661] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:01:20.656] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:01:20.661] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:01:20.664] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:01:20.665] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:01:20.683] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:01:20.718] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 15:01:20.718] [INFO] dateFileLog - param to=489
[2015-08-29 15:01:20.719] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:01:20.725] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:01:20.978] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 15:01:21.207] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 15:01:21.217] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 15:01:21.220] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 15:01:21.230] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 15:01:21.231] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:01:21.231] [INFO] dateFileLog - param tid=489
[2015-08-29 15:01:21.231] [INFO] dateFileLog - param chattype=single
[2015-08-29 15:01:21.231] [INFO] dateFileLog - param date=
[2015-08-29 15:01:21.231] [INFO] dateFileLog - param page=1
[2015-08-29 15:01:21.231] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:01:21.236] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:01:21.237] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 15:01:21.237] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:01:21.237] [INFO] dateFileLog - param tid=000000489
[2015-08-29 15:01:21.238] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:01:21.238] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},
[2015-08-29 15:01:21.240] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:01:21.255] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:01:21.266] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:01:21.272] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 15:01:21.273] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 15:01:21.275] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 15:01:21.603] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 15:01:21.655] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:01:22.862] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 15:01:24.370] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 15:01:26.123] [INFO] dateFileLog - start transaction...
[2015-08-29 15:01:26.123] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:01:25' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 15:01:26.405] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:01:25' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 15:01:26.508] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 15:03:54.389] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 15:03:54.407] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 15:03:54.408] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 15:03:54.409] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 15:03:54.410] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 15:03:54.411] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 15:03:54.412] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 15:03:54.431] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 15:03:54.463] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 15:03:54.479] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 15:03:54.481] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 15:03:54.513] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 15:03:54.531] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 15:03:56.767] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 15:03:56.773] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 15:03:56.779] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"}
[2015-08-29 15:05:28.474] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:09:33.936] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 15:09:34.194] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 15:09:34.467] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 15:09:34.524] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 15:09:34.742] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 15:09:34.834] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 15:19:33.490] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 15:19:33.517] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 15:19:33.517] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 15:19:33.518] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 15:19:33.518] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 15:19:33.519] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 15:29:34.135] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 15:29:34.181] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 15:29:34.417] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 15:29:34.458] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 15:29:34.664] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 15:29:34.898] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 15:39:34.737] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 15:39:35.062] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 15:39:36.063] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 15:39:41.640] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:39:41.640] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:39:41.641] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:39:41.647] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:39:41.797] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 15:39:42.741] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 15:39:43.766] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 15:39:46.359] [INFO] dateFileLog - action / start......
[2015-08-29 15:39:46.359] [INFO] dateFileLog - param uid=220
[2015-08-29 15:39:46.359] [INFO] dateFileLog - param to=489
[2015-08-29 15:39:46.360] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:39:46.360] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 15:39:46.745] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 15:39:46.815] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 15:39:47.094] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 15:39:47.118] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:39:47.182] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:39:47.195] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:39:47.359] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:39:47.490] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:39:47.504] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:39:47.519] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:39:47.525] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:39:47.617] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:39:47.807] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:39:47.813] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 15:39:47.813] [INFO] dateFileLog - param to=489
[2015-08-29 15:39:47.814] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:39:48.042] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 15:39:48.251] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 15:39:48.258] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 15:39:48.288] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 15:39:48.338] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 15:39:48.344] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:39:48.345] [INFO] dateFileLog - param tid=489
[2015-08-29 15:39:48.345] [INFO] dateFileLog - param chattype=single
[2015-08-29 15:39:48.345] [INFO] dateFileLog - param date=
[2015-08-29 15:39:48.345] [INFO] dateFileLog - param page=1
[2015-08-29 15:39:48.346] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:39:48.351] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},
[2015-08-29 15:39:48.369] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:39:48.387] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:39:48.390] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 15:39:48.390] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:39:48.391] [INFO] dateFileLog - param tid=000000489
[2015-08-29 15:39:48.394] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:39:48.400] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:39:48.501] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:39:48.503] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 15:39:48.554] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:39:48.563] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 15:39:48.578] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 15:39:48.604] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 15:39:48.691] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 15:39:48.868] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 15:39:49.262] [INFO] dateFileLog - start transaction...
[2015-08-29 15:39:49.263] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:39:48' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 15:39:49.433] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:39:48' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 15:39:49.583] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 15:42:31.789] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:42:31.789] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:42:31.789] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:42:31.798] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:43:16.324] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 15:43:16.421] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 15:43:16.437] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 15:43:16.460] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 15:43:16.471] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 15:43:16.476] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 15:43:16.505] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 15:43:16.510] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 15:43:16.522] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 15:43:16.534] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 15:43:16.545] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 15:43:16.550] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 15:43:16.559] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 15:43:19.331] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 15:43:19.353] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 15:43:19.359] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"}
[2015-08-29 15:43:20.276] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 15:43:20.280] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""}
[2015-08-29 15:45:33.931] [INFO] dateFileLog - action / start......
[2015-08-29 15:45:33.931] [INFO] dateFileLog - param uid=220
[2015-08-29 15:45:33.932] [INFO] dateFileLog - param to=489
[2015-08-29 15:45:33.932] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:45:34.019] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 15:45:34.066] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:45:34.086] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:45:34.140] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:45:34.154] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:45:34.390] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:45:34.438] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:45:34.492] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:45:34.515] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:45:34.523] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:45:34.568] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:45:34.781] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:45:34.798] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 15:45:34.799] [INFO] dateFileLog - param to=489
[2015-08-29 15:45:34.799] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:45:35.136] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 15:45:35.369] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 15:45:35.395] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 15:45:35.407] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 15:45:35.440] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 15:45:35.453] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:45:35.459] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:45:35.459] [INFO] dateFileLog - param tid=489
[2015-08-29 15:45:35.459] [INFO] dateFileLog - param chattype=single
[2015-08-29 15:45:35.460] [INFO] dateFileLog - param date=
[2015-08-29 15:45:35.460] [INFO] dateFileLog - param page=1
[2015-08-29 15:45:35.460] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:45:35.465] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},
[2015-08-29 15:45:35.471] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:45:35.481] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 15:45:35.482] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:45:35.482] [INFO] dateFileLog - param tid=000000489
[2015-08-29 15:45:35.483] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:45:35.487] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:45:35.541] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:45:35.588] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:45:35.597] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 15:45:35.607] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 15:45:35.619] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 15:45:35.791] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 15:45:36.017] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 15:45:36.404] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 15:45:36.882] [INFO] dateFileLog - start transaction...
[2015-08-29 15:45:36.882] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:45:36' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 15:45:37.020] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:45:36' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 15:45:37.275] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 15:47:48.851] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:47:48.853] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:47:48.853] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:47:48.864] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:47:53.109] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:47:53.110] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:47:53.110] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:47:53.115] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:48:48.405] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:48:48.406] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:48:48.406] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:48:48.411] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:49:33.878] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 15:49:34.183] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 15:49:34.187] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 15:49:34.188] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 15:49:36.248] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 15:49:36.529] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 15:50:04.291] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:50:04.292] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:50:04.292] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:50:04.297] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:51:09.281] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:51:09.282] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:51:09.282] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:51:15.560] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 15:51:15.860] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 15:51:16.270] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 15:51:16.378] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:51:16.454] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:51:16.465] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:51:16.474] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:51:16.567] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 15:51:16.581] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 15:51:16.736] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 15:51:17.753] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:51:17.767] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:51:17.775] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:51:17.781] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:51:17.838] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:51:17.985] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 15:51:17.986] [INFO] dateFileLog - param uid=220
[2015-08-29 15:51:17.986] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:51:18.002] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 15:51:18.012] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:51:18.127] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 15:51:18.142] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:51:23.542] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:51:23.543] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:51:23.543] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:51:23.547] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:52:01.638] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:52:01.638] [INFO] dateFileLog - param uid=489
[2015-08-29 15:52:01.639] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:01.644] [DEBUG] dateFileLog - GET /getHistoryList?uid=489
[2015-08-29 15:52:32.631] [INFO] dateFileLog - action / start......
[2015-08-29 15:52:32.632] [INFO] dateFileLog - param uid=220
[2015-08-29 15:52:32.632] [INFO] dateFileLog - param to=16
[2015-08-29 15:52:32.632] [INFO] dateFileLog - param totype=2
[2015-08-29 15:52:32.632] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:32.665] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 15:52:32.753] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:52:32.819] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:52:32.848] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:52:32.853] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:52:33.107] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:52:33.156] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:52:33.173] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:52:33.180] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:52:33.198] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:52:33.291] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:52:33.457] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:52:33.462] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 15:52:33.462] [INFO] dateFileLog - param to=16
[2015-08-29 15:52:33.463] [INFO] dateFileLog - param totype=2
[2015-08-29 15:52:33.463] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:33.590] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 15:52:33.794] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 15:52:33.835] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 15:52:33.875] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:52:33.879] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:52:33.879] [INFO] dateFileLog - param tid=16
[2015-08-29 15:52:33.879] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 15:52:33.880] [INFO] dateFileLog - param date=
[2015-08-29 15:52:33.880] [INFO] dateFileLog - param page=1
[2015-08-29 15:52:33.880] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:33.888] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 15:52:33.897] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:52:33.903] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:52:33.951] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:52:33.981] [DEBUG] dateFileLog - GET /images/butn.jpg
[2015-08-29 15:52:34.005] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:52:34.038] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 15:52:34.062] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 15:52:34.080] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 15:52:34.102] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 15:52:35.063] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 15:52:35.063] [INFO] dateFileLog - param gid=16
[2015-08-29 15:52:35.064] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:52:35.064] [INFO] dateFileLog - param totype=2
[2015-08-29 15:52:35.064] [INFO] dateFileLog - param usertype=2
[2015-08-29 15:52:35.064] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:35.091] [DEBUG] dateFileLog - GET /getGroupMembers?gid=16&uid=000000220&totype=2&usertype=2
[2015-08-29 15:52:35.160] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:52:35.225] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:52:35.239] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:52:35.266] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 15:52:35.276] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:52:35.612] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 15:52:35.635] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:52:35.651] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:52:35.668] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:52:35.688] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:52:35.762] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:52:38.073] [INFO] dateFileLog - action / start......
[2015-08-29 15:52:38.073] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:52:38.073] [INFO] dateFileLog - param to=16
[2015-08-29 15:52:38.074] [INFO] dateFileLog - param totype=2
[2015-08-29 15:52:38.074] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:38.088] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:52:38.099] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 15:52:38.230] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:52:38.240] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:52:38.249] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:52:38.496] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:52:38.553] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:52:38.577] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:52:38.588] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:52:38.629] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:52:38.716] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:52:38.949] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:52:38.954] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 15:52:38.954] [INFO] dateFileLog - param to=16
[2015-08-29 15:52:38.955] [INFO] dateFileLog - param totype=2
[2015-08-29 15:52:38.955] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:39.118] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 15:52:39.239] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 15:52:39.273] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 15:52:39.307] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:52:39.313] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:52:39.313] [INFO] dateFileLog - param tid=16
[2015-08-29 15:52:39.314] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 15:52:39.314] [INFO] dateFileLog - param date=
[2015-08-29 15:52:39.314] [INFO] dateFileLog - param page=1
[2015-08-29 15:52:39.315] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:52:39.321] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 15:52:39.337] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:52:39.338] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:52:39.385] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:52:39.446] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:52:39.463] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 15:52:39.472] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 15:52:39.486] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 15:52:39.496] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 15:52:40.888] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:52:40.889] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:52:40.889] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:53:12.390] [INFO] dateFileLog - action / start......
[2015-08-29 15:53:12.390] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:53:12.391] [INFO] dateFileLog - param to=16
[2015-08-29 15:53:12.391] [INFO] dateFileLog - param totype=2
[2015-08-29 15:53:12.391] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:53:12.418] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 15:53:12.483] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:53:12.521] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:53:12.531] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:53:12.539] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:53:12.803] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:53:12.845] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:53:12.865] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:53:12.872] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:53:12.881] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:53:12.932] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:53:13.063] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:53:13.067] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 15:53:13.068] [INFO] dateFileLog - param to=16
[2015-08-29 15:53:13.068] [INFO] dateFileLog - param totype=2
[2015-08-29 15:53:13.069] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:53:18.280] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 15:53:18.301] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 15:53:18.477] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 15:53:18.511] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 15:53:18.538] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:53:18.538] [INFO] dateFileLog - param tid=16
[2015-08-29 15:53:18.538] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 15:53:18.538] [INFO] dateFileLog - param date=
[2015-08-29 15:53:18.539] [INFO] dateFileLog - param page=1
[2015-08-29 15:53:18.539] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:53:18.549] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:53:18.550] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:53:18.568] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 15:53:18.604] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:53:18.615] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:53:18.644] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 15:53:18.656] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:53:18.663] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 15:53:18.687] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 15:53:18.712] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 15:53:18.744] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 15:53:22.630] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:53:22.630] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:53:22.630] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:53:27.959] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 15:53:28.367] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 15:53:28.601] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 15:53:28.684] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:53:28.747] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:53:28.756] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:53:28.767] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:53:28.875] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 15:53:29.752] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 15:53:30.063] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:53:30.102] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:53:30.108] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:53:30.120] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:53:30.216] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:53:30.457] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:53:30.467] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 15:53:30.468] [INFO] dateFileLog - param uid=220
[2015-08-29 15:53:30.468] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:53:30.488] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 15:53:30.537] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 15:53:30.544] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:53:33.592] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:53:33.593] [INFO] dateFileLog - param uid=489
[2015-08-29 15:53:33.593] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:53:33.596] [DEBUG] dateFileLog - GET /getHistoryList?uid=489
[2015-08-29 15:54:39.371] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:54:39.372] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:54:39.372] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:54:44.729] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 15:54:45.196] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 15:54:45.418] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 15:54:45.505] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:54:45.559] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:54:45.569] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:54:45.584] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:54:45.717] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 15:54:45.768] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 15:54:46.530] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:54:46.563] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:54:46.603] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:54:46.641] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:54:46.702] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:54:46.892] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:54:46.901] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 15:54:46.902] [INFO] dateFileLog - param uid=220
[2015-08-29 15:54:46.902] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:54:46.916] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 15:54:46.988] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 15:54:47.002] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:54:54.959] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:54:54.960] [INFO] dateFileLog - param uid=000000220
[2015-08-29 15:54:54.960] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:55:00.733] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 15:55:01.046] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 15:55:01.170] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 15:55:01.313] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 15:55:01.373] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:55:01.389] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:55:01.397] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:55:01.523] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 15:55:01.755] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 15:55:02.320] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:55:02.360] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:55:02.368] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:55:02.388] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:55:02.469] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:55:02.637] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:55:02.642] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 15:55:02.642] [INFO] dateFileLog - param uid=220
[2015-08-29 15:55:02.643] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:55:02.656] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 15:55:02.709] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 15:55:02.724] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 15:55:47.131] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:55:47.132] [INFO] dateFileLog - param uid=489
[2015-08-29 15:55:47.132] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:55:47.141] [DEBUG] dateFileLog - GET /getHistoryList?uid=489
[2015-08-29 15:56:04.017] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:56:04.018] [INFO] dateFileLog - param uid=489
[2015-08-29 15:56:04.018] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:56:04.022] [DEBUG] dateFileLog - GET /getHistoryList?uid=489
[2015-08-29 15:56:12.061] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:56:13.246] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:56:13.250] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:56:13.867] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:56:13.872] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:56:13.877] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:56:14.481] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 15:56:14.481] [INFO] dateFileLog - param to=375
[2015-08-29 15:56:14.482] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:56:14.487] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 15:56:14.491] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:56:24.010] [INFO] dateFileLog - action / start......
[2015-08-29 15:56:24.011] [INFO] dateFileLog - param uid=489
[2015-08-29 15:56:24.011] [INFO] dateFileLog - param to=375
[2015-08-29 15:56:24.011] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:56:24.012] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 15:56:24.313] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 15:56:24.494] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 15:56:24.604] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 15:56:24.837] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:56:24.843] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:56:24.849] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:56:25.833] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:56:26.682] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:56:26.686] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:56:26.691] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:56:26.695] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:56:27.420] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:56:27.892] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 15:56:27.892] [INFO] dateFileLog - param to=375
[2015-08-29 15:56:27.892] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:56:27.898] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:56:28.116] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=375
[2015-08-29 15:56:28.334] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 15,
     uid: '000000375',
     name: '沈娜',
     cname: '沈娜',
     usertype: 1,
     headicon: 'http://anliangfile1.7zhibao.com/www/creditCons/12/2015/08/18/10/071369/1439863303179.JPG',
     groupcount: 1,
     createdate: Fri Aug 28 2015 19:56:16 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 15:56:28.344] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 15:56:28.907] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 15:56:29.381] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:56:29.382] [INFO] dateFileLog - param tid=375
[2015-08-29 15:56:29.382] [INFO] dateFileLog - param chattype=single
[2015-08-29 15:56:29.382] [INFO] dateFileLog - param date=
[2015-08-29 15:56:29.382] [INFO] dateFileLog - param page=1
[2015-08-29 15:56:29.383] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:56:29.387] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 15:56:29.422] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 15:56:29.422] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:56:29.423] [INFO] dateFileLog - param tid=000000375
[2015-08-29 15:56:29.423] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:56:29.436] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 15:56:29.446] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:56:29.451] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 15:56:29.452] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:16:43","message":"/bsmile"},
[2015-08-29 15:56:29.457] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:56:29.582] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000375
[2015-08-29 15:56:29.590] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:56:29.827] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 15:56:29.857] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:56:29.863] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 15:56:29.867] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 15:56:30.027] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000375
[2015-08-29 15:56:30.434] [INFO] dateFileLog - start transaction...
[2015-08-29 15:56:30.435] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:56:30' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 15:56:30.640] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:56:30' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 15:56:30.741] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 15:56:36.580] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 15:56:36.580] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:56:36.580] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:57:00.766] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 15:57:01.356] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 15:57:01.493] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 15:57:01.696] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 15:57:01.745] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:57:01.749] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:57:01.982] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:57:02.087] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 15:57:02.093] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 15:57:02.099] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 15:57:02.292] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:57:02.298] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:57:02.303] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:57:02.307] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:57:03.004] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:57:03.552] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:57:03.611] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 15:57:03.613] [INFO] dateFileLog - param uid=489
[2015-08-29 15:57:03.613] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:57:03.617] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 15:57:04.229] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 15:57:04.246] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 15:59:23.697] [INFO] dateFileLog - action / start......
[2015-08-29 15:59:23.698] [INFO] dateFileLog - param uid=489
[2015-08-29 15:59:23.698] [INFO] dateFileLog - param to=375
[2015-08-29 15:59:23.698] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:59:23.703] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 15:59:24.358] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 15:59:24.380] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 15:59:24.385] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 15:59:24.934] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 15:59:25.137] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 15:59:25.241] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 15:59:25.246] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 15:59:25.252] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 15:59:25.879] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 15:59:25.884] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 15:59:26.500] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 15:59:26.500] [INFO] dateFileLog - param to=375
[2015-08-29 15:59:26.500] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:59:26.505] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 15:59:26.666] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=375
[2015-08-29 15:59:26.770] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 15,
     uid: '000000375',
     name: '沈娜',
     cname: '沈娜',
     usertype: 1,
     headicon: 'http://anliangfile1.7zhibao.com/www/creditCons/12/2015/08/18/10/071369/1439863303179.JPG',
     groupcount: 1,
     createdate: Fri Aug 28 2015 19:56:16 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 15:59:26.776] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 15:59:27.085] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 15:59:27.955] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 15:59:27.955] [INFO] dateFileLog - param tid=375
[2015-08-29 15:59:27.956] [INFO] dateFileLog - param chattype=single
[2015-08-29 15:59:27.956] [INFO] dateFileLog - param date=
[2015-08-29 15:59:27.956] [INFO] dateFileLog - param page=1
[2015-08-29 15:59:27.957] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:59:27.960] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 15:59:27.961] [INFO] dateFileLog - param uid=000000489
[2015-08-29 15:59:27.961] [INFO] dateFileLog - param tid=000000375
[2015-08-29 15:59:27.961] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 15:59:27.967] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 15:59:27.973] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 15:59:27.974] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:16:43","message":"/bsmile"},
[2015-08-29 15:59:27.978] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 15:59:28.133] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000375
[2015-08-29 15:59:28.307] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 15:59:28.532] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 15:59:28.555] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000375
[2015-08-29 15:59:28.563] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 15:59:28.928] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 15:59:28.934] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 15:59:29.225] [INFO] dateFileLog - start transaction...
[2015-08-29 15:59:29.226] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:59:28' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 15:59:29.454] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 15:59:28' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 15:59:29.533] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 15:59:32.917] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 15:59:33.577] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 15:59:33.583] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 15:59:33.588] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 15:59:33.593] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 15:59:34.159] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 15:59:34.164] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 15:59:34.168] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 15:59:34.172] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 15:59:34.176] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 15:59:34.182] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 15:59:34.683] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 15:59:34.690] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 15:59:34.695] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 15:59:34.699] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 15:59:34.705] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 15:59:34.985] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 15:59:35.678] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 15:59:36.519] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 15:59:36.826] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 15:59:37.835] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 15:59:38.445] [INFO] dateFileLog - msgdata/375/489/2015-08-29/1.json
[2015-08-29 15:59:38.448] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 15:59:38","message":"/idwts"}
[2015-08-29 15:59:42.356] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 15:59:43.665] [INFO] dateFileLog - msgdata/375/489/2015-08-29/1.json
[2015-08-29 15:59:43.668] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 15:59:43","message":"/sad"}
[2015-08-29 16:01:10.607] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:01:10.607] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:01:10.608] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:01:31.408] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 16:01:32.307] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 16:01:32.431] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:01:33.043] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:01:33.069] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:01:33.074] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:01:33.242] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:01:33.651] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 16:01:33.656] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:01:33.660] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 16:01:33.668] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:01:33.961] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:01:33.966] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:01:33.971] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:01:33.977] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:01:34.903] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:01:35.831] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:01:35.831] [INFO] dateFileLog - param uid=489
[2015-08-29 16:01:35.831] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:01:35.839] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:01:35.842] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:01:37.328] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:01:37.346] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:02:48.781] [INFO] dateFileLog - action / start......
[2015-08-29 16:02:48.781] [INFO] dateFileLog - param uid=220
[2015-08-29 16:02:48.781] [INFO] dateFileLog - param to=489
[2015-08-29 16:02:48.781] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:48.808] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:02:48.837] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:02:48.857] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:02:48.870] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:02:48.874] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:02:48.927] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:02:48.943] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:02:48.949] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:02:48.951] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:02:48.952] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:02:48.972] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:02:49.010] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:02:49.012] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:02:49.012] [INFO] dateFileLog - param to=489
[2015-08-29 16:02:49.012] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:49.106] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:02:49.213] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:02:49.215] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:02:49.221] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:02:49.232] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:02:49.233] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:02:49.236] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:02:49.236] [INFO] dateFileLog - param tid=489
[2015-08-29 16:02:49.236] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:02:49.236] [INFO] dateFileLog - param date=
[2015-08-29 16:02:49.236] [INFO] dateFileLog - param page=1
[2015-08-29 16:02:49.237] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:49.239] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},
[2015-08-29 16:02:49.240] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:02:49.244] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:02:49.245] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:02:49.245] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:02:49.245] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:49.247] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:02:49.270] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:02:49.288] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:02:49.290] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:02:49.292] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:02:49.297] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:02:49.416] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:02:49.528] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:02:49.751] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:02:50.133] [INFO] dateFileLog - start transaction...
[2015-08-29 16:02:50.133] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:02:49' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:02:50.179] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:02:49' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:02:50.337] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:02:54.664] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:02:54.750] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:02:54.763] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:02:54.771] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:02:54.773] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:02:54.775] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:02:54.783] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:02:54.819] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:02:54.820] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:02:54.821] [INFO] dateFileLog - param uid=220
[2015-08-29 16:02:54.821] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:54.825] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:02:54.841] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:02:54.848] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:02:57.726] [INFO] dateFileLog - action / start......
[2015-08-29 16:02:57.727] [INFO] dateFileLog - param uid=220
[2015-08-29 16:02:57.727] [INFO] dateFileLog - param to=16
[2015-08-29 16:02:57.727] [INFO] dateFileLog - param totype=2
[2015-08-29 16:02:57.727] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:57.732] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 16:02:57.758] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:02:57.793] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:02:57.796] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:02:57.797] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:02:57.844] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:02:57.859] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:02:57.865] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:02:57.866] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:02:57.868] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:02:57.882] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:02:57.922] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 16:02:57.922] [INFO] dateFileLog - param to=16
[2015-08-29 16:02:57.922] [INFO] dateFileLog - param totype=2
[2015-08-29 16:02:57.922] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:57.925] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:02:58.122] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 16:02:58.327] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 16:02:58.342] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 16:02:58.343] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:02:58.343] [INFO] dateFileLog - param tid=16
[2015-08-29 16:02:58.343] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 16:02:58.343] [INFO] dateFileLog - param date=
[2015-08-29 16:02:58.343] [INFO] dateFileLog - param page=1
[2015-08-29 16:02:58.344] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:02:58.347] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:02:58.349] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 16:02:58.366] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:02:58.366] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:02:58.376] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:02:58.386] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:02:58.395] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:02:58.401] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:02:58.408] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:02:58.410] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:03:01.501] [INFO] dateFileLog - action / start......
[2015-08-29 16:03:01.501] [INFO] dateFileLog - param uid=489
[2015-08-29 16:03:01.501] [INFO] dateFileLog - param to=15
[2015-08-29 16:03:01.501] [INFO] dateFileLog - param totype=2
[2015-08-29 16:03:01.501] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:01.503] [DEBUG] dateFileLog - GET /?uid=489&to=15&totype=2
[2015-08-29 16:03:02.121] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:03:02.128] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:03:02.129] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:03:02.130] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:03:02.486] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:03:02.630] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:03:02.632] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:03:02.633] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:03:02.634] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:03:03.039] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:03:03.962] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 16:03:03.962] [INFO] dateFileLog - param to=15
[2015-08-29 16:03:03.962] [INFO] dateFileLog - param totype=2
[2015-08-29 16:03:03.962] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:03.964] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:03:04.186] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 15
[2015-08-29 16:03:04.272] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 16:03:04.468] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 16:03:04.882] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:03:04.882] [INFO] dateFileLog - param tid=15
[2015-08-29 16:03:04.882] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 16:03:04.882] [INFO] dateFileLog - param date=
[2015-08-29 16:03:04.882] [INFO] dateFileLog - param page=1
[2015-08-29 16:03:04.882] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:04.884] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:03:04.885] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:03:04.893] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:03:04.894] [DEBUG] dateFileLog - GET /images/butn.jpg
[2015-08-29 16:03:05.279] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:03:12.559] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:03:12.559] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:03:12.560] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:25.156] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 16:03:25.459] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 16:03:25.566] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:03:26.083] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:03:26.091] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:03:26.093] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:03:26.094] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:03:26.693] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:03:26.695] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:03:26.903] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:03:26.904] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:03:26.905] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:03:26.906] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:03:27.307] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:03:28.230] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:03:28.231] [INFO] dateFileLog - param uid=489
[2015-08-29 16:03:28.231] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:28.232] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:03:28.234] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:03:30.091] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:03:30.095] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:03:33.449] [INFO] dateFileLog - action / start......
[2015-08-29 16:03:33.449] [INFO] dateFileLog - param uid=489
[2015-08-29 16:03:33.449] [INFO] dateFileLog - param to=16
[2015-08-29 16:03:33.449] [INFO] dateFileLog - param totype=2
[2015-08-29 16:03:33.449] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:33.451] [DEBUG] dateFileLog - GET /?uid=489&to=16&totype=2
[2015-08-29 16:03:34.997] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:03:35.005] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:03:35.006] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:03:35.007] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:03:35.601] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:03:35.909] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:03:35.910] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:03:35.911] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:03:35.912] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:03:36.856] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:03:37.447] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 16:03:37.447] [INFO] dateFileLog - param to=16
[2015-08-29 16:03:37.448] [INFO] dateFileLog - param totype=2
[2015-08-29 16:03:37.448] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:37.449] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:03:37.647] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 16:03:37.750] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 16:03:37.989] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 16:03:38.696] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:03:38.697] [INFO] dateFileLog - param tid=16
[2015-08-29 16:03:38.697] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 16:03:38.697] [INFO] dateFileLog - param date=
[2015-08-29 16:03:38.697] [INFO] dateFileLog - param page=1
[2015-08-29 16:03:38.697] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:38.698] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:03:38.705] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:03:38.705] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 16:03:38.706] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:03:40.855] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:03:41.776] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:03:41.777] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:03:41.778] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:03:41.780] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:03:42.693] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:03:42.695] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 16:03:47.888] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:03:47.888] [INFO] dateFileLog - param tid=16
[2015-08-29 16:03:47.889] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 16:03:47.889] [INFO] dateFileLog - param date=
[2015-08-29 16:03:47.889] [INFO] dateFileLog - param page=NaN
[2015-08-29 16:03:47.889] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:47.891] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:03:50.342] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 16:03:50.342] [INFO] dateFileLog - param gid=16
[2015-08-29 16:03:50.342] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:03:50.342] [INFO] dateFileLog - param totype=2
[2015-08-29 16:03:50.342] [INFO] dateFileLog - param usertype=3
[2015-08-29 16:03:50.342] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:50.346] [DEBUG] dateFileLog - GET /getGroupMembers?gid=16&uid=000000489&totype=2&usertype=3
[2015-08-29 16:03:50.979] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:03:50.986] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:03:50.987] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:03:51.167] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:03:51.168] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:03:51.575] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 16:03:52.191] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:03:52.192] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:03:52.192] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:03:52.193] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:03:52.807] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:03:54.963] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:03:55.157] [INFO] dateFileLog - action / start......
[2015-08-29 16:03:55.157] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:03:55.157] [INFO] dateFileLog - param to=16
[2015-08-29 16:03:55.157] [INFO] dateFileLog - param totype=2
[2015-08-29 16:03:55.157] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:55.159] [DEBUG] dateFileLog - GET /?uid=000000489&to=16&totype=2
[2015-08-29 16:03:56.197] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:03:56.200] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:03:56.201] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:03:56.823] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:03:57.746] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:03:57.747] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:03:57.748] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:03:57.750] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:03:58.847] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:03:59.260] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 16:03:59.260] [INFO] dateFileLog - param to=16
[2015-08-29 16:03:59.260] [INFO] dateFileLog - param totype=2
[2015-08-29 16:03:59.260] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:03:59.263] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:03:59.460] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 16:03:59.560] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 16:03:59.782] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 16:04:00.181] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:04:00.182] [INFO] dateFileLog - param tid=16
[2015-08-29 16:04:00.182] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 16:04:00.182] [INFO] dateFileLog - param date=
[2015-08-29 16:04:00.182] [INFO] dateFileLog - param page=1
[2015-08-29 16:04:00.182] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:04:00.184] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:04:00.184] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},
[2015-08-29 16:04:00.185] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:04:01.100] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:04:01.108] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:04:01.713] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:04:01.714] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:04:01.715] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:04:01.716] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:04:01.718] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:04:23.689] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:04:23.708] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:04:23.714] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:04:23.718] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:04:23.725] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:04:23.730] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:04:23.734] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:04:23.736] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:04:23.738] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:04:23.740] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:04:23.741] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:04:23.742] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:04:26.536] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:04:26.549] [INFO] dateFileLog - msgdata/16/2015-08-29/1.json
[2015-08-29 16:04:26.552] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:26","message":"/88"}
[2015-08-29 16:04:26.810] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:04:31.858] [INFO] dateFileLog - msgdata/16/2015-08-29/1.json
[2015-08-29 16:04:31.863] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:31","message":"范德萨范德萨"}
[2015-08-29 16:07:15.891] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:07:15.891] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:07:15.891] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:07:21.087] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 16:07:21.390] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 16:07:21.525] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 16:07:21.548] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:07:21.570] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:07:21.572] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:07:21.574] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:07:21.600] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:07:21.741] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:07:22.740] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:07:22.746] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:07:22.748] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:07:22.750] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:07:22.765] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:07:22.799] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:07:22.799] [INFO] dateFileLog - param uid=220
[2015-08-29 16:07:22.799] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:07:22.801] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:07:22.807] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:07:23.156] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:07:23.181] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:08:48.793] [INFO] dateFileLog - action / start......
[2015-08-29 16:08:48.793] [INFO] dateFileLog - param uid=220
[2015-08-29 16:08:48.793] [INFO] dateFileLog - param to=489
[2015-08-29 16:08:48.793] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:08:48.815] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:08:48.834] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:08:48.867] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:08:48.869] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:08:48.871] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:08:48.920] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:08:48.933] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:08:48.936] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:08:48.940] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:08:48.941] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:08:48.975] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:08:49.031] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:08:49.031] [INFO] dateFileLog - param to=489
[2015-08-29 16:08:49.031] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:08:49.049] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:08:49.768] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:08:49.863] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:08:49.865] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:08:49.881] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:08:49.883] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:08:49.883] [INFO] dateFileLog - param tid=489
[2015-08-29 16:08:49.883] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:08:49.883] [INFO] dateFileLog - param date=
[2015-08-29 16:08:49.883] [INFO] dateFileLog - param page=1
[2015-08-29 16:08:49.883] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:08:49.897] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:08:49.899] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:08:49.900] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:08:49.900] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:08:49.900] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:08:49.900] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:08:49.901] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:08:49.914] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},
[2015-08-29 16:08:49.917] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:08:49.923] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:08:49.938] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:08:49.941] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:08:49.944] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:08:49.947] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:08:50.063] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:08:50.174] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:08:50.388] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:08:50.787] [INFO] dateFileLog - start transaction...
[2015-08-29 16:08:50.787] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:08:50' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:08:50.987] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:08:50' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:08:51.426] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:09:12.268] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:09:12.268] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:09:12.268] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:09:12.596] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 16:09:12.909] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 16:09:13.013] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 16:09:13.036] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:09:13.055] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:09:13.080] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:09:13.083] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:09:13.118] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:09:13.124] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:09:13.138] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:09:13.143] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:09:13.147] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:09:13.148] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:09:13.163] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:09:13.200] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:09:13.201] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:09:13.202] [INFO] dateFileLog - param uid=220
[2015-08-29 16:09:13.202] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:09:13.205] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:09:13.223] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:09:13.229] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:09:17.033] [INFO] dateFileLog - action / start......
[2015-08-29 16:09:17.033] [INFO] dateFileLog - param uid=220
[2015-08-29 16:09:17.033] [INFO] dateFileLog - param to=489
[2015-08-29 16:09:17.033] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:09:17.043] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:09:17.064] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:09:17.092] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:09:17.094] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:09:17.110] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:09:17.158] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:09:17.192] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:09:17.196] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:09:17.199] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:09:17.200] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:09:17.223] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:09:17.260] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:09:17.262] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:09:17.262] [INFO] dateFileLog - param to=489
[2015-08-29 16:09:17.262] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:09:17.510] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:09:17.714] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:09:17.716] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:09:17.726] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:09:17.732] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:09:17.738] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:09:17.740] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:09:17.740] [INFO] dateFileLog - param tid=489
[2015-08-29 16:09:17.740] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:09:17.740] [INFO] dateFileLog - param date=
[2015-08-29 16:09:17.740] [INFO] dateFileLog - param page=1
[2015-08-29 16:09:17.740] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:09:17.741] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},
[2015-08-29 16:09:17.757] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:09:17.759] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:09:17.759] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:09:17.759] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:09:17.759] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:09:17.760] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:09:17.774] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:09:17.785] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:09:17.787] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:09:17.791] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:09:17.799] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:09:17.913] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:09:18.131] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:09:18.355] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:09:18.758] [INFO] dateFileLog - start transaction...
[2015-08-29 16:09:18.758] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:09:18' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:09:18.949] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:09:18' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:09:19.380] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:09:33.791] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 16:09:33.999] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 16:09:33.999] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 16:09:34.305] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 16:09:34.329] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 16:09:35.026] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 16:19:33.757] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 16:19:34.059] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 16:19:34.060] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 16:19:34.060] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 16:19:34.368] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 16:19:34.368] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 16:22:50.079] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:22:50.079] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:22:50.079] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:22:50.267] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 16:22:50.588] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 16:22:50.999] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:22:51.373] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:22:51.589] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:22:51.801] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:22:51.802] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:22:52.106] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 16:22:52.107] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:22:52.108] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 16:22:52.206] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:22:52.412] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:22:52.413] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:22:52.414] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:22:52.415] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:22:52.715] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:22:53.457] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:22:53.457] [INFO] dateFileLog - param uid=489
[2015-08-29 16:22:53.457] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:22:53.458] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:22:53.459] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:22:55.001] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:22:55.005] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:23:25.073] [INFO] dateFileLog - action / start......
[2015-08-29 16:23:25.073] [INFO] dateFileLog - param uid=489
[2015-08-29 16:23:25.073] [INFO] dateFileLog - param to=375
[2015-08-29 16:23:25.073] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:25.075] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 16:23:25.303] [INFO] dateFileLog - action / start......
[2015-08-29 16:23:25.303] [INFO] dateFileLog - param uid=489
[2015-08-29 16:23:25.303] [INFO] dateFileLog - param to=220
[2015-08-29 16:23:25.303] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:25.305] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:23:25.899] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:23:25.906] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:23:25.908] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:23:25.909] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:23:26.226] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:23:27.870] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:23:27.872] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:23:27.873] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:23:27.874] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:23:28.697] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:23:29.686] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:23:30.326] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:23:30.328] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:23:30.329] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:23:31.144] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:23:31.145] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:23:31.839] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:23:31.839] [INFO] dateFileLog - param uid=489
[2015-08-29 16:23:31.839] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:31.840] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:23:31.841] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:23:33.677] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:23:33.681] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:23:35.521] [INFO] dateFileLog - action / start......
[2015-08-29 16:23:35.521] [INFO] dateFileLog - param uid=489
[2015-08-29 16:23:35.521] [INFO] dateFileLog - param to=375
[2015-08-29 16:23:35.521] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:35.524] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 16:23:35.934] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:23:35.935] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:23:35.935] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:35.940] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 16:23:35.951] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:23:36.139] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:23:36.145] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:23:36.146] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:23:36.147] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:23:36.355] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:23:36.752] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:23:36.754] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:23:36.755] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:23:36.756] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:23:37.365] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:23:39.755] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:23:39.756] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:23:39.756] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:39.760] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 16:23:39.822] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:23:40.438] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:23:40.439] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:23:40.440] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:23:40.441] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:23:41.071] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:23:41.691] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:23:41.691] [INFO] dateFileLog - param uid=489
[2015-08-29 16:23:41.691] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:41.693] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:23:41.694] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:23:42.892] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:23:42.894] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:23:53.362] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:23:53.363] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:23:53.363] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:23:53.405] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 16:24:18.524] [INFO] dateFileLog - action / start......
[2015-08-29 16:24:18.524] [INFO] dateFileLog - param uid=489
[2015-08-29 16:24:18.524] [INFO] dateFileLog - param to=375
[2015-08-29 16:24:18.524] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:24:18.526] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 16:24:19.454] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:24:19.462] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:24:19.464] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:24:19.465] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:24:19.754] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:24:20.066] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:24:20.067] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:24:20.068] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:24:20.070] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:24:20.703] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:24:47.914] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:24:48.661] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:24:48.662] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:24:48.663] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:24:48.664] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:24:49.080] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:24:49.244] [INFO] dateFileLog - action / start......
[2015-08-29 16:24:49.244] [INFO] dateFileLog - param uid=489
[2015-08-29 16:24:49.244] [INFO] dateFileLog - param to=220
[2015-08-29 16:24:49.244] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:24:49.246] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:24:49.457] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:24:49.458] [INFO] dateFileLog - param uid=489
[2015-08-29 16:24:49.458] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:24:49.459] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:24:49.462] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:24:49.463] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:24:49.886] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:24:50.809] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:24:51.399] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:24:51.400] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:24:51.401] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:24:52.034] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:24:52.035] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:24:54.189] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:24:55.111] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:24:55.113] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:24:55.114] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:24:55.115] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:24:56.032] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:24:56.928] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:24:56.928] [INFO] dateFileLog - param uid=489
[2015-08-29 16:24:56.928] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:24:56.930] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:24:56.931] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:24:58.157] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:24:58.159] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:24:58.770] [INFO] dateFileLog - action / start......
[2015-08-29 16:24:58.770] [INFO] dateFileLog - param uid=489
[2015-08-29 16:24:58.770] [INFO] dateFileLog - param to=14
[2015-08-29 16:24:58.771] [INFO] dateFileLog - param totype=2
[2015-08-29 16:24:58.771] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:24:58.773] [DEBUG] dateFileLog - GET /?uid=489&to=14&totype=2
[2015-08-29 16:25:00.006] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:25:00.014] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:25:00.016] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:25:00.018] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:25:00.616] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:25:00.821] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:00.823] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:00.824] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:00.825] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:01.230] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:02.768] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:25:02.972] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:02.973] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:02.975] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:02.976] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:03.277] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:04.022] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:25:04.022] [INFO] dateFileLog - param uid=489
[2015-08-29 16:25:04.022] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:04.024] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:25:04.025] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:25:05.836] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:25:05.838] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:25:07.677] [INFO] dateFileLog - action / start......
[2015-08-29 16:25:07.677] [INFO] dateFileLog - param uid=489
[2015-08-29 16:25:07.677] [INFO] dateFileLog - param to=375
[2015-08-29 16:25:07.677] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:07.679] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 16:25:08.302] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:25:08.309] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:25:08.310] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:25:08.312] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:25:08.502] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:25:09.715] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:09.716] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:09.718] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:09.719] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:10.369] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:12.605] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:25:13.546] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:13.547] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:13.549] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:13.550] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:13.689] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:25:13.728] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:13.731] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:13.735] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:13.737] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:13.754] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:14.440] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:25:14.440] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:25:14.440] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:14.442] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:14.640] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 16:25:14.945] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 16:25:14.952] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:25:14.952] [INFO] dateFileLog - param uid=489
[2015-08-29 16:25:14.952] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:14.954] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:25:15.058] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:25:15.281] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:25:15.283] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:25:15.284] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:25:15.564] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:25:15.568] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:25:15.669] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:15.671] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:15.672] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:15.871] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:15.873] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:16.824] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:25:16.824] [INFO] dateFileLog - param uid=489
[2015-08-29 16:25:16.824] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:16.825] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:25:16.827] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:25:18.432] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:25:18.436] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:25:18.637] [INFO] dateFileLog - action / start......
[2015-08-29 16:25:18.638] [INFO] dateFileLog - param uid=489
[2015-08-29 16:25:18.638] [INFO] dateFileLog - param to=375
[2015-08-29 16:25:18.638] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:18.639] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 16:25:18.684] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:25:18.715] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:25:18.717] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:25:18.731] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:25:18.947] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:25:19.356] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:19.357] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:19.361] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:19.363] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:19.563] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:25.762] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:25:25.873] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:25.876] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:25.879] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:25.881] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:26.001] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:26.208] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:25:26.208] [INFO] dateFileLog - param uid=489
[2015-08-29 16:25:26.208] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:26.209] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:25:26.211] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:25:26.715] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:25:26.719] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:25:26.945] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:25:26.946] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:25:26.946] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:27.035] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 16:25:27.256] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 16:25:27.344] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:25:27.578] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:25:27.699] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:25:27.701] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:25:27.703] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:25:28.275] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:25:28.277] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:25:28.905] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:25:28.906] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:25:28.907] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:25:28.908] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:25:29.601] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:25:30.110] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:25:30.111] [INFO] dateFileLog - param uid=489
[2015-08-29 16:25:30.111] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:25:30.112] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:25:30.114] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:25:31.949] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:25:31.953] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:26:49.980] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 16:26:51.206] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 16:26:51.513] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 16:26:52.661] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 16:26:53.355] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 16:26:53.933] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 16:26:54.277] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 16:26:56.081] [INFO] dateFileLog - action / start......
[2015-08-29 16:26:56.082] [INFO] dateFileLog - param uid=220
[2015-08-29 16:26:56.082] [INFO] dateFileLog - param to=489
[2015-08-29 16:26:56.082] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:26:56.083] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 16:26:56.661] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 16:26:56.734] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:26:56.947] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:26:56.987] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:26:56.991] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:26:56.995] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:26:57.271] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:26:57.287] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:26:57.292] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:26:57.298] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:26:57.301] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:26:57.319] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:26:57.380] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:26:57.382] [INFO] dateFileLog - param to=489
[2015-08-29 16:26:57.382] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:26:57.385] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:26:57.560] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:26:57.653] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:26:57.659] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:26:57.667] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:26:57.678] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:26:57.678] [INFO] dateFileLog - param tid=489
[2015-08-29 16:26:57.678] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:26:57.679] [INFO] dateFileLog - param date=
[2015-08-29 16:26:57.679] [INFO] dateFileLog - param page=1
[2015-08-29 16:26:57.679] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:26:57.683] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:26:57.685] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:26:57.686] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:26:57.687] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:26:57.687] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:26:57.687] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:26:57.691] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:26:57.711] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},
[2015-08-29 16:26:57.715] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:26:57.736] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:26:57.768] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:26:57.780] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:26:57.784] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:26:57.785] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:26:58.293] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:26:58.502] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:26:58.574] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:26:58.881] [INFO] dateFileLog - start transaction...
[2015-08-29 16:26:58.881] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:26:58' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:26:59.086] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:26:58' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:26:59.418] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:27:06.875] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:27:06.875] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:27:06.875] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:06.877] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:27:08.406] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:27:08.406] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:27:08.406] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:08.408] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:27:10.903] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:27:13.044] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:27:13.046] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:27:13.592] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:27:13.593] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:27:13.594] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:27:14.276] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 16:27:14.277] [INFO] dateFileLog - param to=16
[2015-08-29 16:27:14.277] [INFO] dateFileLog - param totype=2
[2015-08-29 16:27:14.277] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:14.279] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 16:27:14.280] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:27:19.782] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 16:27:20.085] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:27:20.087] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:27:20.088] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:27:20.090] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:27:21.016] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:27:24.384] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:27:24.408] [INFO] dateFileLog - action / start......
[2015-08-29 16:27:24.408] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:27:24.408] [INFO] dateFileLog - param to=16
[2015-08-29 16:27:24.408] [INFO] dateFileLog - param totype=2
[2015-08-29 16:27:24.408] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:24.408] [INFO] dateFileLog - check user if signed with uid:000000489
[2015-08-29 16:27:24.692] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 16:27:24.919] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:27:24.999] [DEBUG] dateFileLog - GET /?uid=000000489&to=16&totype=2
[2015-08-29 16:27:25.623] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:27:25.624] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:27:25.626] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:27:25.922] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:27:26.231] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:27:26.232] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:27:26.241] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:27:26.242] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:27:26.739] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:27:26.980] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 16:27:26.980] [INFO] dateFileLog - param to=16
[2015-08-29 16:27:26.980] [INFO] dateFileLog - param totype=2
[2015-08-29 16:27:26.980] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:26.983] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:27:27.147] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 16:27:27.355] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 16:27:27.558] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 16:27:28.068] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:27:28.068] [INFO] dateFileLog - param tid=16
[2015-08-29 16:27:28.068] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 16:27:28.068] [INFO] dateFileLog - param date=
[2015-08-29 16:27:28.068] [INFO] dateFileLog - param page=1
[2015-08-29 16:27:28.068] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:28.070] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:27:28.085] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:27:28.086] [DEBUG] dateFileLog - GET /images/butn.jpg
[2015-08-29 16:27:28.087] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:26","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:31","message":"范德萨范德萨"},
[2015-08-29 16:27:28.090] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:27:28.280] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:27:28.689] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:27:28.690] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:27:28.692] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:27:28.694] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:27:28.891] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:27:28.892] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 16:27:33.595] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:27:33.595] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:27:33.596] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:33.799] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 16:27:34.080] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 16:27:34.275] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:27:34.731] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:27:34.745] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:27:34.747] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:27:34.883] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:27:34.992] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:27:34.994] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:27:35.032] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:27:35.042] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:27:35.043] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:27:35.045] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:27:35.138] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:27:35.345] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:27:35.345] [INFO] dateFileLog - param uid=489
[2015-08-29 16:27:35.345] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:35.347] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:27:35.349] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:27:36.378] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:27:36.386] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:27:44.349] [INFO] dateFileLog - action / start......
[2015-08-29 16:27:44.349] [INFO] dateFileLog - param uid=489
[2015-08-29 16:27:44.349] [INFO] dateFileLog - param to=220
[2015-08-29 16:27:44.349] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:44.351] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:27:45.089] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:27:45.100] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:27:45.101] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:27:45.102] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:27:45.605] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:27:46.529] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:27:46.531] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:27:46.532] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:27:46.533] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:27:47.121] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:27:47.325] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:27:47.326] [INFO] dateFileLog - param to=220
[2015-08-29 16:27:47.326] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:47.328] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:27:47.428] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:27:47.525] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:27:47.528] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:27:47.735] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:27:47.935] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:27:47.935] [INFO] dateFileLog - param tid=220
[2015-08-29 16:27:47.935] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:27:47.935] [INFO] dateFileLog - param date=
[2015-08-29 16:27:47.935] [INFO] dateFileLog - param page=1
[2015-08-29 16:27:47.935] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:47.937] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:27:47.938] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:27:47.939] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},
[2015-08-29 16:27:47.940] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:27:48.036] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:27:48.037] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:27:48.037] [INFO] dateFileLog - param tid=000000220
[2015-08-29 16:27:48.037] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:27:48.037] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:27:48.241] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 16:27:48.243] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:27:48.343] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:27:48.548] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 16:27:48.654] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:27:48.656] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:27:48.657] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:27:48.659] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:27:48.660] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 16:27:48.955] [INFO] dateFileLog - start transaction...
[2015-08-29 16:27:48.955] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:27:48' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:27:49.175] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:27:48' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:27:49.574] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:28:02.170] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:28:02.790] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:28:02.797] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:28:02.798] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"}
[2015-08-29 16:28:02.801] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:28:02.801] [INFO] dateFileLog - param uid=220
[2015-08-29 16:28:02.801] [INFO] dateFileLog - param tid=489
[2015-08-29 16:28:02.801] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:28:02.984] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:28:03.090] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:28:03.291] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:28:03.706] [INFO] dateFileLog - start transaction...
[2015-08-29 16:28:03.706] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:03' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:28:04.117] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:03' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:28:04.342] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:28:11.201] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:28:11.212] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:28:11.215] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"}
[2015-08-29 16:28:11.642] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:28:12.000] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:28:12.000] [INFO] dateFileLog - param uid=489
[2015-08-29 16:28:12.000] [INFO] dateFileLog - param tid=220
[2015-08-29 16:28:12.000] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:28:12.201] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:28:12.307] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:28:12.530] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:28:12.917] [INFO] dateFileLog - start transaction...
[2015-08-29 16:28:12.917] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:12' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:28:13.023] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:12' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:28:13.121] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:28:19.991] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:28:19.993] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:28:19.993] [INFO] dateFileLog - param uid=220
[2015-08-29 16:28:19.993] [INFO] dateFileLog - param tid=489
[2015-08-29 16:28:19.993] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:28:19.999] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"}
[2015-08-29 16:28:20.191] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:28:20.296] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:28:20.488] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:28:20.906] [INFO] dateFileLog - start transaction...
[2015-08-29 16:28:20.906] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:20' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:28:21.121] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:20' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:28:21.829] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:28:25.994] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:28:25.998] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"}
[2015-08-29 16:28:26.484] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:28:26.485] [INFO] dateFileLog - param uid=489
[2015-08-29 16:28:26.485] [INFO] dateFileLog - param tid=220
[2015-08-29 16:28:26.485] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:28:27.572] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:28:27.665] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:28:27.867] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:28:28.587] [INFO] dateFileLog - start transaction...
[2015-08-29 16:28:28.587] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:28' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:28:28.599] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:28:28.617] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:28:28.623] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:28:28.628] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:28:28.629] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:28:28.631] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:28:28.640] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:28:28.643] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:28:28.646] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:28:28.648] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:28:28.651] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:28:28.663] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:28:28.664] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:28:28.789] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:28' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:28:28.891] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:28:32.293] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:28:32.297] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"}
[2015-08-29 16:28:32.889] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:28:32.889] [INFO] dateFileLog - param uid=489
[2015-08-29 16:28:32.889] [INFO] dateFileLog - param tid=220
[2015-08-29 16:28:32.889] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:28:34.038] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:28:34.126] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:28:34.319] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:28:34.941] [INFO] dateFileLog - start transaction...
[2015-08-29 16:28:34.941] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:34' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:28:35.362] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:28:34' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:28:35.551] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:29:01.283] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:29:01.462] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:29:01.468] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:29:01.471] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:29:01.475] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:29:01.478] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:29:01.481] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:29:01.662] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:29:01.673] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:29:01.675] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:29:01.676] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:29:01.678] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:29:01.680] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:29:04.061] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:29:04.065] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"}
[2015-08-29 16:29:04.130] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:29:04.132] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"}
[2015-08-29 16:29:04.134] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:29:04.134] [INFO] dateFileLog - param uid=220
[2015-08-29 16:29:04.134] [INFO] dateFileLog - param tid=489
[2015-08-29 16:29:04.134] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:29:04.223] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:29:04.223] [INFO] dateFileLog - param uid=489
[2015-08-29 16:29:04.223] [INFO] dateFileLog - param tid=220
[2015-08-29 16:29:04.223] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:29:04.964] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:29:05.046] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:29:05.156] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:29:05.451] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:29:05.679] [INFO] dateFileLog - start transaction...
[2015-08-29 16:29:05.679] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:29:05' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:29:05.681] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:29:05.755] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:29:05.763] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:29:05' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:29:05.982] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:29:06.062] [INFO] dateFileLog - start transaction...
[2015-08-29 16:29:06.062] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:29:05' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:29:06.193] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:29:05' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:29:06.263] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:29:17.564] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:29:17.568] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"}
[2015-08-29 16:29:17.825] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:29:17.825] [INFO] dateFileLog - param uid=489
[2015-08-29 16:29:17.825] [INFO] dateFileLog - param tid=220
[2015-08-29 16:29:17.825] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:29:18.869] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:29:18.983] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:29:19.170] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:29:19.485] [INFO] dateFileLog - start transaction...
[2015-08-29 16:29:19.486] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:29:19' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:29:19.582] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:29:19' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:29:19.784] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:29:23.341] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:29:23.342] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"}
[2015-08-29 16:29:23.885] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:29:23.885] [INFO] dateFileLog - param uid=489
[2015-08-29 16:29:23.885] [INFO] dateFileLog - param tid=220
[2015-08-29 16:29:23.885] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:30:28.598] [INFO] dateFileLog - action / start......
[2015-08-29 16:30:28.598] [INFO] dateFileLog - param uid=489
[2015-08-29 16:30:28.599] [INFO] dateFileLog - param to=220
[2015-08-29 16:30:28.599] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:30:28.600] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:30:28.714] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:30:28.920] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:30:28.922] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:30:28.925] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:30:29.317] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:30:29.554] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:30:29.560] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"}
[2015-08-29 16:30:29.960] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:30:29.962] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:30:29.963] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:30:29.964] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:30:30.556] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:30:31.705] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:30:31.705] [INFO] dateFileLog - param to=220
[2015-08-29 16:30:31.705] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:30:31.707] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:30:39.146] [INFO] dateFileLog - action / start......
[2015-08-29 16:30:39.146] [INFO] dateFileLog - param uid=489
[2015-08-29 16:30:39.146] [INFO] dateFileLog - param to=220
[2015-08-29 16:30:39.146] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:30:39.148] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:30:39.455] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:30:39.458] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:30:39.460] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:30:40.098] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:30:40.688] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:30:40.690] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:30:40.692] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:30:40.693] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:30:41.633] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:30:42.761] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:30:42.761] [INFO] dateFileLog - param to=220
[2015-08-29 16:30:42.761] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:30:42.763] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:30:50.818] [INFO] dateFileLog - action / start......
[2015-08-29 16:30:50.818] [INFO] dateFileLog - param uid=489
[2015-08-29 16:30:50.818] [INFO] dateFileLog - param to=220
[2015-08-29 16:30:50.818] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:30:50.820] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:30:52.982] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:30:52.983] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:30:52.984] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:30:53.300] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:30:54.126] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:30:54.127] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:30:54.129] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:30:54.647] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:30:54.649] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:30:55.038] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:30:55.038] [INFO] dateFileLog - param to=220
[2015-08-29 16:30:55.038] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:30:55.040] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:31:45.848] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:31:46.450] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:31:46.454] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:31:46.455] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:31:52.658] [INFO] dateFileLog - action / start......
[2015-08-29 16:31:52.658] [INFO] dateFileLog - param uid=220
[2015-08-29 16:31:52.658] [INFO] dateFileLog - param to=489
[2015-08-29 16:31:52.658] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:31:52.661] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:31:52.673] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:31:52.696] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:31:52.707] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:31:52.709] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:31:52.762] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:31:52.798] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:31:52.802] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:31:52.808] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:31:52.810] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:31:52.828] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:31:52.874] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:31:52.874] [INFO] dateFileLog - param to=489
[2015-08-29 16:31:52.874] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:31:52.877] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:32:01.485] [INFO] dateFileLog - action / start......
[2015-08-29 16:32:01.485] [INFO] dateFileLog - param uid=489
[2015-08-29 16:32:01.485] [INFO] dateFileLog - param to=375
[2015-08-29 16:32:01.485] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:01.487] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 16:32:01.687] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:32:02.090] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:32:02.095] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:32:02.325] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:32:02.837] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:32:02.838] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:32:02.838] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:32:03.149] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:32:03.882] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:32:04.459] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:32:04.459] [INFO] dateFileLog - param to=375
[2015-08-29 16:32:04.459] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:04.461] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:32:13.221] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 16:32:13.413] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:32:13.415] [INFO] dateFileLog - param to=375
[2015-08-29 16:32:13.415] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:13.426] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:32:14.916] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 16:32:15.530] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 16:32:17.655] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 16:32:17.961] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 16:32:18.276] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 16:32:18.986] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 16:32:19.414] [INFO] dateFileLog - action / start......
[2015-08-29 16:32:19.414] [INFO] dateFileLog - param uid=220
[2015-08-29 16:32:19.414] [INFO] dateFileLog - param to=489
[2015-08-29 16:32:19.414] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:19.415] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 16:32:19.829] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 16:32:19.908] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:32:20.117] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:32:20.149] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:32:20.152] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:32:20.154] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:32:20.486] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:32:20.502] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:32:20.506] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:32:20.510] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:32:20.512] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:32:20.533] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:32:20.584] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:32:20.585] [INFO] dateFileLog - param to=489
[2015-08-29 16:32:20.585] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:20.589] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:32:20.727] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:32:20.830] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:32:20.836] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:32:20.842] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:32:20.854] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:32:20.854] [INFO] dateFileLog - param tid=489
[2015-08-29 16:32:20.855] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:32:20.855] [INFO] dateFileLog - param date=
[2015-08-29 16:32:20.855] [INFO] dateFileLog - param page=1
[2015-08-29 16:32:20.855] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:20.860] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:32:20.862] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:32:20.862] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:32:20.863] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:32:20.863] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:32:20.863] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:20.865] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:32:20.872] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},
[2015-08-29 16:32:20.876] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:32:20.887] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:32:20.900] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:32:20.919] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:32:20.922] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:32:20.927] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:32:20.930] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:32:21.029] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:32:21.138] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:32:21.343] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:32:22.066] [INFO] dateFileLog - start transaction...
[2015-08-29 16:32:22.066] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:32:21' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:32:22.263] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:32:21' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:32:22.368] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:32:27.905] [INFO] dateFileLog - action / start......
[2015-08-29 16:32:27.906] [INFO] dateFileLog - param uid=489
[2015-08-29 16:32:27.906] [INFO] dateFileLog - param to=375
[2015-08-29 16:32:27.906] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:27.906] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 16:32:28.204] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 16:32:28.403] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:32:28.509] [DEBUG] dateFileLog - GET /?uid=489&to=375
[2015-08-29 16:32:29.134] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:32:29.136] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:32:29.137] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:32:29.433] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:32:29.743] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:32:29.744] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:32:29.746] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:32:29.747] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:32:30.375] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:32:30.973] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:32:30.973] [INFO] dateFileLog - param to=375
[2015-08-29 16:32:30.973] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:30.975] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:32:31.484] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=375
[2015-08-29 16:32:31.582] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 15,
     uid: '000000375',
     name: '沈娜',
     cname: '沈娜',
     usertype: 1,
     headicon: 'http://anliangfile1.7zhibao.com/www/creditCons/12/2015/08/18/10/071369/1439863303179.JPG',
     groupcount: 1,
     createdate: Fri Aug 28 2015 19:56:16 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:32:31.584] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:32:31.788] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:32:32.197] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:32:32.198] [INFO] dateFileLog - param tid=375
[2015-08-29 16:32:32.198] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:32:32.198] [INFO] dateFileLog - param date=
[2015-08-29 16:32:32.198] [INFO] dateFileLog - param page=1
[2015-08-29 16:32:32.198] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:32.200] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:32:32.212] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:32:32.212] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:32:32.212] [INFO] dateFileLog - param tid=000000375
[2015-08-29 16:32:32.212] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:32.216] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 16:32:32.217] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:32:32.218] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:32:32.218] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:16:43","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 15:59:38","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 15:59:43","message":"/sad"},
[2015-08-29 16:32:32.220] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:32:32.398] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000375
[2015-08-29 16:32:32.506] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:32:32.725] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000375
[2015-08-29 16:32:32.729] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:32:33.018] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 16:32:33.044] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:32:33.045] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:32:33.046] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:32:33.047] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:32:33.117] [INFO] dateFileLog - start transaction...
[2015-08-29 16:32:33.117] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:32:32' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:32:33.348] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:32:32' WHERE  user='000000489' AND toid ='000000375'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:32:33.729] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:32:40.630] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:32:40.642] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:32:40.643] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:32:40.646] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:32:40.650] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:32:40.651] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:32:40.653] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:32:40.656] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:32:40.658] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:32:40.660] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:32:40.662] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:32:40.665] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:32:43.260] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:32:43.260] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:32:43.261] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:43.459] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=489 AND a.toid = b.uid
[2015-08-29 16:32:43.766] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=489 AND a.groupid = b.id
[2015-08-29 16:32:44.238] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:32:44.696] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:32:44.708] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:32:44.709] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:32:45.100] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:32:45.102] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 16:32:45.107] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 16:32:45.408] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 16:32:46.024] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:32:46.026] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:32:46.027] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:32:46.028] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:32:46.871] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:32:47.261] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 16:32:47.261] [INFO] dateFileLog - param uid=489
[2015-08-29 16:32:47.261] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:32:47.264] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 16:32:47.265] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:32:47.762] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 16:32:47.770] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:32:53.072] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:32:53.081] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:32:53.083] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"}
[2015-08-29 16:33:57.599] [INFO] dateFileLog - action / start......
[2015-08-29 16:33:57.599] [INFO] dateFileLog - param uid=489
[2015-08-29 16:33:57.599] [INFO] dateFileLog - param to=220
[2015-08-29 16:33:57.599] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:33:57.603] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:33:57.815] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:33:57.825] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:33:57.827] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:33:57.832] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:33:58.113] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:33:58.419] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:33:58.423] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:33:58.425] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:33:58.429] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:33:58.738] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:33:59.148] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:33:59.148] [INFO] dateFileLog - param to=220
[2015-08-29 16:33:59.149] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:33:59.151] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:33:59.244] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:33:59.291] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:33:59.295] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:33:59.498] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:33:59.564] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:33:59.565] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:33:59.643] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:33:59.643] [INFO] dateFileLog - param tid=220
[2015-08-29 16:33:59.643] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:33:59.643] [INFO] dateFileLog - param date=
[2015-08-29 16:33:59.643] [INFO] dateFileLog - param page=1
[2015-08-29 16:33:59.643] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:33:59.645] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:33:59.645] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:33:59.645] [INFO] dateFileLog - param tid=000000220
[2015-08-29 16:33:59.645] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:33:59.648] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:33:59.667] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},
[2015-08-29 16:33:59.669] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:33:59.690] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 16:33:59.848] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:33:59.876] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:00.081] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 16:34:00.083] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:34:00.084] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:34:00.085] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 16:34:00.259] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:34:00.287] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:34:00.289] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:34:00.484] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:00.484] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:00' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:00.566] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:00' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:00.682] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:04.012] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:34:04.363] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:04.366] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:34:04.366] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"}
[2015-08-29 16:34:04.375] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:04.375] [INFO] dateFileLog - param uid=220
[2015-08-29 16:34:04.375] [INFO] dateFileLog - param tid=489
[2015-08-29 16:34:04.375] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:04.380] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:34:04.561] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:34:04.688] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:04.871] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:34:05.482] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:05.482] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:05' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:06.196] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:05' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:06.404] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:10.738] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:10.740] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:10.740] [INFO] dateFileLog - param uid=220
[2015-08-29 16:34:10.740] [INFO] dateFileLog - param tid=489
[2015-08-29 16:34:10.740] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:10.742] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"}
[2015-08-29 16:34:10.807] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:34:10.942] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:10.992] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:34:11.315] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:11.316] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:11' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:11.429] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:11' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:11.625] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:12.908] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:12.912] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"}
[2015-08-29 16:34:13.267] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:34:14.417] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:14.418] [INFO] dateFileLog - param uid=489
[2015-08-29 16:34:14.418] [INFO] dateFileLog - param tid=220
[2015-08-29 16:34:14.418] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:15.418] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:34:15.622] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:15.719] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:34:16.019] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:16.020] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:15' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:16.236] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:15' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:16.642] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:18.953] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:18.957] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"}
[2015-08-29 16:34:19.413] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:19.413] [INFO] dateFileLog - param uid=489
[2015-08-29 16:34:19.413] [INFO] dateFileLog - param tid=220
[2015-08-29 16:34:19.413] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:20.867] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:34:21.255] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:21.455] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:34:21.774] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:21.778] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:21.778] [INFO] dateFileLog - param uid=220
[2015-08-29 16:34:21.778] [INFO] dateFileLog - param tid=489
[2015-08-29 16:34:21.778] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:21.781] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"}
[2015-08-29 16:34:21.864] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:21.864] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:21' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:21.977] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:21' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:22.069] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:22.711] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:34:22.790] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:22.993] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:34:23.406] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:23.407] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:23' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:23.612] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:23' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:23.717] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:38.155] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:38.157] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"}
[2015-08-29 16:34:38.159] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:38.160] [INFO] dateFileLog - param uid=220
[2015-08-29 16:34:38.160] [INFO] dateFileLog - param tid=489
[2015-08-29 16:34:38.160] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:39.072] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:34:39.277] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:39.375] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:34:39.887] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:39.887] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:39' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:39.992] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:39' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:40.206] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:45.230] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:45.232] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:45.232] [INFO] dateFileLog - param uid=220
[2015-08-29 16:34:45.232] [INFO] dateFileLog - param tid=489
[2015-08-29 16:34:45.232] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:45.235] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"}
[2015-08-29 16:34:46.366] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:34:46.462] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:34:46.666] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:34:47.364] [INFO] dateFileLog - start transaction...
[2015-08-29 16:34:47.364] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:47' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:34:47.569] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:34:47' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:34:47.673] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:34:54.756] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:34:54.757] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:34:54.757] [INFO] dateFileLog - param uid=220
[2015-08-29 16:34:54.757] [INFO] dateFileLog - param tid=489
[2015-08-29 16:34:54.757] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:34:54.758] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"}
[2015-08-29 16:35:02.727] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:35:03.679] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:35:03.682] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:35:03.684] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:35:03.686] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:35:03.688] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:35:03.689] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:35:04.266] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:35:04.267] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:35:04.268] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:35:04.269] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:35:04.270] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:35:08.233] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:35:08.236] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:35:08.236] [INFO] dateFileLog - param uid=220
[2015-08-29 16:35:08.236] [INFO] dateFileLog - param tid=489
[2015-08-29 16:35:08.236] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:35:08.236] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"}
[2015-08-29 16:35:24.912] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:35:24.913] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"}
[2015-08-29 16:35:24.920] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:35:24.920] [INFO] dateFileLog - param uid=220
[2015-08-29 16:35:24.920] [INFO] dateFileLog - param tid=489
[2015-08-29 16:35:24.921] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:35:37.444] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:35:37.445] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"}
[2015-08-29 16:35:37.481] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:35:37.481] [INFO] dateFileLog - param uid=220
[2015-08-29 16:35:37.481] [INFO] dateFileLog - param tid=489
[2015-08-29 16:35:37.481] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:35:49.116] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:35:51.948] [INFO] dateFileLog - action / start......
[2015-08-29 16:35:51.948] [INFO] dateFileLog - param uid=220
[2015-08-29 16:35:51.948] [INFO] dateFileLog - param to=489
[2015-08-29 16:35:51.948] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:35:51.951] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:35:51.973] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:35:52.020] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:35:52.021] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:35:52.023] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:35:52.101] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:35:52.129] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:35:52.132] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:35:52.134] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:35:52.136] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:35:52.153] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:35:52.221] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:35:52.221] [INFO] dateFileLog - param to=489
[2015-08-29 16:35:52.221] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:35:52.223] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:36:19.598] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 16:36:20.691] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 16:36:20.981] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 16:36:22.209] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 16:36:22.289] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 16:36:22.596] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 16:36:22.904] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 16:36:23.925] [INFO] dateFileLog - action / start......
[2015-08-29 16:36:23.926] [INFO] dateFileLog - param uid=220
[2015-08-29 16:36:23.926] [INFO] dateFileLog - param to=489
[2015-08-29 16:36:23.926] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:36:23.926] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 16:36:24.363] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 16:36:24.437] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:36:24.650] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:36:24.683] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:36:24.686] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:36:24.688] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:36:25.019] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:36:25.034] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:36:25.039] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:36:25.042] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:36:25.044] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:36:25.057] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:36:25.095] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:36:25.096] [INFO] dateFileLog - param to=489
[2015-08-29 16:36:25.096] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:36:25.099] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:36:25.357] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:36:25.564] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:36:25.571] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:36:25.579] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:36:25.593] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:36:25.593] [INFO] dateFileLog - param tid=489
[2015-08-29 16:36:25.593] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:36:25.593] [INFO] dateFileLog - param date=
[2015-08-29 16:36:25.593] [INFO] dateFileLog - param page=1
[2015-08-29 16:36:25.593] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:36:25.597] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:36:25.600] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:36:25.602] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:36:25.602] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:36:25.602] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:36:25.602] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:36:25.604] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:36:25.610] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},
[2015-08-29 16:36:25.613] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:36:25.629] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:36:25.643] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:36:25.650] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:36:25.652] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:36:25.654] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:36:25.657] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:36:25.659] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:36:25.664] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:36:25.776] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:36:25.869] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:36:26.282] [INFO] dateFileLog - start transaction...
[2015-08-29 16:36:26.282] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:36:25' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:36:26.485] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:36:25' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:36:26.589] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:37:05.322] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 16:37:05.322] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:37:05.322] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:37:05.324] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000489
[2015-08-29 16:37:21.272] [INFO] dateFileLog - action / start......
[2015-08-29 16:37:21.272] [INFO] dateFileLog - param uid=489
[2015-08-29 16:37:21.272] [INFO] dateFileLog - param to=220
[2015-08-29 16:37:21.272] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:37:21.272] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 16:37:22.116] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 16:37:22.194] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:37:22.406] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:37:22.620] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:37:22.622] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:37:22.623] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:37:23.118] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:37:23.323] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:37:23.324] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:37:23.327] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:37:23.328] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:37:23.732] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:37:24.479] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:37:24.479] [INFO] dateFileLog - param to=220
[2015-08-29 16:37:24.479] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:37:24.482] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:37:24.647] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:37:24.880] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:37:24.883] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:37:25.088] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:37:25.574] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:37:25.574] [INFO] dateFileLog - param tid=220
[2015-08-29 16:37:25.574] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:37:25.574] [INFO] dateFileLog - param date=
[2015-08-29 16:37:25.574] [INFO] dateFileLog - param page=1
[2015-08-29 16:37:25.575] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:37:25.576] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:37:25.577] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:37:25.577] [INFO] dateFileLog - param tid=000000220
[2015-08-29 16:37:25.577] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:37:25.579] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:37:25.592] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 16:37:25.593] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:37:25.594] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:37:25.594] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},
[2015-08-29 16:37:25.597] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:37:25.783] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 16:37:25.881] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:37:26.106] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 16:37:26.418] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:37:26.508] [INFO] dateFileLog - start transaction...
[2015-08-29 16:37:26.509] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:37:26' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:37:26.698] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 16:37:26.699] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:37:26' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:37:26.705] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 16:37:26.707] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:37:26.708] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:37:26.709] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:37:26.710] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:37:26.803] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:37:26.805] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:37:26.807] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:37:38.791] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:37:38.993] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:37:38.995] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:37:38.997] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:37:38.999] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:37:39.000] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:37:39.001] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:37:39.408] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:37:39.409] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:37:39.410] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:37:39.412] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:38:06.025] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:38:06.435] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:38:06.439] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:38:06.440] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"}
[2015-08-29 16:38:06.448] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:38:06.451] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:38:06.451] [INFO] dateFileLog - param uid=220
[2015-08-29 16:38:06.451] [INFO] dateFileLog - param tid=489
[2015-08-29 16:38:06.452] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:38:06.637] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:38:06.738] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:38:06.938] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:38:07.353] [INFO] dateFileLog - start transaction...
[2015-08-29 16:38:07.354] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:38:07' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:38:07.557] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:38:07' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:38:07.994] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:38:10.428] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:38:10.432] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:38:10.433] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"}
[2015-08-29 16:38:10.437] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:38:10.437] [INFO] dateFileLog - param uid=220
[2015-08-29 16:38:10.437] [INFO] dateFileLog - param tid=489
[2015-08-29 16:38:10.437] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:38:15.959] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:38:15.965] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:38:15.966] [INFO] dateFileLog - param uid=220
[2015-08-29 16:38:15.966] [INFO] dateFileLog - param tid=489
[2015-08-29 16:38:15.966] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:38:15.969] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"}
[2015-08-29 16:38:22.946] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:38:22.948] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"}
[2015-08-29 16:38:22.953] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:38:22.954] [INFO] dateFileLog - param uid=220
[2015-08-29 16:38:22.954] [INFO] dateFileLog - param tid=489
[2015-08-29 16:38:22.954] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:38:30.444] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Pool.releaseConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:135:10)
    at Pool._removeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:247:8)
    at Pool._purgeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:228:8)
    at Ping.onPing [as _callback] (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:90:12)
    at Ping.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
[2015-08-29 16:38:30.445] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:38:30.446] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at Protocol.handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:355:14)
    at PoolConnection.Connection._handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:371:18)
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:367:8)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
[2015-08-29 16:38:32.954] [ERROR] dateFileLog - { [Error: Handshake inactivity timeout]
  code: 'PROTOCOL_SEQUENCE_TIMEOUT',
  fatal: true,
  timeout: 10000 }
Error: Handshake inactivity timeout
    at Handshake.<anonymous> (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:154:17)
    at Handshake.emit (events.js:104:17)
    at Handshake._onTimeout (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:116:8)
    at Timer.listOnTimeout (timers.js:110:15)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.addChatList (E:\code\project\s_chat\server\actions.js:347:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:38:32.954] [INFO] dateFileLog - {"code":"PROTOCOL_SEQUENCE_TIMEOUT","fatal":true,"timeout":10000}
[2015-08-29 16:38:32.962] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
    at Array.forEach (native)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:389:13
    at process._tickCallback (node.js:355:11)
[2015-08-29 16:38:33.573] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:38:33.575] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"}
[2015-08-29 16:38:33.581] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:38:33.581] [INFO] dateFileLog - param uid=220
[2015-08-29 16:38:33.581] [INFO] dateFileLog - param tid=489
[2015-08-29 16:38:33.581] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:38:35.969] [ERROR] dateFileLog - { [Error: Handshake inactivity timeout]
  code: 'PROTOCOL_SEQUENCE_TIMEOUT',
  fatal: true,
  timeout: 10000 }
Error: Handshake inactivity timeout
    at Handshake.<anonymous> (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:154:17)
    at Handshake.emit (events.js:104:17)
    at Handshake._onTimeout (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:116:8)
    at Timer.listOnTimeout (timers.js:110:15)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Pool.releaseConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:135:10)
    at Pool._removeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:247:8)
    at Pool._purgeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:228:8)
    at Ping.onPing [as _callback] (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:90:12)
    at Ping.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
[2015-08-29 16:38:35.969] [INFO] dateFileLog - {"code":"PROTOCOL_SEQUENCE_TIMEOUT","fatal":true,"timeout":10000}
[2015-08-29 16:38:35.970] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
    at Array.forEach (native)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:389:13
    at process._tickCallback (node.js:355:11)
[2015-08-29 16:38:36.541] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:38:36.547] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:38:36.547] [INFO] dateFileLog - param uid=220
[2015-08-29 16:38:36.548] [INFO] dateFileLog - param tid=489
[2015-08-29 16:38:36.548] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:38:36.553] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"}
[2015-08-29 16:38:43.583] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.addChatList (E:\code\project\s_chat\server\actions.js:347:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:38:43.583] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:38:43.584] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at Protocol.handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:355:14)
    at PoolConnection.Connection._handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:371:18)
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:367:8)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
[2015-08-29 16:38:46.551] [ERROR] dateFileLog - { [Error: Handshake inactivity timeout]
  code: 'PROTOCOL_SEQUENCE_TIMEOUT',
  fatal: true,
  timeout: 10000 }
Error: Handshake inactivity timeout
    at Handshake.<anonymous> (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:154:17)
    at Handshake.emit (events.js:104:17)
    at Handshake._onTimeout (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:116:8)
    at Timer.listOnTimeout (timers.js:110:15)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.addChatList (E:\code\project\s_chat\server\actions.js:347:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:38:46.551] [INFO] dateFileLog - {"code":"PROTOCOL_SEQUENCE_TIMEOUT","fatal":true,"timeout":10000}
[2015-08-29 16:38:46.552] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
    at Array.forEach (native)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:389:13
    at process._tickCallback (node.js:355:11)
[2015-08-29 16:40:10.444] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:40:10.444] [INFO] dateFileLog - param uid=220
[2015-08-29 16:40:10.444] [INFO] dateFileLog - param tid=489
[2015-08-29 16:40:10.444] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:40:15.972] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:40:15.972] [INFO] dateFileLog - param uid=220
[2015-08-29 16:40:15.973] [INFO] dateFileLog - param tid=489
[2015-08-29 16:40:15.973] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:40:20.447] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.addChatList (E:\code\project\s_chat\server\actions.js:347:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:40:20.448] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:40:20.448] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at Protocol.handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:355:14)
    at PoolConnection.Connection._handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:371:18)
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:367:8)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
[2015-08-29 16:40:22.959] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:40:22.959] [INFO] dateFileLog - param uid=220
[2015-08-29 16:40:22.959] [INFO] dateFileLog - param tid=489
[2015-08-29 16:40:22.959] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:40:25.975] [ERROR] dateFileLog - { [Error: Handshake inactivity timeout]
  code: 'PROTOCOL_SEQUENCE_TIMEOUT',
  fatal: true,
  timeout: 10000 }
Error: Handshake inactivity timeout
    at Handshake.<anonymous> (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:154:17)
    at Handshake.emit (events.js:104:17)
    at Handshake._onTimeout (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:116:8)
    at Timer.listOnTimeout (timers.js:110:15)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.addChatList (E:\code\project\s_chat\server\actions.js:347:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:40:25.975] [INFO] dateFileLog - {"code":"PROTOCOL_SEQUENCE_TIMEOUT","fatal":true,"timeout":10000}
[2015-08-29 16:40:25.975] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
    at Array.forEach (native)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:389:13
    at process._tickCallback (node.js:355:11)
[2015-08-29 16:40:32.961] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.addChatList (E:\code\project\s_chat\server\actions.js:347:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:40:32.962] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:40:32.963] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at Protocol.handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:355:14)
    at PoolConnection.Connection._handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:371:18)
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:367:8)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
[2015-08-29 16:44:10.036] [INFO] dateFileLog - action / start......
[2015-08-29 16:44:10.036] [INFO] dateFileLog - param uid=220
[2015-08-29 16:44:10.036] [INFO] dateFileLog - param to=489
[2015-08-29 16:44:10.036] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:44:10.046] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:44:10.052] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:44:10.083] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:44:10.086] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:44:10.089] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:44:10.138] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:44:10.176] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:44:10.186] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:44:10.193] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:44:10.196] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:44:10.222] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:44:10.272] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:44:10.273] [INFO] dateFileLog - param to=489
[2015-08-29 16:44:10.273] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:44:10.281] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:44:20.278] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.getUserInfoM (E:\code\project\s_chat\server\actions.js:259:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:44:20.279] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:44:20.307] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:44:26.280] [INFO] dateFileLog - action / start......
[2015-08-29 16:44:26.280] [INFO] dateFileLog - param uid=220
[2015-08-29 16:44:26.280] [INFO] dateFileLog - param to=489
[2015-08-29 16:44:26.280] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:44:26.285] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:44:26.334] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:44:26.337] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:44:26.339] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:44:26.385] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:44:26.407] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:44:26.413] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:44:26.415] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:44:26.416] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:44:26.444] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:44:26.484] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:44:26.484] [INFO] dateFileLog - param to=489
[2015-08-29 16:44:26.485] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:44:26.490] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:44:36.489] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.getUserInfoM (E:\code\project\s_chat\server\actions.js:259:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:44:36.489] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:44:36.502] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:44:55.313] [INFO] dateFileLog - action / start......
[2015-08-29 16:44:55.313] [INFO] dateFileLog - param uid=489
[2015-08-29 16:44:55.313] [INFO] dateFileLog - param to=220
[2015-08-29 16:44:55.314] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:44:55.317] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:44:55.941] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:44:55.955] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:44:55.957] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:44:55.959] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:44:56.237] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:44:56.850] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:44:57.054] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:44:57.080] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:44:57.082] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:44:57.396] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:44:57.890] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:44:57.890] [INFO] dateFileLog - param to=220
[2015-08-29 16:44:57.890] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:44:57.892] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:45:07.893] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.getUserInfoM (E:\code\project\s_chat\server\actions.js:259:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:45:07.893] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:45:07.894] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:45:15.330] [INFO] dateFileLog - action / start......
[2015-08-29 16:45:15.330] [INFO] dateFileLog - param uid=220
[2015-08-29 16:45:15.330] [INFO] dateFileLog - param to=489
[2015-08-29 16:45:15.330] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:45:15.333] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:45:15.418] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:45:15.420] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:45:15.435] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:45:15.477] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:45:15.492] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:45:15.504] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:45:15.507] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:45:15.510] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:45:15.525] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:45:15.575] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:45:15.575] [INFO] dateFileLog - param to=489
[2015-08-29 16:45:15.575] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:45:15.581] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:45:25.576] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.getUserInfoM (E:\code\project\s_chat\server\actions.js:259:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 16:45:25.577] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:45:25.579] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:46:29.414] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.chatService.getAllGroup (E:\code\project\s_chat\server\services\chats.js:63:13)
    at initGroupInfo (E:\code\project\s_chat\server\globalcache.js:7:17)
    at wrapper [as _onTimeout] (timers.js:265:14)
    at Timer.listOnTimeout (timers.js:110:15)
[2015-08-29 16:46:29.414] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 16:53:25.786] [INFO] dateFileLog - action / start......
[2015-08-29 16:53:25.786] [INFO] dateFileLog - param uid=220
[2015-08-29 16:53:25.786] [INFO] dateFileLog - param to=489
[2015-08-29 16:53:25.786] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:25.789] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:53:25.841] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:53:25.843] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:53:25.846] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:53:25.915] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:53:25.929] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:53:25.944] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:53:25.945] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:53:25.946] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:53:25.958] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:53:26.001] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:53:26.002] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:53:26.002] [INFO] dateFileLog - param to=489
[2015-08-29 16:53:26.002] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:27.640] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:53:27.727] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:53:27.730] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:53:27.738] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:53:27.750] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:53:27.750] [INFO] dateFileLog - param tid=489
[2015-08-29 16:53:27.750] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:53:27.750] [INFO] dateFileLog - param date=
[2015-08-29 16:53:27.750] [INFO] dateFileLog - param page=1
[2015-08-29 16:53:27.750] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:27.756] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:53:27.758] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:53:27.759] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:53:27.759] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:53:27.759] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:53:27.759] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:27.760] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:53:27.775] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},
[2015-08-29 16:53:27.779] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:53:27.790] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:53:27.800] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:53:27.817] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:53:27.819] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:53:27.820] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:53:27.824] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:53:27.826] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:53:27.828] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:53:27.831] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:53:27.833] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:53:28.054] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:53:28.206] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:53:28.945] [INFO] dateFileLog - start transaction...
[2015-08-29 16:53:28.945] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:53:28' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:53:29.151] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:53:28' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:53:29.560] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:53:34.178] [INFO] dateFileLog - action / start......
[2015-08-29 16:53:34.178] [INFO] dateFileLog - param uid=489
[2015-08-29 16:53:34.178] [INFO] dateFileLog - param to=220
[2015-08-29 16:53:34.178] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:34.180] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:53:35.128] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:53:35.130] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:53:35.131] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:53:35.710] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:53:36.122] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:53:36.123] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:53:36.124] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:53:36.126] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:53:37.176] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:53:38.087] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:53:38.087] [INFO] dateFileLog - param to=220
[2015-08-29 16:53:38.087] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:38.089] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 16:53:39.314] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:53:39.395] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:53:39.398] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:53:40.008] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:53:41.163] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:53:41.163] [INFO] dateFileLog - param tid=220
[2015-08-29 16:53:41.163] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:53:41.163] [INFO] dateFileLog - param date=
[2015-08-29 16:53:41.163] [INFO] dateFileLog - param page=1
[2015-08-29 16:53:41.163] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:41.164] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:53:41.176] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:53:41.176] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:53:41.176] [INFO] dateFileLog - param tid=000000220
[2015-08-29 16:53:41.176] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:41.178] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:53:41.180] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:53:41.181] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 16:53:41.182] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},
[2015-08-29 16:53:41.183] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:53:41.401] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 16:53:41.548] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:53:41.550] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:53:41.746] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 16:53:41.754] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:53:41.755] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:53:41.756] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:53:41.757] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:53:41.758] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:53:41.759] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:53:42.209] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 16:53:42.210] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 16:53:42.212] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:53:42.214] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:53:42.471] [INFO] dateFileLog - start transaction...
[2015-08-29 16:53:42.472] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:53:42' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:53:42.668] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:53:42' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:53:42.773] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:53:46.768] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:53:47.283] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:53:47.284] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:53:47.285] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:53:47.287] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:53:47.289] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:53:47.290] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:53:48.300] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:53:48.302] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:53:49.548] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:53:50.152] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:53:50.157] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:53:50.158] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"}
[2015-08-29 16:53:50.163] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:53:50.163] [INFO] dateFileLog - param uid=220
[2015-08-29 16:53:50.164] [INFO] dateFileLog - param tid=489
[2015-08-29 16:53:50.164] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:53:51.664] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:53:51.997] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:53:52.198] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 16:53:52.608] [INFO] dateFileLog - start transaction...
[2015-08-29 16:53:52.608] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:53:52' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:53:52.804] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:53:52' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:53:52.911] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:54:31.933] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:54:31.937] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:54:31.938] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"}
[2015-08-29 16:54:36.226] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:54:36.226] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"}
[2015-08-29 16:54:41.063] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:54:41.076] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:54:41.077] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:54:41.086] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:54:41.092] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:54:41.095] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:54:41.098] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:54:41.101] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:54:42.847] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:54:42.857] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:54:42.858] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"}
[2015-08-29 16:54:45.749] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:54:46.696] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:54:46.697] [INFO] dateFileLog - param uid=489
[2015-08-29 16:54:46.697] [INFO] dateFileLog - param tid=220
[2015-08-29 16:54:46.697] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:54:47.161] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:54:47.162] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"}
[2015-08-29 16:54:52.122] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:54:52.199] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:54:52.402] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:54:53.121] [INFO] dateFileLog - start transaction...
[2015-08-29 16:54:53.121] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:54:52' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:54:53.327] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:54:52' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:54:53.429] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:54:54.630] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:54:54.631] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"}
[2015-08-29 16:55:01.731] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:55:01.732] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"}
[2015-08-29 16:55:05.724] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:55:05.725] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"}
[2015-08-29 16:55:09.159] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:55:09.160] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"}
[2015-08-29 16:55:17.696] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:55:17.696] [INFO] dateFileLog - param tid=220
[2015-08-29 16:55:17.696] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:55:17.696] [INFO] dateFileLog - param date=
[2015-08-29 16:55:17.696] [INFO] dateFileLog - param page=NaN
[2015-08-29 16:55:17.696] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:55:17.699] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:55:17.871] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:55:17.875] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"}
[2015-08-29 16:55:32.747] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:55:32.747] [INFO] dateFileLog - param tid=220
[2015-08-29 16:55:32.747] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:55:32.747] [INFO] dateFileLog - param date=
[2015-08-29 16:55:32.747] [INFO] dateFileLog - param page=NaN
[2015-08-29 16:55:32.747] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:55:32.749] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:55:57.660] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:55:57.660] [INFO] dateFileLog - param tid=220
[2015-08-29 16:55:57.660] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:55:57.660] [INFO] dateFileLog - param date=
[2015-08-29 16:55:57.660] [INFO] dateFileLog - param page=NaN
[2015-08-29 16:55:57.660] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:55:57.662] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:56:20.903] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 16:56:21.293] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 16:56:21.595] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 16:56:21.902] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 16:56:27.359] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 16:56:27.658] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 16:57:23.889] [INFO] dateFileLog - action / start......
[2015-08-29 16:57:23.889] [INFO] dateFileLog - param uid=220
[2015-08-29 16:57:23.889] [INFO] dateFileLog - param to=489
[2015-08-29 16:57:23.889] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:23.923] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 16:57:23.931] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 16:57:23.953] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:57:23.954] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:57:23.955] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:57:24.033] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:57:24.051] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:57:24.055] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:57:24.057] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:57:24.060] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:57:24.076] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:57:24.113] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:57:24.113] [INFO] dateFileLog - param to=489
[2015-08-29 16:57:24.113] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:24.880] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 16:57:25.081] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:57:25.085] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:57:25.105] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:57:25.108] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:57:25.108] [INFO] dateFileLog - param tid=489
[2015-08-29 16:57:25.108] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:57:25.108] [INFO] dateFileLog - param date=
[2015-08-29 16:57:25.109] [INFO] dateFileLog - param page=1
[2015-08-29 16:57:25.109] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:25.112] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:57:25.112] [INFO] dateFileLog - param uid=000000220
[2015-08-29 16:57:25.112] [INFO] dateFileLog - param tid=000000489
[2015-08-29 16:57:25.112] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:25.117] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:57:25.122] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:57:25.127] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 16:57:25.128] [DEBUG] dateFileLog - GET /images/add.jpg
[2015-08-29 16:57:25.129] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 16:57:25.146] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},
[2015-08-29 16:57:25.148] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:57:25.156] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:57:25.166] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:57:25.169] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:57:25.172] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:57:25.174] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:57:25.177] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:57:25.179] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:57:25.188] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 16:57:25.190] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:57:25.192] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:57:25.194] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:57:25.197] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 16:57:25.199] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 16:57:25.291] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:57:26.718] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 16:57:27.152] [INFO] dateFileLog - start transaction...
[2015-08-29 16:57:27.152] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:57:26' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:57:27.233] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:57:26' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:57:27.335] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:57:28.492] [INFO] dateFileLog - action / start......
[2015-08-29 16:57:28.492] [INFO] dateFileLog - param uid=489
[2015-08-29 16:57:28.493] [INFO] dateFileLog - param to=220
[2015-08-29 16:57:28.493] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:28.494] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 16:57:28.695] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 16:57:28.704] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 16:57:28.706] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 16:57:28.707] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 16:57:29.179] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 16:57:29.814] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 16:57:29.816] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 16:57:29.817] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 16:57:29.818] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 16:57:31.638] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 16:57:32.590] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 16:57:32.590] [INFO] dateFileLog - param to=220
[2015-08-29 16:57:32.590] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:32.747] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:57:32.861] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 16:57:32.863] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 16:57:33.096] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 16:57:33.610] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:57:33.610] [INFO] dateFileLog - param tid=220
[2015-08-29 16:57:33.610] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:57:33.610] [INFO] dateFileLog - param date=
[2015-08-29 16:57:33.610] [INFO] dateFileLog - param page=1
[2015-08-29 16:57:33.610] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:33.611] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:57:33.611] [INFO] dateFileLog - param uid=000000489
[2015-08-29 16:57:33.612] [INFO] dateFileLog - param tid=000000220
[2015-08-29 16:57:33.612] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:33.621] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 16:57:33.622] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 16:57:33.624] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 16:57:33.624] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},
[2015-08-29 16:57:33.626] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:57:33.783] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 16:57:34.015] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 16:57:34.030] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:57:34.090] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 16:57:34.218] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 16:57:34.399] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 16:57:34.403] [INFO] dateFileLog - start transaction...
[2015-08-29 16:57:34.403] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:57:34' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:57:34.405] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 16:57:34.407] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 16:57:34.408] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 16:57:34.409] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 16:57:34.410] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 16:57:34.602] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:57:34' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:57:34.634] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 16:57:34.636] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 16:57:34.637] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 16:57:34.639] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 16:57:34.640] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 16:57:34.704] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:57:41.504] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:57:41.515] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:57:41.517] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:57:41.518] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:57:41.522] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:57:41.523] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:57:41.525] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:57:41.527] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:57:43.462] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:57:43.472] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:57:43.473] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"}
[2015-08-29 16:57:43.933] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:57:44.590] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:57:44.590] [INFO] dateFileLog - param uid=489
[2015-08-29 16:57:44.590] [INFO] dateFileLog - param tid=220
[2015-08-29 16:57:44.590] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:57:44.751] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 16:57:44.819] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 16:57:45.055] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=489 AND toid =220
[2015-08-29 16:57:45.769] [INFO] dateFileLog - start transaction...
[2015-08-29 16:57:45.769] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:57:45' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 16:57:45.972] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 16:57:45' WHERE  user='489' AND toid ='220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 16:57:46.072] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 16:57:48.970] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:57:48.971] [DEBUG] dateFileLog - record a message from 220: {"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"}
[2015-08-29 16:57:51.623] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 16:57:52.246] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 16:57:52.247] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 16:57:52.248] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 16:57:52.249] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 16:57:52.251] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 16:57:52.252] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 16:57:52.816] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 16:57:54.372] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 16:57:54.987] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 16:57:54.989] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 16:57:54.990] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"}
[2015-08-29 16:57:54.997] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:57:54.999] [INFO] dateFileLog - param uid=220
[2015-08-29 16:57:54.999] [INFO] dateFileLog - param tid=489
[2015-08-29 16:57:54.999] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:58:27.070] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 16:58:27.070] [INFO] dateFileLog - param tid=489
[2015-08-29 16:58:27.070] [INFO] dateFileLog - param chattype=single
[2015-08-29 16:58:27.070] [INFO] dateFileLog - param date=
[2015-08-29 16:58:27.070] [INFO] dateFileLog - param page=NaN
[2015-08-29 16:58:27.070] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 16:58:27.075] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 16:59:55.001] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 16:59:55.001] [INFO] dateFileLog - param uid=220
[2015-08-29 16:59:55.001] [INFO] dateFileLog - param tid=489
[2015-08-29 16:59:55.001] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:01:55.007] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:01:55.008] [INFO] dateFileLog - param uid=220
[2015-08-29 17:01:55.008] [INFO] dateFileLog - param tid=489
[2015-08-29 17:01:55.008] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:23:28.615] [INFO] dateFileLog - action / start......
[2015-08-29 17:23:28.615] [INFO] dateFileLog - param uid=220
[2015-08-29 17:23:28.615] [INFO] dateFileLog - param to=489
[2015-08-29 17:23:28.615] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:23:28.615] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 17:23:29.367] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 17:24:04.302] [INFO] dateFileLog - action / start......
[2015-08-29 17:24:04.302] [INFO] dateFileLog - param uid=220
[2015-08-29 17:24:04.302] [INFO] dateFileLog - param to=489
[2015-08-29 17:24:04.302] [INFO] dateFileLog - param pid=157
[2015-08-29 17:24:04.302] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:24:04.302] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 17:24:05.001] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 17:24:16.079] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 17:24:17.596] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 17:24:17.903] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 17:24:18.905] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 17:24:19.209] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 17:24:20.052] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 17:24:20.964] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 17:24:32.007] [INFO] dateFileLog - action / start......
[2015-08-29 17:24:32.007] [INFO] dateFileLog - param uid=220
[2015-08-29 17:24:32.007] [INFO] dateFileLog - param to=489
[2015-08-29 17:24:32.007] [INFO] dateFileLog - param pid=157
[2015-08-29 17:24:32.007] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:24:32.008] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 17:24:32.345] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 17:24:32.574] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:24:32.703] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=157
[2015-08-29 17:24:32.742] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:24:32.745] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:24:32.749] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:24:33.078] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:24:33.096] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:24:33.100] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:24:33.104] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:24:33.106] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:24:33.131] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:24:33.178] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:24:33.179] [INFO] dateFileLog - param to=489
[2015-08-29 17:24:33.179] [INFO] dateFileLog - param pid=157
[2015-08-29 17:24:33.179] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:24:33.341] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:24:33.546] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:24:33.553] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:24:33.562] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:24:33.572] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:24:33.573] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:24:33.575] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:24:33.576] [INFO] dateFileLog - param tid=489
[2015-08-29 17:24:33.576] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:24:33.576] [INFO] dateFileLog - param date=
[2015-08-29 17:24:33.576] [INFO] dateFileLog - param page=1
[2015-08-29 17:24:33.577] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:24:33.580] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:24:33.581] [INFO] dateFileLog - param pid=157
[2015-08-29 17:24:33.581] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:24:33.581] [INFO] dateFileLog - get product 157 info from foreign system
[2015-08-29 17:24:33.588] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:24:33.588] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:24:33.588] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:24:33.588] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:24:33.595] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:24:33.605] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:24:33.611] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:24:33.628] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:24:33.645] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:24:33.650] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:24:33.655] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:24:33.659] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:24:33.664] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:24:33.673] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:24:33.677] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:24:33.682] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:24:33.686] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:24:33.687] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:24:33.793] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:24:33.993] [INFO] dateFileLog - got product info from foreign system:""
[2015-08-29 17:24:33.995] [ERROR] dateFileLog - Unexpected end of input
SyntaxError: Unexpected end of input
    at Object.parse (native)
    at E:\code\project\s_chat\server\services\finterfaces.js:127:35
    at IncomingMessage.<anonymous> (E:\code\project\s_chat\server\_util.js:86:21)
    at IncomingMessage.emit (events.js:129:20)
    at _stream_readable.js:908:16
    at process._tickCallback (node.js:355:11)
[2015-08-29 17:24:33.995] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:24:34.366] [INFO] dateFileLog - start transaction...
[2015-08-29 17:24:34.367] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:24:34' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:24:34.467] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:24:34' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:24:34.570] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:26:33.584] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:26:33.584] [INFO] dateFileLog - param pid=157
[2015-08-29 17:26:33.584] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:26:33.584] [INFO] dateFileLog - get product 157 info from foreign system
[2015-08-29 17:26:33.993] [INFO] dateFileLog - got product info from foreign system:""
[2015-08-29 17:26:33.994] [ERROR] dateFileLog - Unexpected end of input
SyntaxError: Unexpected end of input
    at Object.parse (native)
    at E:\code\project\s_chat\server\services\finterfaces.js:127:35
    at IncomingMessage.<anonymous> (E:\code\project\s_chat\server\_util.js:86:21)
    at IncomingMessage.emit (events.js:129:20)
    at _stream_readable.js:908:16
    at process._tickCallback (node.js:355:11)
[2015-08-29 17:26:45.251] [INFO] dateFileLog - action / start......
[2015-08-29 17:26:45.251] [INFO] dateFileLog - param uid=220
[2015-08-29 17:26:45.251] [INFO] dateFileLog - param to=489
[2015-08-29 17:26:45.251] [INFO] dateFileLog - param pid=175
[2015-08-29 17:26:45.251] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:26:45.257] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:26:45.273] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:26:45.291] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:26:45.295] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:26:45.306] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:26:45.347] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:26:45.382] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:26:45.386] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:26:45.390] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:26:45.393] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:26:45.414] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:26:45.457] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:26:45.457] [INFO] dateFileLog - param to=489
[2015-08-29 17:26:45.457] [INFO] dateFileLog - param pid=175
[2015-08-29 17:26:45.457] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:26:46.357] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:26:46.564] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:26:46.567] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:26:46.573] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:26:46.585] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:26:46.585] [INFO] dateFileLog - param tid=489
[2015-08-29 17:26:46.585] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:26:46.585] [INFO] dateFileLog - param date=
[2015-08-29 17:26:46.585] [INFO] dateFileLog - param page=1
[2015-08-29 17:26:46.585] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:26:46.587] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:26:46.589] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:26:46.591] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:26:46.591] [INFO] dateFileLog - param pid=175
[2015-08-29 17:26:46.591] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:26:46.591] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:26:46.593] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:26:46.596] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:26:46.602] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:26:46.602] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:26:46.602] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:26:46.602] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:26:46.604] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:26:46.620] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:26:46.639] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:26:46.640] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:26:46.645] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:26:46.648] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:26:46.652] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:26:46.657] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:26:46.661] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:26:46.663] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:26:46.667] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:26:46.668] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:26:46.771] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:26:46.775] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:26:46.778] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:26:46.870] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:26:47.280] [INFO] dateFileLog - start transaction...
[2015-08-29 17:26:47.280] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:26:46' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:26:47.483] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:26:46' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:26:47.795] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:27:56.397] [INFO] dateFileLog - action / start......
[2015-08-29 17:27:56.399] [INFO] dateFileLog - param uid=220
[2015-08-29 17:27:56.399] [INFO] dateFileLog - param to=489
[2015-08-29 17:27:56.399] [INFO] dateFileLog - param pid=175
[2015-08-29 17:27:56.399] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:27:56.404] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:27:56.415] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:27:56.446] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:27:56.457] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:27:56.459] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:27:56.520] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:27:56.533] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:27:56.537] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:27:56.542] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:27:56.544] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:27:56.564] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:27:56.600] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:27:56.601] [INFO] dateFileLog - param to=489
[2015-08-29 17:27:56.601] [INFO] dateFileLog - param pid=175
[2015-08-29 17:27:56.601] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:27:56.994] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:27:57.217] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:27:57.221] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:27:57.228] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:27:57.240] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:27:57.241] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:27:57.243] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:27:57.243] [INFO] dateFileLog - param tid=489
[2015-08-29 17:27:57.243] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:27:57.244] [INFO] dateFileLog - param date=
[2015-08-29 17:27:57.244] [INFO] dateFileLog - param page=1
[2015-08-29 17:27:57.244] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:27:57.246] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:27:57.260] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:27:57.261] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:27:57.261] [INFO] dateFileLog - param pid=175
[2015-08-29 17:27:57.262] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:28:13.548] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:28:13.559] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:28:13.559] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:28:13.559] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:28:13.559] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:28:13.561] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:28:13.575] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:28:13.595] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:28:13.601] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:28:13.604] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:28:13.606] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:28:13.609] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:28:13.614] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:28:13.622] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:28:13.625] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:28:13.627] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:28:13.935] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:28:14.147] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:28:14.149] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:28:20.426] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:28:20.427] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:28:21.281] [INFO] dateFileLog - start transaction...
[2015-08-29 17:28:21.281] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:28:20' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:28:21.486] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:28:20' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:28:21.590] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:28:24.059] [INFO] dateFileLog - action / start......
[2015-08-29 17:28:24.059] [INFO] dateFileLog - param uid=220
[2015-08-29 17:28:24.059] [INFO] dateFileLog - param to=489
[2015-08-29 17:28:24.059] [INFO] dateFileLog - param pid=175
[2015-08-29 17:28:24.059] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:28:24.061] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:28:24.072] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:28:24.094] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:28:24.095] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:28:24.105] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:28:24.166] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:28:24.193] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:28:24.195] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:28:24.199] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:28:24.203] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:28:24.224] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:28:24.270] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:28:24.271] [INFO] dateFileLog - param to=489
[2015-08-29 17:28:24.271] [INFO] dateFileLog - param pid=175
[2015-08-29 17:28:24.271] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:28:24.376] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:28:24.561] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:28:24.563] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:28:24.604] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:28:24.611] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:28:24.611] [INFO] dateFileLog - param tid=489
[2015-08-29 17:28:24.611] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:28:24.611] [INFO] dateFileLog - param date=
[2015-08-29 17:28:24.611] [INFO] dateFileLog - param page=1
[2015-08-29 17:28:24.612] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:28:24.614] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:28:24.614] [INFO] dateFileLog - param pid=175
[2015-08-29 17:28:24.615] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:28:58.496] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:29:11.092] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:29:11.092] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:29:11.092] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:29:11.092] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:29:11.093] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:29:11.111] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:29:11.113] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:29:11.113] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:29:11.117] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:29:11.126] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:29:11.139] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:29:11.141] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:29:11.146] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:29:11.147] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:29:11.151] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:29:11.153] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:29:11.157] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:29:11.159] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:29:11.161] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:29:41.101] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Pool.releaseConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:135:10)
    at Pool._removeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:247:8)
    at Pool._purgeConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:228:8)
    at Ping.onPing [as _callback] (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:90:12)
    at Ping.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:390:18
[2015-08-29 17:29:41.102] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 17:29:41.102] [ERROR] dateFileLog - addChatList error
Error: addChatList error
    at E:\code\project\s_chat\server\actions.js:361:23
    at E:\code\project\s_chat\server\services\user.js:20:13
    at E:\code\project\s_chat\server\mysqldbfactory.js:18:17
    at Handshake.onConnect (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:54:9)
    at Handshake.Sequence.end (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:96:24)
    at Protocol.handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:355:14)
    at PoolConnection.Connection._handleNetworkError (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:371:18)
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:367:8)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
[2015-08-29 17:29:55.112] [INFO] dateFileLog - action / start......
[2015-08-29 17:29:55.113] [INFO] dateFileLog - param uid=220
[2015-08-29 17:29:55.113] [INFO] dateFileLog - param to=489
[2015-08-29 17:29:55.113] [INFO] dateFileLog - param pid=175
[2015-08-29 17:29:55.113] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:29:55.116] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:29:55.129] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:29:55.148] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:29:55.156] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:29:55.158] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:29:55.207] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:29:55.240] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:29:55.244] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:29:55.247] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:29:55.250] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:29:55.270] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:29:55.309] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:29:55.309] [INFO] dateFileLog - param to=489
[2015-08-29 17:29:55.309] [INFO] dateFileLog - param pid=175
[2015-08-29 17:29:55.309] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:30:05.313] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.getUserInfoM (E:\code\project\s_chat\server\actions.js:259:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 17:30:05.314] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 17:30:05.317] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:30:09.426] [INFO] dateFileLog - action / start......
[2015-08-29 17:30:09.427] [INFO] dateFileLog - param uid=220
[2015-08-29 17:30:09.427] [INFO] dateFileLog - param to=489
[2015-08-29 17:30:09.427] [INFO] dateFileLog - param pid=175
[2015-08-29 17:30:09.427] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:30:09.431] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:30:09.477] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:30:09.479] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:30:09.482] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:30:09.547] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:30:09.561] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:30:09.564] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:30:09.569] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:30:09.572] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:30:09.587] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:30:09.632] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:30:09.632] [INFO] dateFileLog - param to=489
[2015-08-29 17:30:09.633] [INFO] dateFileLog - param pid=175
[2015-08-29 17:30:09.633] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:30:19.635] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.UserService.checkuser (E:\code\project\s_chat\server\services\user.js:8:13)
    at actions.getUserInfoM (E:\code\project\s_chat\server\actions.js:259:21)
    at E:\code\project\s_chat\myapp.js:168:17
    at callbacks (E:\code\project\s_chat\node_modules\express\lib\router\index.js:161:37)
    at param (E:\code\project\s_chat\node_modules\express\lib\router\index.js:135:11)
[2015-08-29 17:30:19.635] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 17:30:19.638] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:31:41.960] [INFO] dateFileLog - action / start......
[2015-08-29 17:31:41.960] [INFO] dateFileLog - param uid=220
[2015-08-29 17:31:41.960] [INFO] dateFileLog - param to=489
[2015-08-29 17:31:41.960] [INFO] dateFileLog - param pid=175
[2015-08-29 17:31:41.960] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:31:41.966] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:31:42.014] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:31:42.017] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:31:42.019] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:31:42.063] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:31:42.096] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:31:42.102] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:31:42.106] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:31:42.108] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:31:42.120] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:31:42.155] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:31:42.155] [INFO] dateFileLog - param to=489
[2015-08-29 17:31:42.156] [INFO] dateFileLog - param pid=175
[2015-08-29 17:31:42.156] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:31:43.959] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:31:44.031] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:31:44.034] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:31:44.051] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:31:44.053] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:31:44.053] [INFO] dateFileLog - param tid=489
[2015-08-29 17:31:44.053] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:31:44.053] [INFO] dateFileLog - param date=
[2015-08-29 17:31:44.053] [INFO] dateFileLog - param page=1
[2015-08-29 17:31:44.053] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:31:44.055] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:31:44.055] [INFO] dateFileLog - param pid=175
[2015-08-29 17:31:44.055] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:31:50.081] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:31:50.095] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:31:50.097] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:31:50.100] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:31:50.100] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:31:50.100] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:31:50.100] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:31:50.102] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:31:50.109] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:31:50.112] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:31:50.122] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:31:50.134] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:31:50.138] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:31:50.140] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:31:50.144] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:31:50.146] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:31:50.150] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:31:50.153] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:31:50.157] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:31:50.159] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:31:50.511] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:31:50.718] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:31:50.721] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:33:46.674] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:33:46.691] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:33:48.075] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:33:48.446] [INFO] dateFileLog - start transaction...
[2015-08-29 17:33:48.446] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:33:48' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:33:48.654] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:33:48' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:33:48.753] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:34:17.555] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 17:34:17.691] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 17:34:18.246] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 17:34:19.092] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 17:34:19.706] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 17:34:21.857] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 17:37:01.015] [INFO] dateFileLog - action / start......
[2015-08-29 17:37:01.015] [INFO] dateFileLog - param uid=220
[2015-08-29 17:37:01.015] [INFO] dateFileLog - param to=489
[2015-08-29 17:37:01.015] [INFO] dateFileLog - param pid=175
[2015-08-29 17:37:01.015] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:01.022] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:37:01.101] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:37:01.113] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:37:01.122] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:37:01.156] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:37:01.176] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:37:01.185] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:37:01.189] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:37:01.192] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:37:01.212] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:37:01.250] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:37:01.250] [INFO] dateFileLog - param to=489
[2015-08-29 17:37:01.250] [INFO] dateFileLog - param pid=175
[2015-08-29 17:37:01.250] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:01.821] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:37:02.009] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:37:02.012] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:37:02.032] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:37:02.034] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:37:02.034] [INFO] dateFileLog - param tid=489
[2015-08-29 17:37:02.034] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:37:02.034] [INFO] dateFileLog - param date=
[2015-08-29 17:37:02.034] [INFO] dateFileLog - param page=1
[2015-08-29 17:37:02.034] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:02.035] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:37:02.035] [INFO] dateFileLog - param pid=175
[2015-08-29 17:37:02.036] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:05.331] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:37:05.341] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:37:05.353] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:37:05.354] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:37:05.355] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:37:05.355] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:37:05.355] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:05.355] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:37:05.362] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:37:05.366] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:37:05.373] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:37:05.383] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:37:05.387] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:37:05.392] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:37:05.395] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:37:05.399] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:37:05.402] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:37:05.405] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:37:05.409] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:37:05.410] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:37:06.286] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:37:06.313] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:37:35.136] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 17:37:36.314] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 17:37:36.621] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 17:37:37.848] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 17:37:37.927] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 17:37:38.565] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 17:37:38.951] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 17:37:43.615] [INFO] dateFileLog - action / start......
[2015-08-29 17:37:43.618] [INFO] dateFileLog - param uid=220
[2015-08-29 17:37:43.618] [INFO] dateFileLog - param to=489
[2015-08-29 17:37:43.618] [INFO] dateFileLog - param pid=175
[2015-08-29 17:37:43.618] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:43.619] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 17:37:43.997] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 17:37:44.068] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:37:44.285] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:37:44.331] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:37:44.335] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:37:44.345] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:37:44.683] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:37:44.699] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:37:44.705] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:37:44.711] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:37:44.714] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:37:44.730] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:37:44.774] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:37:44.775] [INFO] dateFileLog - param to=489
[2015-08-29 17:37:44.775] [INFO] dateFileLog - param pid=175
[2015-08-29 17:37:44.775] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:44.992] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:37:45.197] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:37:45.203] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:37:45.211] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:37:45.225] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:37:45.225] [INFO] dateFileLog - param tid=489
[2015-08-29 17:37:45.225] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:37:45.225] [INFO] dateFileLog - param date=
[2015-08-29 17:37:45.225] [INFO] dateFileLog - param page=1
[2015-08-29 17:37:45.225] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:45.228] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:37:45.228] [INFO] dateFileLog - param pid=175
[2015-08-29 17:37:45.228] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:49.439] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:37:49.448] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:37:49.448] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:37:49.449] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:37:49.449] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:37:49.451] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:37:49.463] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:37:49.468] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:37:49.469] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:37:49.474] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:37:49.481] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:37:49.501] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:37:49.506] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:37:49.510] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:37:49.515] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:37:49.521] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:37:49.523] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:37:49.527] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:37:49.529] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:37:49.531] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:37:49.601] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:37:49.838] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:37:49.841] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:37:49.843] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:37:49.904] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:37:50.213] [INFO] dateFileLog - start transaction...
[2015-08-29 17:37:50.213] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:37:50' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:37:50.419] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:37:50' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:37:50.988] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:38:43.593] [INFO] dateFileLog - action / start......
[2015-08-29 17:38:43.594] [INFO] dateFileLog - param uid=220
[2015-08-29 17:38:43.594] [INFO] dateFileLog - param to=489
[2015-08-29 17:38:43.594] [INFO] dateFileLog - param pid=175
[2015-08-29 17:38:43.594] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:38:43.598] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:38:43.608] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:38:43.649] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:38:43.652] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:38:43.655] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:38:43.697] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:38:43.733] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:38:43.738] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:38:43.740] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:38:43.742] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:38:43.756] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:38:43.796] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:38:43.796] [INFO] dateFileLog - param to=489
[2015-08-29 17:38:43.796] [INFO] dateFileLog - param pid=175
[2015-08-29 17:38:43.796] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:38:43.975] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:38:44.177] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:38:44.181] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:38:44.188] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:38:44.203] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:38:44.203] [INFO] dateFileLog - param tid=489
[2015-08-29 17:38:44.203] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:38:44.203] [INFO] dateFileLog - param date=
[2015-08-29 17:38:44.203] [INFO] dateFileLog - param page=1
[2015-08-29 17:38:44.203] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:38:44.205] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:38:44.205] [INFO] dateFileLog - param pid=175
[2015-08-29 17:38:44.205] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:38:44.205] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:38:44.209] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:38:44.209] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:38:44.209] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:38:44.209] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:38:44.212] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:38:44.215] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:38:44.216] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:38:44.224] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:38:44.229] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:38:44.239] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:38:44.251] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:38:44.253] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:38:44.264] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:38:44.268] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:38:44.272] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:38:44.275] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:38:44.277] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:38:44.280] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:38:44.283] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:38:44.285] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:38:44.379] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:38:44.384] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:39:17.347] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:39:17.586] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:39:17.870] [INFO] dateFileLog - start transaction...
[2015-08-29 17:39:17.870] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:39:17' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:39:17.969] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:39:17' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:39:18.074] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:40:39.001] [INFO] dateFileLog - action / start......
[2015-08-29 17:40:39.001] [INFO] dateFileLog - param uid=220
[2015-08-29 17:40:39.001] [INFO] dateFileLog - param to=489
[2015-08-29 17:40:39.001] [INFO] dateFileLog - param pid=175
[2015-08-29 17:40:39.001] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:40:39.005] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:40:39.013] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:40:39.040] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:40:39.057] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:40:39.059] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:40:39.131] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:40:39.143] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:40:39.146] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:40:39.151] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:40:39.153] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:40:39.172] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:40:39.210] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:40:39.210] [INFO] dateFileLog - param to=489
[2015-08-29 17:40:39.210] [INFO] dateFileLog - param pid=175
[2015-08-29 17:40:39.211] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:40:39.380] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:40:39.481] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:40:39.486] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:40:39.493] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:40:39.506] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:40:39.506] [INFO] dateFileLog - param tid=489
[2015-08-29 17:40:39.506] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:40:39.506] [INFO] dateFileLog - param date=
[2015-08-29 17:40:39.506] [INFO] dateFileLog - param page=1
[2015-08-29 17:40:39.506] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:40:39.507] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:40:39.507] [INFO] dateFileLog - param pid=175
[2015-08-29 17:40:39.508] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:40:39.508] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:40:39.513] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:40:39.514] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:40:39.514] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:40:39.514] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:40:39.515] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:40:39.525] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:40:39.528] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:40:39.529] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:40:39.532] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:40:39.542] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:40:39.553] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:40:39.556] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:40:39.559] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:40:39.561] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:40:39.564] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:40:39.567] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:40:39.570] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:40:39.572] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:40:39.575] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:40:39.725] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:40:39.790] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:40:39.817] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:40:44.105] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:40:44.105] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:40:44.508] [INFO] dateFileLog - start transaction...
[2015-08-29 17:40:44.508] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:40:44' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:40:44.701] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:40:44' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:40:44.906] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:41:20.849] [INFO] dateFileLog - action / start......
[2015-08-29 17:41:20.850] [INFO] dateFileLog - param uid=489
[2015-08-29 17:41:20.850] [INFO] dateFileLog - param to=220
[2015-08-29 17:41:20.850] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:41:20.850] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 17:41:21.513] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 17:41:21.873] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:41:22.081] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 17:41:22.291] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:41:22.293] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:41:22.294] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:41:22.600] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:41:24.338] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:41:24.340] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:41:24.341] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:41:24.342] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:41:26.797] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:41:27.412] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:41:27.412] [INFO] dateFileLog - param to=220
[2015-08-29 17:41:27.412] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:41:27.612] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:41:28.089] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:41:28.092] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:41:28.944] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:41:29.765] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:41:29.766] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:41:29.767] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:41:29.767] [INFO] dateFileLog - param tid=220
[2015-08-29 17:41:29.767] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:41:29.767] [INFO] dateFileLog - param date=
[2015-08-29 17:41:29.767] [INFO] dateFileLog - param page=1
[2015-08-29 17:41:29.767] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:41:29.768] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 17:41:29.781] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:41:29.781] [INFO] dateFileLog - param uid=000000489
[2015-08-29 17:41:29.781] [INFO] dateFileLog - param tid=000000220
[2015-08-29 17:41:29.781] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:41:29.783] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 17:41:29.783] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:41:29.785] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:41:29.863] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 17:41:29.979] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:41:29.981] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:41:30.068] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 17:41:30.179] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:41:30.180] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:41:30.182] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:41:30.183] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:41:30.184] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:41:30.185] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:41:30.479] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:41:30.481] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:41:30.482] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:41:30.483] [INFO] dateFileLog - start transaction...
[2015-08-29 17:41:30.483] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:41:30' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:41:30.485] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 17:41:30.486] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 17:41:30.682] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:41:30' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:41:30.909] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:42:40.829] [INFO] dateFileLog - action / start......
[2015-08-29 17:42:40.829] [INFO] dateFileLog - param uid=489
[2015-08-29 17:42:40.829] [INFO] dateFileLog - param to=220
[2015-08-29 17:42:40.829] [INFO] dateFileLog - param pid=175
[2015-08-29 17:42:40.829] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:42:40.831] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 17:42:40.992] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 17:42:41.133] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:42:41.137] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:42:41.139] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:42:41.353] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:42:41.775] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:42:41.776] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:42:41.777] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:42:41.778] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:42:42.058] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:42:42.674] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:42:42.674] [INFO] dateFileLog - param to=220
[2015-08-29 17:42:42.674] [INFO] dateFileLog - param pid=175
[2015-08-29 17:42:42.674] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:42:44.332] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:42:44.510] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:42:44.512] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:42:44.821] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:42:45.521] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:42:45.521] [INFO] dateFileLog - param tid=220
[2015-08-29 17:42:45.521] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:42:45.521] [INFO] dateFileLog - param date=
[2015-08-29 17:42:45.522] [INFO] dateFileLog - param page=1
[2015-08-29 17:42:45.522] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:42:45.523] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:42:45.523] [INFO] dateFileLog - param pid=175
[2015-08-29 17:42:45.523] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:42:45.523] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:42:45.524] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 17:42:45.537] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:42:45.537] [INFO] dateFileLog - param uid=000000489
[2015-08-29 17:42:45.537] [INFO] dateFileLog - param tid=000000220
[2015-08-29 17:42:45.537] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:42:45.539] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:42:45.541] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:42:45.541] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:42:45.543] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:42:45.752] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 17:42:45.975] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:42:45.977] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:43:06.342] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:43:06.349] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:43:06.845] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:43:06.846] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:43:06.848] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:43:06.849] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:43:06.851] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:43:06.852] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:43:07.252] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:43:07.253] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:43:07.254] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:43:07.479] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 17:43:07.857] [INFO] dateFileLog - start transaction...
[2015-08-29 17:43:07.857] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:43:07' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:43:07.992] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:43:07' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:43:08.164] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:47:35.966] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 17:47:36.274] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 17:47:36.967] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 17:47:37.274] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 17:47:37.785] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 17:47:38.424] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 17:48:20.894] [INFO] dateFileLog - action / start......
[2015-08-29 17:48:20.894] [INFO] dateFileLog - param uid=489
[2015-08-29 17:48:20.894] [INFO] dateFileLog - param to=220
[2015-08-29 17:48:20.894] [INFO] dateFileLog - param pid=175
[2015-08-29 17:48:20.894] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:48:20.897] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 17:48:22.156] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 17:48:22.165] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:48:22.166] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:48:22.168] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:48:22.743] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:48:24.605] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:48:24.606] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:48:24.608] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:48:24.609] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:48:25.198] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:48:26.352] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:48:26.352] [INFO] dateFileLog - param to=220
[2015-08-29 17:48:26.352] [INFO] dateFileLog - param pid=175
[2015-08-29 17:48:26.352] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:48:26.552] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:48:26.764] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:48:26.766] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:48:26.959] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:48:27.683] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:48:27.683] [INFO] dateFileLog - param tid=220
[2015-08-29 17:48:27.683] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:48:27.683] [INFO] dateFileLog - param date=
[2015-08-29 17:48:27.683] [INFO] dateFileLog - param page=1
[2015-08-29 17:48:27.683] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:48:27.684] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:48:27.684] [INFO] dateFileLog - param pid=175
[2015-08-29 17:48:27.684] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:48:27.684] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:48:27.687] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 17:48:27.700] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:48:27.700] [INFO] dateFileLog - param uid=000000489
[2015-08-29 17:48:27.700] [INFO] dateFileLog - param tid=000000220
[2015-08-29 17:48:27.700] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:48:27.702] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:48:27.703] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:48:27.705] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 17:48:27.705] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:48:27.707] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:48:27.884] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 17:48:27.966] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:48:27.971] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:48:27.973] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:48:28.108] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 17:48:28.267] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:48:28.371] [INFO] dateFileLog - start transaction...
[2015-08-29 17:48:28.371] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:48:28' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:48:28.377] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:48:28.379] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:48:28.380] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:48:28.381] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:48:28.474] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:48:28' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:48:28.477] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:48:28.479] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:48:28.480] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:48:28.481] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:48:28.482] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:48:28.576] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:48:28.578] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 17:48:28.579] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 17:49:32.165] [INFO] dateFileLog - action / start......
[2015-08-29 17:49:32.165] [INFO] dateFileLog - param uid=489
[2015-08-29 17:49:32.165] [INFO] dateFileLog - param to=220
[2015-08-29 17:49:32.165] [INFO] dateFileLog - param pid=175
[2015-08-29 17:49:32.166] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:49:32.167] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 17:49:32.815] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 17:49:32.824] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:49:32.826] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:49:32.829] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:49:33.395] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:49:35.264] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:49:35.265] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:49:35.266] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:49:35.267] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:49:35.880] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:49:37.009] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:49:37.009] [INFO] dateFileLog - param to=220
[2015-08-29 17:49:37.009] [INFO] dateFileLog - param pid=175
[2015-08-29 17:49:37.009] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:49:37.079] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:49:37.215] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:49:37.217] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:49:37.434] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:49:38.034] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:49:38.035] [INFO] dateFileLog - param tid=220
[2015-08-29 17:49:38.035] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:49:38.035] [INFO] dateFileLog - param date=
[2015-08-29 17:49:38.035] [INFO] dateFileLog - param page=1
[2015-08-29 17:49:38.035] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:49:38.036] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:49:38.036] [INFO] dateFileLog - param pid=175
[2015-08-29 17:49:38.036] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:49:38.036] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:49:38.038] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:49:38.038] [INFO] dateFileLog - param uid=000000489
[2015-08-29 17:49:38.038] [INFO] dateFileLog - param tid=000000220
[2015-08-29 17:49:38.038] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:49:38.039] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 17:49:38.052] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:49:38.054] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:49:38.054] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},
[2015-08-29 17:49:38.056] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:49:38.209] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 17:49:38.212] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:49:38.267] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:49:38.281] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:49:38.284] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:49:38.477] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 17:49:38.482] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:49:38.483] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:49:38.485] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:49:38.486] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:49:38.487] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:49:38.488] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:49:38.625] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:49:38.627] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:49:38.628] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:49:38.926] [INFO] dateFileLog - start transaction...
[2015-08-29 17:49:38.926] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:49:38' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:49:39.126] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:49:38' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:49:39.230] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:51:06.170] [DEBUG] dateFileLog - GET /views/tmpls/emojipanel.ejs
[2015-08-29 17:51:07.018] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 17:51:07.020] [DEBUG] dateFileLog - GET /images/emoji/cry.png
[2015-08-29 17:51:07.022] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 17:51:07.023] [DEBUG] dateFileLog - GET /images/emoji/hellokitty.png
[2015-08-29 17:51:07.025] [DEBUG] dateFileLog - GET /images/emoji/idwtsy.png
[2015-08-29 17:51:07.026] [DEBUG] dateFileLog - GET /images/emoji/smile.png
[2015-08-29 17:51:07.215] [DEBUG] dateFileLog - GET /images/emoji/wcis.png
[2015-08-29 17:51:09.455] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_r.ejs
[2015-08-29 17:51:09.858] [INFO] dateFileLog - msgdata/220/489/2015-08-29/1.json
[2015-08-29 17:51:09.860] [DEBUG] dateFileLog - record a message from 489: {"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"}
[2015-08-29 17:51:09.865] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow_l.ejs
[2015-08-29 17:51:09.874] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 17:51:09.875] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:51:09.875] [INFO] dateFileLog - param uid=220
[2015-08-29 17:51:09.875] [INFO] dateFileLog - param tid=489
[2015-08-29 17:51:09.875] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:51:10.053] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:51:10.470] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:51:10.671] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=220 AND toid =489
[2015-08-29 17:51:11.377] [INFO] dateFileLog - start transaction...
[2015-08-29 17:51:11.377] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:51:10' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:51:11.619] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:51:10' WHERE  user='220' AND toid ='489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:51:12.048] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:52:10.274] [INFO] dateFileLog - action / start......
[2015-08-29 17:52:10.274] [INFO] dateFileLog - param uid=489
[2015-08-29 17:52:10.274] [INFO] dateFileLog - param to=220
[2015-08-29 17:52:10.274] [INFO] dateFileLog - param pid=
[2015-08-29 17:52:10.274] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:52:10.277] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid
[2015-08-29 17:52:10.485] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 17:52:10.505] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:52:10.526] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:52:10.528] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:52:10.885] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:52:10.992] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:52:10.993] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:52:10.994] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:52:10.996] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:52:11.195] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:53:21.045] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 17:53:22.190] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 17:53:22.460] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 17:53:23.182] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 17:53:23.487] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 17:53:23.794] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 17:53:24.203] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 17:53:25.030] [INFO] dateFileLog - action / start......
[2015-08-29 17:53:25.030] [INFO] dateFileLog - param uid=489
[2015-08-29 17:53:25.030] [INFO] dateFileLog - param to=220
[2015-08-29 17:53:25.030] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:25.030] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 17:53:25.640] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 17:53:25.865] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:53:25.956] [DEBUG] dateFileLog - GET /?uid=489&to=220
[2015-08-29 17:53:26.564] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:53:26.566] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:53:26.766] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:53:26.868] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:53:27.073] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:53:27.074] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:53:27.076] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:53:27.493] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:53:27.496] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:53:28.099] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:53:28.099] [INFO] dateFileLog - param to=220
[2015-08-29 17:53:28.099] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:28.154] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:53:29.321] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:53:29.327] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:53:30.272] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:53:31.066] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:53:31.089] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:53:31.089] [INFO] dateFileLog - param tid=220
[2015-08-29 17:53:31.089] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:53:31.090] [INFO] dateFileLog - param date=
[2015-08-29 17:53:31.090] [INFO] dateFileLog - param page=1
[2015-08-29 17:53:31.090] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:31.094] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 17:53:31.106] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:53:31.108] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 17:53:31.108] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 17:53:31.112] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:53:31.767] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:53:31.767] [INFO] dateFileLog - param uid=000000489
[2015-08-29 17:53:31.767] [INFO] dateFileLog - param tid=000000220
[2015-08-29 17:53:31.767] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:31.987] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 17:53:32.102] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:53:32.289] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 17:53:32.626] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:53:32.703] [INFO] dateFileLog - start transaction...
[2015-08-29 17:53:32.704] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:53:32' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:53:32.907] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:53:32.935] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:53:32' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:53:32.938] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:53:32.940] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:53:32.941] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:53:32.942] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:53:33.018] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:53:33.019] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 17:53:33.020] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:53:33.021] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 17:53:33.023] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:53:33.024] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 17:53:33.035] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:53:33.240] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:53:48.880] [INFO] dateFileLog - action / start......
[2015-08-29 17:53:48.880] [INFO] dateFileLog - param uid=220
[2015-08-29 17:53:48.880] [INFO] dateFileLog - param to=489
[2015-08-29 17:53:48.880] [INFO] dateFileLog - param pid=175
[2015-08-29 17:53:48.881] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:48.881] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 17:53:49.192] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 17:53:49.295] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 17:53:49.355] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:53:49.396] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:53:49.399] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:53:49.401] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:53:50.543] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:53:50.557] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:53:50.565] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:53:50.568] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:53:50.570] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:53:50.589] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:53:50.637] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:53:50.637] [INFO] dateFileLog - param to=489
[2015-08-29 17:53:50.637] [INFO] dateFileLog - param pid=175
[2015-08-29 17:53:50.638] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:50.852] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:53:51.031] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:53:51.035] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:53:51.046] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:53:51.059] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:53:51.064] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:53:51.066] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:53:51.066] [INFO] dateFileLog - param tid=489
[2015-08-29 17:53:51.066] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:53:51.066] [INFO] dateFileLog - param date=
[2015-08-29 17:53:51.066] [INFO] dateFileLog - param page=1
[2015-08-29 17:53:51.066] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:51.069] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:53:51.069] [INFO] dateFileLog - param pid=175
[2015-08-29 17:53:51.069] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:51.070] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:53:51.081] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:53:51.081] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:53:51.081] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:53:51.081] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:53:51.083] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:53:51.102] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 17:53:51.107] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:53:51.122] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:53:51.148] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:53:51.150] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:53:51.152] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:53:51.158] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:53:51.162] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:53:51.166] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:53:51.168] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:53:51.173] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:53:51.176] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:53:51.179] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 17:53:51.241] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:53:51.447] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:53:51.449] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:53:51.452] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:53:52.565] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:53:53.224] [INFO] dateFileLog - start transaction...
[2015-08-29 17:53:53.224] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:53:53' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:53:53.316] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:53:53' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:53:53.592] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:55:09.681] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:09.681] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:09.681] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:09.684] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:09.691] [DEBUG] dateFileLog - GET /views/tmpls/dialog.ejs
[2015-08-29 17:55:11.182] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:11.182] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:11.182] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:11.184] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:11.828] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:11.828] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:11.828] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:11.831] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:12.096] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:12.096] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:12.096] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:12.099] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:12.364] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:12.364] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:12.364] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:12.366] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:12.596] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:12.596] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:12.596] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:12.599] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:12.951] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:12.952] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:12.952] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:12.953] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:18.215] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:18.216] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:18.216] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:18.219] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:18.706] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:18.706] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:18.706] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:18.710] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:18.954] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:18.954] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:18.954] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:18.956] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:19.145] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:19.145] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:19.145] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:19.147] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:19.511] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:19.511] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:19.511] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:19.513] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:19.810] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:19.810] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:19.810] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:19.813] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:20.092] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:20.093] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:20.093] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:20.094] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:20.375] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:20.375] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:20.375] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:20.378] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:22.134] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 17:55:22.134] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:55:22.134] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:22.370] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 17:55:22.680] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 17:55:22.852] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 17:55:22.875] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:55:22.919] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:55:22.921] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:55:22.922] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:55:22.979] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 17:55:22.988] [DEBUG] dateFileLog - GET /images/photo.jpg
[2015-08-29 17:55:22.998] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 17:55:23.024] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:55:23.030] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:55:23.043] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:55:23.047] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:55:23.058] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:55:23.114] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 17:55:23.114] [INFO] dateFileLog - param uid=220
[2015-08-29 17:55:23.114] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:23.119] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 17:55:23.137] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 17:55:23.148] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:55:25.269] [INFO] dateFileLog - action / start......
[2015-08-29 17:55:25.269] [INFO] dateFileLog - param uid=220
[2015-08-29 17:55:25.269] [INFO] dateFileLog - param to=16
[2015-08-29 17:55:25.269] [INFO] dateFileLog - param totype=2
[2015-08-29 17:55:25.269] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:25.289] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 17:55:25.313] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:55:25.358] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:55:25.363] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:55:25.366] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:55:25.436] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:55:25.449] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:55:25.455] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:55:25.461] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:55:25.466] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:55:25.480] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:55:25.533] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 17:55:25.533] [INFO] dateFileLog - param to=16
[2015-08-29 17:55:25.533] [INFO] dateFileLog - param totype=2
[2015-08-29 17:55:25.533] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:25.758] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 17:55:26.062] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 17:55:26.070] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 17:55:26.077] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:55:26.080] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:55:26.081] [INFO] dateFileLog - param tid=16
[2015-08-29 17:55:26.081] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 17:55:26.081] [INFO] dateFileLog - param date=
[2015-08-29 17:55:26.081] [INFO] dateFileLog - param page=1
[2015-08-29 17:55:26.081] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:26.082] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:26","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:31","message":"范德萨范德萨"},
[2015-08-29 17:55:26.096] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:55:26.097] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:55:26.116] [DEBUG] dateFileLog - GET /images/butn.jpg
[2015-08-29 17:55:26.117] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:55:26.139] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:55:26.153] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:55:26.157] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:55:26.161] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 17:55:26.165] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:55:28.241] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 17:55:28.241] [INFO] dateFileLog - param gid=16
[2015-08-29 17:55:28.241] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:55:28.241] [INFO] dateFileLog - param totype=2
[2015-08-29 17:55:28.242] [INFO] dateFileLog - param usertype=2
[2015-08-29 17:55:28.242] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:28.252] [DEBUG] dateFileLog - GET /getGroupMembers?gid=16&uid=000000220&totype=2&usertype=2
[2015-08-29 17:55:28.260] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:55:28.299] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:55:28.307] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:55:28.317] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 17:55:28.324] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:55:28.353] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 17:55:28.373] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:55:28.376] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:55:28.380] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:55:28.383] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:55:28.417] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:55:34.484] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 17:55:34.484] [INFO] dateFileLog - action / start......
[2015-08-29 17:55:34.485] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:55:34.485] [INFO] dateFileLog - param to=16
[2015-08-29 17:55:34.485] [INFO] dateFileLog - param totype=2
[2015-08-29 17:55:34.485] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:34.494] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 17:55:34.549] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:55:34.552] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:55:34.554] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:55:34.620] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:55:34.636] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:55:34.639] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:55:34.649] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:55:34.653] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:55:34.670] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:55:34.721] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 17:55:34.721] [INFO] dateFileLog - param to=16
[2015-08-29 17:55:34.721] [INFO] dateFileLog - param totype=2
[2015-08-29 17:55:34.721] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:34.834] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 17:55:34.967] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 17:55:34.987] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 17:55:34.989] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:55:34.989] [INFO] dateFileLog - param tid=16
[2015-08-29 17:55:34.989] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 17:55:34.989] [INFO] dateFileLog - param date=
[2015-08-29 17:55:34.989] [INFO] dateFileLog - param page=1
[2015-08-29 17:55:34.989] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:34.990] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:55:35.021] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:55:35.022] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:26","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:31","message":"范德萨范德萨"},
[2015-08-29 17:55:35.026] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:55:35.031] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:55:35.047] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:55:35.057] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:55:35.062] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:55:35.065] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 17:55:35.071] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:55:37.110] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 17:55:37.110] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:55:37.110] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:37.426] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 17:55:38.549] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 17:55:38.663] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 17:55:38.687] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:55:38.720] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:55:38.726] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:55:38.737] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:55:38.750] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 17:55:38.787] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 17:55:38.801] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:55:38.814] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:55:38.818] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:55:38.820] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:55:38.838] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:55:38.884] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 17:55:38.884] [INFO] dateFileLog - param uid=220
[2015-08-29 17:55:38.884] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:38.887] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 17:55:38.909] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 17:55:38.917] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:55:40.414] [INFO] dateFileLog - action / start......
[2015-08-29 17:55:40.414] [INFO] dateFileLog - param uid=220
[2015-08-29 17:55:40.415] [INFO] dateFileLog - param to=489
[2015-08-29 17:55:40.415] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:40.422] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 17:55:40.454] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:55:40.492] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:55:40.495] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:55:40.506] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:55:40.555] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:55:40.571] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:55:40.575] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:55:40.579] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:55:40.584] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:55:40.598] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:55:40.645] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:55:40.645] [INFO] dateFileLog - param to=489
[2015-08-29 17:55:40.645] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:40.803] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:55:40.985] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:55:40.993] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:55:40.996] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:55:41.027] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:55:41.028] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:55:41.028] [INFO] dateFileLog - param tid=489
[2015-08-29 17:55:41.028] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:55:41.028] [INFO] dateFileLog - param date=
[2015-08-29 17:55:41.028] [INFO] dateFileLog - param page=1
[2015-08-29 17:55:41.028] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:41.038] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:55:41.039] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:55:41.039] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:55:41.039] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:55:41.039] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:41.040] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:55:41.063] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 17:55:41.068] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:55:41.084] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:55:41.100] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:55:41.102] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:55:41.104] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:55:41.109] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:55:41.111] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:55:41.116] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:55:41.117] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:55:41.126] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:55:41.128] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:55:41.130] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:55:41.132] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 17:55:41.194] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:55:41.315] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:55:41.724] [INFO] dateFileLog - start transaction...
[2015-08-29 17:55:41.724] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:55:41' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:55:41.932] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:55:41' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:55:42.034] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:55:54.447] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:54.447] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:54.447] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:54.450] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:54.457] [DEBUG] dateFileLog - GET /views/tmpls/dialog.ejs
[2015-08-29 17:55:55.851] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:55.851] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:55.851] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:55.853] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:56.133] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:56.133] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:56.133] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:56.135] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:56.373] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:56.374] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:56.374] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:56.375] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:56.573] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:56.573] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:56.573] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:56.575] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:56.856] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:56.856] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:56.856] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:56.858] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:59.185] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:59.185] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:59.185] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:59.187] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:59.433] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:59.433] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:59.433] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:59.438] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:55:59.815] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:55:59.815] [INFO] dateFileLog - param owner=489
[2015-08-29 17:55:59.815] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:55:59.817] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:59:37.939] [INFO] dateFileLog - action / start......
[2015-08-29 17:59:37.939] [INFO] dateFileLog - param uid=220
[2015-08-29 17:59:37.939] [INFO] dateFileLog - param to=489
[2015-08-29 17:59:37.939] [INFO] dateFileLog - param pid=175
[2015-08-29 17:59:37.939] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:37.953] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 17:59:37.986] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 17:59:38.008] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 17:59:38.010] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 17:59:38.014] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 17:59:38.083] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 17:59:38.100] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 17:59:38.104] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 17:59:38.110] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 17:59:38.113] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 17:59:38.138] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 17:59:38.188] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 17:59:38.188] [INFO] dateFileLog - param to=489
[2015-08-29 17:59:38.189] [INFO] dateFileLog - param pid=175
[2015-08-29 17:59:38.189] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:38.574] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 17:59:38.784] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 17:59:38.792] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 17:59:38.795] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 17:59:38.817] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 17:59:38.819] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 17:59:38.819] [INFO] dateFileLog - param tid=489
[2015-08-29 17:59:38.819] [INFO] dateFileLog - param chattype=single
[2015-08-29 17:59:38.819] [INFO] dateFileLog - param date=
[2015-08-29 17:59:38.820] [INFO] dateFileLog - param page=1
[2015-08-29 17:59:38.820] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:38.825] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 17:59:38.826] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 17:59:38.826] [INFO] dateFileLog - param pid=175
[2015-08-29 17:59:38.826] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:38.826] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 17:59:38.834] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 17:59:38.834] [INFO] dateFileLog - param uid=000000220
[2015-08-29 17:59:38.834] [INFO] dateFileLog - param tid=000000489
[2015-08-29 17:59:38.834] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:38.835] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 17:59:38.863] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 17:59:38.865] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 17:59:38.874] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 17:59:38.888] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 17:59:38.899] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 17:59:38.907] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 17:59:38.913] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 17:59:38.917] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 17:59:38.920] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 17:59:38.924] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 17:59:38.927] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 17:59:38.930] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 17:59:38.932] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 17:59:39.008] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 17:59:39.220] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 17:59:39.223] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 17:59:39.233] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 17:59:39.257] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 17:59:39.499] [INFO] dateFileLog - start transaction...
[2015-08-29 17:59:39.499] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:59:39' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 17:59:39.702] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 17:59:39' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 17:59:39.806] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 17:59:53.131] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:59:53.131] [INFO] dateFileLog - param owner=489
[2015-08-29 17:59:53.131] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:53.137] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:59:53.141] [DEBUG] dateFileLog - GET /views/tmpls/dialog.ejs
[2015-08-29 17:59:53.787] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:59:53.787] [INFO] dateFileLog - param owner=489
[2015-08-29 17:59:53.787] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:53.789] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:59:54.044] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:59:54.044] [INFO] dateFileLog - param owner=489
[2015-08-29 17:59:54.044] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:54.046] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:59:54.234] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:59:54.235] [INFO] dateFileLog - param owner=489
[2015-08-29 17:59:54.235] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:54.237] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 17:59:54.450] [INFO] dateFileLog - action /applyToGroup start......
[2015-08-29 17:59:54.450] [INFO] dateFileLog - param owner=489
[2015-08-29 17:59:54.450] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 17:59:54.452] [DEBUG] dateFileLog - POST /applyToGroup
[2015-08-29 18:00:02.298] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 18:00:02.298] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:00:02.298] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:00:02.548] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 18:00:02.860] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 18:00:03.060] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 18:00:03.090] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:00:03.118] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:00:03.121] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:00:03.128] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:00:03.175] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 18:00:03.189] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 18:00:03.209] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:00:03.217] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:00:03.228] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:00:03.231] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:00:03.243] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:00:03.292] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 18:00:03.292] [INFO] dateFileLog - param uid=220
[2015-08-29 18:00:03.292] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:00:03.294] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 18:00:03.311] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 18:00:03.319] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:03:21.342] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 18:03:25.598] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 18:03:27.157] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 18:03:28.078] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 18:03:29.308] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 18:03:30.229] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 18:05:04.929] [INFO] dateFileLog - action / start......
[2015-08-29 18:05:04.929] [INFO] dateFileLog - param uid=220
[2015-08-29 18:05:04.929] [INFO] dateFileLog - param to=16
[2015-08-29 18:05:04.929] [INFO] dateFileLog - param totype=2
[2015-08-29 18:05:04.929] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:04.962] [DEBUG] dateFileLog - GET /?uid=220&to=16&totype=2
[2015-08-29 18:05:04.974] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:05:05.003] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:05:05.018] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:05:05.022] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:05:05.053] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:05:05.084] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:05:05.090] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:05:05.093] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:05:05.096] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:05:05.123] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:05:05.178] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 18:05:05.178] [INFO] dateFileLog - param to=16
[2015-08-29 18:05:05.178] [INFO] dateFileLog - param totype=2
[2015-08-29 18:05:05.178] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:07.892] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 18:05:09.127] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 18:05:09.132] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 18:05:09.142] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:05:09.143] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:05:09.143] [INFO] dateFileLog - param tid=16
[2015-08-29 18:05:09.143] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 18:05:09.143] [INFO] dateFileLog - param date=
[2015-08-29 18:05:09.143] [INFO] dateFileLog - param page=1
[2015-08-29 18:05:09.143] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:09.144] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:26","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:31","message":"范德萨范德萨"},
[2015-08-29 18:05:09.150] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:05:09.156] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:05:09.168] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:05:09.171] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:05:09.177] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:05:09.179] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 18:05:09.182] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:05:09.885] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:05:13.244] [INFO] dateFileLog - action /getGroupMembers start......
[2015-08-29 18:05:13.244] [INFO] dateFileLog - param gid=16
[2015-08-29 18:05:13.244] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:05:13.244] [INFO] dateFileLog - param totype=2
[2015-08-29 18:05:13.244] [INFO] dateFileLog - param usertype=2
[2015-08-29 18:05:13.244] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:13.254] [DEBUG] dateFileLog - GET /getGroupMembers?gid=16&uid=000000220&totype=2&usertype=2
[2015-08-29 18:05:13.285] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:05:13.314] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:05:13.318] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:05:13.319] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 18:05:13.322] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:05:13.383] [DEBUG] dateFileLog - GET /js/members_list.js
[2015-08-29 18:05:13.401] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:05:13.410] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:05:13.415] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:05:13.417] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:05:13.439] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:05:17.466] [DEBUG] dateFileLog - GET /images/loading.gif
[2015-08-29 18:05:17.467] [INFO] dateFileLog - action / start......
[2015-08-29 18:05:17.467] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:05:17.467] [INFO] dateFileLog - param to=16
[2015-08-29 18:05:17.467] [INFO] dateFileLog - param totype=2
[2015-08-29 18:05:17.467] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:17.481] [DEBUG] dateFileLog - GET /?uid=000000220&to=16&totype=2
[2015-08-29 18:05:17.524] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:05:17.527] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:05:17.529] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:05:17.596] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:05:17.616] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:05:17.625] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:05:17.629] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:05:17.631] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:05:17.678] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:05:17.715] [INFO] dateFileLog - action /getGroupInfo start......
[2015-08-29 18:05:17.715] [INFO] dateFileLog - param to=16
[2015-08-29 18:05:17.715] [INFO] dateFileLog - param totype=2
[2015-08-29 18:05:17.715] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:18.338] [INFO] dateFileLog - SELECT * FROM tb_grouplist WHERE id = 16
[2015-08-29 18:05:19.568] [DEBUG] dateFileLog - POST /getGroupInfo
[2015-08-29 18:05:19.576] [DEBUG] dateFileLog - GET /views/tmpls/m_g_msgwindow.ejs
[2015-08-29 18:05:19.583] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:05:19.583] [INFO] dateFileLog - param tid=16
[2015-08-29 18:05:19.583] [INFO] dateFileLog - param chattype=gchat
[2015-08-29 18:05:19.583] [INFO] dateFileLog - param date=
[2015-08-29 18:05:19.583] [INFO] dateFileLog - param page=1
[2015-08-29 18:05:19.584] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:19.587] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:05:19.587] [INFO] dateFileLog - {"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:35:59","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:05","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:37:15","message":"/bomb"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:40","message":"/idwtsy"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 13:45:43","message":"fds "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:26","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:04:31","message":"范德萨范德萨"},
[2015-08-29 18:05:19.601] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:05:19.601] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:05:19.616] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:05:19.629] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:05:19.633] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:05:19.638] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:05:19.642] [DEBUG] dateFileLog - GET /images/emoji/bomb.png
[2015-08-29 18:05:19.645] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:05:22.730] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 18:05:22.730] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:05:22.730] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:23.252] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 18:05:24.834] [INFO] dateFileLog - action /getHistoryList start......
[2015-08-29 18:05:24.834] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:05:24.834] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:25.099] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 18:05:25.121] [INFO] dateFileLog - SELECT a.*,b.* FROM tb_contacthistory_list a INNER JOIN tb_userinfo b WHERE a.user=220 AND a.toid = b.uid
[2015-08-29 18:05:26.324] [INFO] dateFileLog - SELECT * FROM tb_group_userlist a INNER JOIN tb_grouplist b WHERE a.userid=220 AND a.groupid = b.id
[2015-08-29 18:05:26.948] [DEBUG] dateFileLog - GET /getHistoryList?uid=000000220
[2015-08-29 18:05:26.971] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:05:26.998] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:05:27.020] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:05:27.023] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:05:27.053] [DEBUG] dateFileLog - GET /images/headers/default.png
[2015-08-29 18:05:27.090] [DEBUG] dateFileLog - GET /js/history_list.js
[2015-08-29 18:05:27.103] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:05:27.115] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:05:27.118] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:05:27.120] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:05:27.128] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:05:27.178] [INFO] dateFileLog - action /getCurrentUser start......
[2015-08-29 18:05:27.178] [INFO] dateFileLog - param uid=220
[2015-08-29 18:05:27.178] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:27.180] [DEBUG] dateFileLog - POST /getCurrentUser
[2015-08-29 18:05:27.196] [INFO] dateFileLog - 用户undefined上线了..........
[2015-08-29 18:05:27.206] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:05:31.755] [INFO] dateFileLog - action / start......
[2015-08-29 18:05:31.755] [INFO] dateFileLog - param uid=220
[2015-08-29 18:05:31.755] [INFO] dateFileLog - param to=489
[2015-08-29 18:05:31.755] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:31.759] [DEBUG] dateFileLog - GET /?uid=220&to=489
[2015-08-29 18:05:31.797] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:05:31.835] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:05:31.839] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:05:31.844] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:05:31.897] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:05:31.914] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:05:31.921] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:05:31.925] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:05:31.929] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:05:31.946] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:05:31.998] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:05:31.998] [INFO] dateFileLog - param to=489
[2015-08-29 18:05:31.998] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:32.793] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:05:34.007] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:05:34.009] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:05:34.018] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:05:34.028] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:05:34.031] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:05:34.032] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:05:34.032] [INFO] dateFileLog - param tid=489
[2015-08-29 18:05:34.032] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:05:34.032] [INFO] dateFileLog - param date=
[2015-08-29 18:05:34.033] [INFO] dateFileLog - param page=1
[2015-08-29 18:05:34.033] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:34.034] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:05:34.054] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:05:34.055] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:05:34.055] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:05:34.055] [INFO] dateFileLog - param tid=000000489
[2015-08-29 18:05:34.055] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:05:34.055] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:05:34.079] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:05:34.090] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:05:34.102] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:05:34.106] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:05:34.107] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:05:34.109] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:05:34.113] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:05:34.118] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:05:34.121] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:05:34.123] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:05:34.132] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:05:34.618] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 18:05:35.850] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:05:36.161] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 18:05:38.311] [INFO] dateFileLog - start transaction...
[2015-08-29 18:05:38.311] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:05:37' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:05:38.923] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:05:37' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:05:39.534] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:10:18.993] [INFO] dateFileLog - action / start......
[2015-08-29 18:10:18.993] [INFO] dateFileLog - param uid=489
[2015-08-29 18:10:18.993] [INFO] dateFileLog - param to=220
[2015-08-29 18:10:18.993] [INFO] dateFileLog - param pid=175
[2015-08-29 18:10:18.993] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:10:18.995] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:10:19.094] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:10:19.300] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:10:19.301] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:10:19.302] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:10:19.704] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:10:20.349] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:10:20.350] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:10:20.352] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:10:20.353] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:10:20.527] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:10:20.938] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:10:20.938] [INFO] dateFileLog - param to=220
[2015-08-29 18:10:20.938] [INFO] dateFileLog - param pid=175
[2015-08-29 18:10:20.938] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:10:21.041] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:10:21.150] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:10:21.152] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:10:21.356] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:10:22.059] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:10:22.084] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:10:22.084] [INFO] dateFileLog - param tid=220
[2015-08-29 18:10:22.084] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:10:22.084] [INFO] dateFileLog - param date=
[2015-08-29 18:10:22.084] [INFO] dateFileLog - param page=1
[2015-08-29 18:10:22.084] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:10:22.085] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:10:22.085] [INFO] dateFileLog - param pid=175
[2015-08-29 18:10:22.085] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:10:22.085] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:10:22.088] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:10:22.102] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:10:22.102] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:10:22.102] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:10:22.102] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:10:22.104] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:10:22.106] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 18:10:22.106] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:10:22.108] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:10:22.317] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:10:22.473] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:10:23.065] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:10:23.067] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:10:23.068] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:10:23.069] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:10:23.296] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:10:23.297] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:10:23.299] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 18:10:23.301] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 18:10:23.392] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:10:23.396] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:10:23.399] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:10:23.400] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:10:23.402] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:10:23.405] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:10:25.230] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:10:25.437] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:10:25.841] [INFO] dateFileLog - start transaction...
[2015-08-29 18:10:25.841] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:10:25' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:10:26.052] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:10:25' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:10:26.487] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:11:06.246] [INFO] dateFileLog - action / start......
[2015-08-29 18:11:06.246] [INFO] dateFileLog - param uid=220
[2015-08-29 18:11:06.246] [INFO] dateFileLog - param to=489
[2015-08-29 18:11:06.246] [INFO] dateFileLog - param pid=175
[2015-08-29 18:11:06.246] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:11:06.264] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 18:11:06.278] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:11:06.317] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:11:06.331] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:11:06.356] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:11:06.387] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:11:06.405] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:11:06.411] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:11:06.417] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:11:06.421] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:11:06.435] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:11:06.479] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:11:06.480] [INFO] dateFileLog - param to=489
[2015-08-29 18:11:06.480] [INFO] dateFileLog - param pid=175
[2015-08-29 18:11:06.480] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:11:06.701] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:11:06.910] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:11:06.912] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:11:06.932] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:11:06.934] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:11:06.934] [INFO] dateFileLog - param tid=489
[2015-08-29 18:11:06.934] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:11:06.935] [INFO] dateFileLog - param date=
[2015-08-29 18:11:06.935] [INFO] dateFileLog - param page=1
[2015-08-29 18:11:06.935] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:11:06.936] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:11:06.936] [INFO] dateFileLog - param pid=175
[2015-08-29 18:11:06.936] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:11:06.936] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:11:06.950] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:11:06.961] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:11:06.962] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:11:06.963] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:11:06.963] [INFO] dateFileLog - param tid=000000489
[2015-08-29 18:11:06.963] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:11:06.964] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:11:06.978] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:11:06.982] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:11:07.001] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:11:07.003] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 18:11:07.023] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:11:07.032] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:11:07.043] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:11:07.056] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:11:07.061] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:11:07.073] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:11:07.079] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:11:07.084] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:11:07.088] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:11:07.092] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:11:07.118] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:11:07.120] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:11:07.124] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:11:07.340] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 18:11:07.721] [INFO] dateFileLog - start transaction...
[2015-08-29 18:11:07.721] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:11:07' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:11:07.828] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:11:07' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:11:07.935] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:13:21.118] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 18:13:21.465] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 18:13:21.487] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 18:13:21.770] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 18:13:21.793] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 18:13:31.259] [ERROR] dateFileLog - { [Error: Handshake inactivity timeout]
  code: 'PROTOCOL_SEQUENCE_TIMEOUT',
  fatal: true,
  timeout: 10000 }
Error: Handshake inactivity timeout
    at Handshake.<anonymous> (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:154:17)
    at Handshake.emit (events.js:104:17)
    at Handshake._onTimeout (E:\code\project\s_chat\node_modules\mysql\lib\protocol\sequences\Sequence.js:116:8)
    at Timer.listOnTimeout (timers.js:110:15)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.chatService.getGroupMebers (E:\code\project\s_chat\server\services\chats.js:73:13)
    at initUser (E:\code\project\s_chat\server\globalcache.js:11:29)
    at E:\code\project\s_chat\server\globalcache.js:15:13
    at E:\code\project\s_chat\server\services\chats.js:68:13
    at Query._callback (E:\code\project\s_chat\server\mysqldbfactory.js:25:21)
[2015-08-29 18:13:31.260] [INFO] dateFileLog - {"code":"PROTOCOL_SEQUENCE_TIMEOUT","fatal":true,"timeout":10000}
[2015-08-29 18:13:58.580] [INFO] dateFileLog - action / start......
[2015-08-29 18:13:58.580] [INFO] dateFileLog - param uid=220
[2015-08-29 18:13:58.580] [INFO] dateFileLog - param to=489
[2015-08-29 18:13:58.580] [INFO] dateFileLog - param pid=175
[2015-08-29 18:13:58.580] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:13:58.594] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 18:13:58.631] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:13:58.650] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:13:58.652] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:13:58.655] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:13:58.723] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:13:58.744] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:13:58.755] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:13:58.761] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:13:58.766] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:13:58.782] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:13:58.824] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:13:58.824] [INFO] dateFileLog - param to=489
[2015-08-29 18:13:58.825] [INFO] dateFileLog - param pid=175
[2015-08-29 18:13:58.825] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:13:58.942] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:13:59.041] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:13:59.047] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:13:59.066] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:13:59.069] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:13:59.069] [INFO] dateFileLog - param tid=489
[2015-08-29 18:13:59.070] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:13:59.070] [INFO] dateFileLog - param date=
[2015-08-29 18:13:59.070] [INFO] dateFileLog - param page=1
[2015-08-29 18:13:59.070] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:13:59.072] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:13:59.072] [INFO] dateFileLog - param pid=175
[2015-08-29 18:13:59.072] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:13:59.072] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:13:59.076] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:13:59.077] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:13:59.077] [INFO] dateFileLog - param tid=000000489
[2015-08-29 18:13:59.077] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:13:59.083] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:13:59.085] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:13:59.086] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:13:59.104] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:13:59.107] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:13:59.119] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:13:59.141] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:13:59.144] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:13:59.159] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:13:59.164] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:13:59.171] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:13:59.173] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:13:59.176] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:13:59.178] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:13:59.183] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:13:59.186] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:13:59.272] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 18:13:59.487] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:13:59.489] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:13:59.496] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:13:59.681] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 18:14:00.092] [INFO] dateFileLog - start transaction...
[2015-08-29 18:14:00.092] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:13:59' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:14:00.166] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:13:59' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:14:00.576] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:14:15.632] [INFO] dateFileLog - action / start......
[2015-08-29 18:14:15.633] [INFO] dateFileLog - param uid=489
[2015-08-29 18:14:15.633] [INFO] dateFileLog - param to=220
[2015-08-29 18:14:15.633] [INFO] dateFileLog - param pid=175
[2015-08-29 18:14:15.633] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:14:15.635] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:14:16.584] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:14:16.592] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:14:16.594] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:14:16.595] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:14:17.173] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:14:18.582] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:14:18.584] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:14:18.585] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:14:18.586] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:14:18.936] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:14:22.107] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:14:22.107] [INFO] dateFileLog - param to=220
[2015-08-29 18:14:22.107] [INFO] dateFileLog - param pid=175
[2015-08-29 18:14:22.107] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:14:22.109] [INFO] dateFileLog - action / start......
[2015-08-29 18:14:22.110] [INFO] dateFileLog - param uid=489
[2015-08-29 18:14:22.110] [INFO] dateFileLog - param to=220
[2015-08-29 18:14:22.110] [INFO] dateFileLog - param pid=175
[2015-08-29 18:14:22.110] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:14:22.116] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:14:22.285] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:14:22.496] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:14:22.499] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:14:22.697] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:14:22.726] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:14:22.727] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:14:23.311] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:14:23.931] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:14:23.932] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:14:23.934] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:14:23.935] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:14:24.567] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:14:25.185] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:14:25.185] [INFO] dateFileLog - param to=220
[2015-08-29 18:14:25.185] [INFO] dateFileLog - param pid=175
[2015-08-29 18:14:25.185] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:14:25.357] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:14:25.460] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:14:25.462] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:14:25.701] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:14:25.976] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:14:25.976] [INFO] dateFileLog - param tid=220
[2015-08-29 18:14:25.976] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:14:25.976] [INFO] dateFileLog - param date=
[2015-08-29 18:14:25.976] [INFO] dateFileLog - param page=1
[2015-08-29 18:14:25.976] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:14:25.977] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:14:25.977] [INFO] dateFileLog - param pid=175
[2015-08-29 18:14:25.977] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:14:25.977] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:14:25.980] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:14:25.995] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 18:14:25.996] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:14:25.998] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:14:26.076] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:14:26.076] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:14:26.076] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:14:26.076] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:14:26.180] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:14:26.182] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:14:26.185] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:14:26.187] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:14:26.284] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:14:26.386] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:14:26.388] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:14:26.390] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:14:26.391] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:14:26.392] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:14:26.592] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:14:26.593] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:14:26.595] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:14:26.596] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:14:26.695] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 18:14:26.696] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 18:14:26.697] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:14:26.698] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:14:26.919] [INFO] dateFileLog - start transaction...
[2015-08-29 18:14:26.919] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:14:26' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:14:26.995] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:14:26' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:14:27.207] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:14:27.922] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:23:25.524] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 18:23:25.642] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 18:23:25.829] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 18:23:26.148] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 18:23:26.454] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 18:23:26.744] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 18:25:25.228] [INFO] dateFileLog - action / start......
[2015-08-29 18:25:25.228] [INFO] dateFileLog - param uid=489
[2015-08-29 18:25:25.228] [INFO] dateFileLog - param to=220
[2015-08-29 18:25:25.228] [INFO] dateFileLog - param pid=175
[2015-08-29 18:25:25.228] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:25:25.228] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 18:25:25.432] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 18:25:25.478] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:25:25.660] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:25:25.773] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:25:25.846] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:25:25.848] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:25:25.850] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:25:26.049] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:25:26.455] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:25:26.457] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:25:26.459] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:25:26.460] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:25:26.762] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:25:27.043] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:25:27.044] [INFO] dateFileLog - param to=220
[2015-08-29 18:25:27.044] [INFO] dateFileLog - param pid=175
[2015-08-29 18:25:27.044] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:25:27.092] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:25:27.171] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:25:27.173] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:25:27.410] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:25:27.682] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:25:27.684] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:25:27.684] [INFO] dateFileLog - param tid=220
[2015-08-29 18:25:27.684] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:25:27.684] [INFO] dateFileLog - param date=
[2015-08-29 18:25:27.684] [INFO] dateFileLog - param page=1
[2015-08-29 18:25:27.684] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:25:27.685] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:25:27.685] [INFO] dateFileLog - param pid=175
[2015-08-29 18:25:27.685] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:25:27.685] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:25:27.688] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:25:27.688] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:25:27.688] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:25:27.688] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:25:27.689] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:25:27.702] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 18:25:27.703] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:25:27.705] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:25:27.706] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:25:27.767] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:25:27.890] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:25:27.891] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:25:27.893] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:25:27.895] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:25:27.932] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:25:28.096] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:25:28.097] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:25:28.098] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:25:28.099] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:25:28.100] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:25:28.102] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:25:28.399] [INFO] dateFileLog - start transaction...
[2015-08-29 18:25:28.399] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:25:27' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:25:28.404] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:25:28.406] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:25:28.407] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:25:28.408] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:25:28.409] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 18:25:28.410] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 18:25:28.611] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:25:27' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:25:28.705] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:28:36.714] [INFO] dateFileLog - action / start......
[2015-08-29 18:28:36.714] [INFO] dateFileLog - param uid=489
[2015-08-29 18:28:36.714] [INFO] dateFileLog - param to=220
[2015-08-29 18:28:36.714] [INFO] dateFileLog - param pid=175
[2015-08-29 18:28:36.714] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:28:36.716] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:28:37.356] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:28:37.364] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:28:37.365] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:28:37.367] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:28:38.276] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:28:48.845] [INFO] dateFileLog - action / start......
[2015-08-29 18:28:48.845] [INFO] dateFileLog - param uid=489
[2015-08-29 18:28:48.845] [INFO] dateFileLog - param to=220
[2015-08-29 18:28:48.845] [INFO] dateFileLog - param pid=175
[2015-08-29 18:28:48.845] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:28:48.847] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:28:49.122] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:28:49.123] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:28:49.124] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:28:49.633] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:29:02.381] [INFO] dateFileLog - action / start......
[2015-08-29 18:29:02.381] [INFO] dateFileLog - param uid=220
[2015-08-29 18:29:02.381] [INFO] dateFileLog - param to=489
[2015-08-29 18:29:02.381] [INFO] dateFileLog - param pid=175
[2015-08-29 18:29:02.381] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:02.381] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 18:29:02.746] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 18:29:13.351] [INFO] dateFileLog - Express server listening on port 9003
[2015-08-29 18:29:14.287] [INFO] dateFileLog - action / start......
[2015-08-29 18:29:14.287] [INFO] dateFileLog - param uid=220
[2015-08-29 18:29:14.287] [INFO] dateFileLog - param to=489
[2015-08-29 18:29:14.288] [INFO] dateFileLog - param pid=175
[2015-08-29 18:29:14.288] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:14.288] [INFO] dateFileLog - check user if signed with uid:220
[2015-08-29 18:29:14.407] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 18:29:14.476] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":0,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"招商银行\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"6214815098749999\",\"cardNoImg\":\"\",\"companyAddr\":\"北京\",\"companyName\":\"公司名称1\",\"createTime\":1438148562659,\"createTimeCh\":\"2015-07-29 13:42:42\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"1\",\"hasHouse\":\"1\",\"histPerfom\":\"\",\"idNo\":\"370125199009090909\",\"idNoImg\":\"\",\"idType\":\"3\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"1\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"1\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\"\",\"position\":\"业务总监\",\"professIdentity\":\"职业身份1\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":0,\"recoWeightStr\":\"0\",\"recommendCode\":\"13111111111\",\"registerTime\":0,\"registerTimeCh\":\"\",\"remark\":\"备注1\",\"resource\":\"3\",\"resumeUrl\":\"\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"\",\"starLevel\":0,\"strCreateTime\":\"2015-07-29\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"联系地址1\",\"userEmail\":\"25345234@163.com\",\"userGrade\":0,\"userId\":220,\"userImg\":\"\",\"userName\":\"用户名称1\",\"userPhone\":\"18510707634\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"2\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"http://anliangfile1.7zhibao.com/www/user/220/2015/08/24/14/008585/1440398072363.PNG\",\"workTime\":\"\"}}"
[2015-08-29 18:29:14.726] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 18:29:15.725] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 18:29:16.571] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 18:29:17.056] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 18:29:17.776] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 18:29:18.104] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:29:18.161] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 18:29:18.196] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:29:18.198] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:29:18.466] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:29:18.498] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:29:18.509] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:29:18.517] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:29:18.519] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:29:18.522] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:29:18.550] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:29:18.602] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:29:18.602] [INFO] dateFileLog - param to=489
[2015-08-29 18:29:18.602] [INFO] dateFileLog - param pid=175
[2015-08-29 18:29:18.602] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:18.698] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:29:18.798] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:29:18.805] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:29:18.813] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:29:18.824] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:29:18.827] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:29:18.830] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:29:18.831] [INFO] dateFileLog - param tid=489
[2015-08-29 18:29:18.831] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:29:18.831] [INFO] dateFileLog - param date=
[2015-08-29 18:29:18.831] [INFO] dateFileLog - param page=1
[2015-08-29 18:29:18.832] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:18.834] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:29:18.834] [INFO] dateFileLog - param pid=175
[2015-08-29 18:29:18.834] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:18.835] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:29:18.842] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:29:18.842] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:29:18.842] [INFO] dateFileLog - param tid=000000489
[2015-08-29 18:29:18.842] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:18.851] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:29:18.861] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:29:18.869] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:29:18.885] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:29:18.886] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 18:29:18.907] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:29:18.917] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:29:18.921] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:29:18.944] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:29:18.949] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:29:18.957] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:29:18.963] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:29:18.971] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:29:18.975] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:29:18.979] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:29:19.005] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:29:19.016] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:29:19.025] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:29:19.101] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 18:29:19.410] [INFO] dateFileLog - start transaction...
[2015-08-29 18:29:19.410] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:29:19' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:29:20.026] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:29:19' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:29:20.230] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:29:23.099] [INFO] dateFileLog - action / start......
[2015-08-29 18:29:23.099] [INFO] dateFileLog - param uid=489
[2015-08-29 18:29:23.099] [INFO] dateFileLog - param to=220
[2015-08-29 18:29:23.099] [INFO] dateFileLog - param pid=175
[2015-08-29 18:29:23.099] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:23.099] [INFO] dateFileLog - check user if signed with uid:489
[2015-08-29 18:29:23.405] [INFO] dateFileLog - checked userinfo from foreign system:"{\"code\":\"SINO000000\",\"ftpReturnUrl\":\"http://anliangfile1.7zhibao.com/\",\"message\":\"请求成功\",\"userEdit\":{\"acctGroupNo\":\"\",\"acctManGroupNo\":\"\",\"adminId\":124,\"advisoryNum\":0,\"age\":\"\",\"amalGroupId\":\"\",\"authentication\":\"0\",\"bankName\":\"\",\"birthday\":0,\"birthdayCh\":\"\",\"cardNo\":\"\",\"cardNoImg\":\"\",\"companyAddr\":\"\",\"companyName\":\"\",\"createTime\":1440758221110,\"createTimeCh\":\"2015-08-28 18:37:01\",\"custGroupId\":\"\",\"evaluateAvg\":0,\"evaluation\":\"\",\"finInvestment\":\"\",\"financeName\":\"\",\"fincNo\":\"\",\"firstLogin\":\"\",\"fundsImg\":\"\",\"hasCar\":\"\",\"hasHouse\":\"\",\"histPerfom\":\"\",\"idNo\":\"131234197809081234\",\"idNoImg\":\"\",\"idType\":\"\",\"incomeMonthly\":\"\",\"isActivate\":\"1\",\"isCar\":\"0\",\"isCard\":\"0\",\"isCredit\":\"0\",\"isHouse\":\"0\",\"isInfoPerfect\":\"0\",\"isLogin\":\"1\",\"isReco\":\"1\",\"isSignIn\":\"0\",\"isVerified\":\"\",\"lastAdvisoryTime\":0,\"lastAdvisoryTimeCh\":\"\",\"lastSignInTime\":0,\"lastSignInTimeCh\":\"1970-01-01 08:00:00\",\"loginIp\":\"127.0.0.1\",\"loginState\":\"\",\"mainBus\":\"1，2\",\"mainBusStr\":\"\",\"maintSts\":\"0\",\"marriageSts\":\"\",\"nickName\":\"\",\"orgId\":0,\"parent\":0,\"persIntro\":\" 这里地处四个地级市的地理中心，也是晋、陕、豫三省省会城市“大三角”的复合影响区，还是国家中部连接西部经济圈的重要结点。铁路、高速公路、国家主干道呈三个“十字形”交叉，同时还拥有华北最大的地方铁路编组站——侯马北编组站，是国家中西部重要的交通枢纽。\",\"position\":\"\",\"professIdentity\":\"\",\"qq\":\"\",\"realName\":\"\",\"recoWeight\":101,\"recoWeightStr\":\"0\",\"recommendCode\":\"\",\"registerTime\":1440758269837,\"registerTimeCh\":\"2015-08-28\",\"remark\":\"\",\"resource\":\"\",\"resumeUrl\":\"www/creditCons/124/2015/08/28/18/044391/1440758221264.txt\",\"score\":0,\"scoreAvg\":0,\"sex\":\"2\",\"signManName\":\"\",\"signManPhone\":\"\",\"silvStatus\":\"0\",\"starLevel\":0,\"strCreateTime\":\"2015-08-28\",\"totalDisAmount\":\"\",\"totalTranVolume\":\"\",\"userAddr\":\"\",\"userEmail\":\"111@qq.com\",\"userGrade\":0,\"userId\":489,\"userImg\":\"http://anliangfile1.7zhibao.com/www/creditCons/124/2015/08/28/18/031815/1440758222020.JPG\",\"userName\":\"战三\",\"userPhone\":\"13100000000\",\"userPwd\":\"ff92a240d11b05ebd392348c35f781b2\",\"userRole\":\"4\",\"userStatus\":\"0\",\"userType\":\"\",\"weChat\":\"\",\"workPermit\":\"\",\"workTime\":\"\"}}"
[2015-08-29 18:29:23.636] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:29:23.719] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:29:24.663] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:29:24.665] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:29:24.666] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:29:25.179] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:29:26.175] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:29:26.178] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:29:26.179] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:29:26.181] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:29:26.811] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:29:28.042] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:29:28.042] [INFO] dateFileLog - param to=220
[2015-08-29 18:29:28.042] [INFO] dateFileLog - param pid=175
[2015-08-29 18:29:28.042] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:28.214] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:29:28.319] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:29:28.322] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:29:28.551] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:29:29.273] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:29:29.274] [INFO] dateFileLog - param tid=220
[2015-08-29 18:29:29.274] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:29:29.274] [INFO] dateFileLog - param date=
[2015-08-29 18:29:29.274] [INFO] dateFileLog - param page=1
[2015-08-29 18:29:29.274] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:29.276] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:29:29.276] [INFO] dateFileLog - param pid=175
[2015-08-29 18:29:29.276] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:29.276] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:29:29.278] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:29:29.278] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:29:29.278] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:29:29.279] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:29:29.281] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:29:29.282] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:29:29.283] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:29:29.285] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:29:29.468] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:29:29.551] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:29:29.552] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:29:29.554] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:29:29.757] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:29:29.770] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:29:30.063] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:29:30.160] [INFO] dateFileLog - start transaction...
[2015-08-29 18:29:30.161] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:29:29' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:29:30.368] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:29:29' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:29:30.373] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:29:30.375] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:29:30.379] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:29:30.381] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:29:30.384] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:29:30.386] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:29:30.475] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:29:30.477] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:29:30.478] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:29:30.479] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:29:30.482] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:30:31.602] [INFO] dateFileLog - action / start......
[2015-08-29 18:30:31.602] [INFO] dateFileLog - param uid=489
[2015-08-29 18:30:31.602] [INFO] dateFileLog - param to=220
[2015-08-29 18:30:31.602] [INFO] dateFileLog - param pid=175
[2015-08-29 18:30:31.602] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:30:31.604] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:30:31.814] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:30:31.822] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:30:31.823] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:30:31.825] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:30:32.529] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:30:33.451] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:30:33.452] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:30:33.453] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:30:33.456] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:30:34.066] [INFO] dateFileLog - action / start......
[2015-08-29 18:30:34.067] [INFO] dateFileLog - param uid=489
[2015-08-29 18:30:34.067] [INFO] dateFileLog - param to=220
[2015-08-29 18:30:34.067] [INFO] dateFileLog - param pid=175
[2015-08-29 18:30:34.067] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:30:34.069] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:30:34.070] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:30:34.680] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:30:34.680] [INFO] dateFileLog - param to=220
[2015-08-29 18:30:34.681] [INFO] dateFileLog - param pid=175
[2015-08-29 18:30:34.681] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:30:34.686] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:30:34.688] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:30:34.689] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:30:34.881] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:30:34.987] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:30:34.996] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:30:35.293] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:30:35.500] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:30:35.502] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:30:35.503] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:30:35.505] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:30:35.805] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:30:36.217] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:30:36.217] [INFO] dateFileLog - param to=220
[2015-08-29 18:30:36.217] [INFO] dateFileLog - param pid=175
[2015-08-29 18:30:36.218] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:30:36.413] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:30:36.519] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:30:36.522] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:30:38.084] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:30:38.705] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:30:38.705] [INFO] dateFileLog - param tid=220
[2015-08-29 18:30:38.705] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:30:38.705] [INFO] dateFileLog - param date=
[2015-08-29 18:30:38.705] [INFO] dateFileLog - param page=1
[2015-08-29 18:30:38.706] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:30:38.707] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:30:38.707] [INFO] dateFileLog - param pid=175
[2015-08-29 18:30:38.707] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:30:38.707] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:30:38.710] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:30:38.712] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:30:38.712] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:30:38.715] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:30:38.977] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:30:38.980] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:30:39.206] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:30:39.206] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:30:39.206] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:30:39.206] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:30:39.207] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:30:39.222] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:30:39.415] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:30:39.417] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:30:39.418] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:30:39.420] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:30:39.598] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:30:39.601] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:30:39.604] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:30:39.605] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:30:39.607] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:30:39.608] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:30:39.797] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:30:39.801] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:30:39.895] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:30:40.100] [INFO] dateFileLog - start transaction...
[2015-08-29 18:30:40.101] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:30:39' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:30:40.166] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:30:39' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:30:40.513] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:31:05.397] [INFO] dateFileLog - action / start......
[2015-08-29 18:31:05.397] [INFO] dateFileLog - param uid=489
[2015-08-29 18:31:05.397] [INFO] dateFileLog - param to=220
[2015-08-29 18:31:05.397] [INFO] dateFileLog - param pid=175
[2015-08-29 18:31:05.397] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:05.401] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:31:05.731] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:31:05.922] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:31:05.923] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:31:05.925] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:31:06.605] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:31:07.270] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:31:07.272] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:31:07.273] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:31:07.275] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:31:07.857] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:31:08.473] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:31:08.473] [INFO] dateFileLog - param to=220
[2015-08-29 18:31:08.474] [INFO] dateFileLog - param pid=175
[2015-08-29 18:31:08.474] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:08.669] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:31:08.772] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:31:08.776] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:31:10.014] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:31:10.221] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:31:10.221] [INFO] dateFileLog - param tid=220
[2015-08-29 18:31:10.221] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:31:10.221] [INFO] dateFileLog - param date=
[2015-08-29 18:31:10.221] [INFO] dateFileLog - param page=1
[2015-08-29 18:31:10.221] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:10.223] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:31:10.223] [INFO] dateFileLog - param pid=175
[2015-08-29 18:31:10.223] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:10.223] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:31:10.227] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:31:10.227] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:31:10.227] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:31:10.227] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:10.231] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:31:10.232] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:31:10.233] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:31:10.237] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:31:10.821] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:31:10.833] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:31:10.952] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:31:10.960] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:31:10.963] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:31:10.994] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:31:11.135] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:31:11.234] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:31:11.385] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:31:11.443] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:31:11.445] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:31:11.450] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:31:11.452] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:31:11.453] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:31:11.455] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:31:11.539] [INFO] dateFileLog - start transaction...
[2015-08-29 18:31:11.540] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:31:11' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:31:11.545] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:31:11.547] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:31:11.743] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:31:11' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:31:11.843] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:31:37.657] [INFO] dateFileLog - action / start......
[2015-08-29 18:31:37.657] [INFO] dateFileLog - param uid=489
[2015-08-29 18:31:37.657] [INFO] dateFileLog - param to=220
[2015-08-29 18:31:37.657] [INFO] dateFileLog - param pid=175
[2015-08-29 18:31:37.657] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:37.660] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:31:38.145] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:31:38.154] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:31:38.156] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:31:38.158] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:31:38.604] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:31:39.735] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:31:39.736] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:31:39.738] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:31:39.741] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:31:40.117] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:31:41.061] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:31:41.062] [INFO] dateFileLog - param to=220
[2015-08-29 18:31:41.062] [INFO] dateFileLog - param pid=175
[2015-08-29 18:31:41.062] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:41.233] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:31:41.335] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:31:41.340] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:31:41.570] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:31:42.293] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:31:42.293] [INFO] dateFileLog - param tid=220
[2015-08-29 18:31:42.293] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:31:42.293] [INFO] dateFileLog - param date=
[2015-08-29 18:31:42.293] [INFO] dateFileLog - param page=1
[2015-08-29 18:31:42.294] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:42.295] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:31:42.295] [INFO] dateFileLog - param pid=175
[2015-08-29 18:31:42.295] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:42.295] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:31:42.299] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:31:42.299] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:31:42.299] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:31:42.299] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:31:42.302] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:31:42.304] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:31:42.304] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:31:42.308] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:31:42.488] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:31:42.570] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:31:42.576] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:31:42.579] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:31:42.770] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:31:43.074] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:31:43.091] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:31:43.189] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:31:43.191] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:31:43.192] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:31:43.387] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:31:43.418] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:31:43.420] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:31:43.422] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:31:43.424] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:31:43.427] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:31:43.492] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:31:43.794] [INFO] dateFileLog - start transaction...
[2015-08-29 18:31:43.795] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:31:42' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:31:44.024] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:31:42' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:31:44.434] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:32:54.453] [INFO] dateFileLog - action / start......
[2015-08-29 18:32:54.454] [INFO] dateFileLog - param uid=489
[2015-08-29 18:32:54.454] [INFO] dateFileLog - param to=220
[2015-08-29 18:32:54.454] [INFO] dateFileLog - param pid=175
[2015-08-29 18:32:54.454] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:32:54.457] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:32:55.072] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:32:55.086] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:32:55.089] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:32:55.091] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:32:55.688] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:32:56.329] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:32:56.331] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:32:56.332] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:32:56.335] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:32:56.913] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:32:57.511] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:32:57.511] [INFO] dateFileLog - param to=220
[2015-08-29 18:32:57.511] [INFO] dateFileLog - param pid=175
[2015-08-29 18:32:57.511] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:32:57.742] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:32:57.829] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:32:57.834] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:32:58.073] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:32:58.780] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:32:58.780] [INFO] dateFileLog - param tid=220
[2015-08-29 18:32:58.780] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:32:58.781] [INFO] dateFileLog - param date=
[2015-08-29 18:32:58.781] [INFO] dateFileLog - param page=1
[2015-08-29 18:32:58.781] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:32:58.783] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:32:58.783] [INFO] dateFileLog - param pid=175
[2015-08-29 18:32:58.783] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:32:58.783] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:32:58.786] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:32:58.786] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:32:58.787] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:32:58.787] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:32:58.788] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:32:58.802] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:32:58.804] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:32:58.805] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:32:58.819] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:32:58.990] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:32:59.062] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:32:59.064] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:32:59.067] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:32:59.784] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:33:00.031] [INFO] dateFileLog - start transaction...
[2015-08-29 18:33:00.031] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:32:59' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:33:00.115] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:32:59' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:33:00.289] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:33:01.521] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:33:02.443] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:33:02.444] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:33:02.446] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:33:02.447] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:33:02.449] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:33:02.450] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:33:03.073] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:33:03.074] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:33:03.076] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:33:03.077] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:33:15.342] [INFO] dateFileLog - action / start......
[2015-08-29 18:33:15.342] [INFO] dateFileLog - param uid=489
[2015-08-29 18:33:15.342] [INFO] dateFileLog - param to=220
[2015-08-29 18:33:15.342] [INFO] dateFileLog - param pid=175
[2015-08-29 18:33:15.342] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:33:15.345] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:33:16.292] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:33:16.298] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:33:16.300] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:33:16.302] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:33:17.188] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:33:20.569] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:33:20.570] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:33:20.571] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:33:20.572] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:33:21.513] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:33:22.434] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:33:22.434] [INFO] dateFileLog - param to=220
[2015-08-29 18:33:22.434] [INFO] dateFileLog - param pid=175
[2015-08-29 18:33:22.434] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:33:23.560] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:33:24.069] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:33:24.073] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:33:24.454] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:33:25.199] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:33:25.199] [INFO] dateFileLog - param tid=220
[2015-08-29 18:33:25.199] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:33:25.199] [INFO] dateFileLog - param date=
[2015-08-29 18:33:25.199] [INFO] dateFileLog - param page=1
[2015-08-29 18:33:25.199] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:33:25.200] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:33:25.200] [INFO] dateFileLog - param pid=175
[2015-08-29 18:33:25.200] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:33:25.200] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:33:25.202] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:33:25.214] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:33:25.214] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:33:25.214] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:33:25.214] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:33:25.216] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:33:25.218] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:33:25.219] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:33:25.220] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:33:25.400] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:33:25.482] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:33:25.496] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:33:25.498] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:33:25.685] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:33:25.994] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:33:26.094] [INFO] dateFileLog - start transaction...
[2015-08-29 18:33:26.095] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:33:25' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:33:26.098] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:33:26.100] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:33:26.302] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:33:26.323] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:33:25' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:33:26.326] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:33:26.327] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:33:26.328] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:33:26.329] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:33:26.331] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:33:26.405] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:33:26.406] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:33:26.414] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:34:50.267] [INFO] dateFileLog - user 000000489 disconnected............
[2015-08-29 18:35:32.047] [INFO] dateFileLog - action / start......
[2015-08-29 18:35:32.047] [INFO] dateFileLog - param uid=489
[2015-08-29 18:35:32.047] [INFO] dateFileLog - param to=220
[2015-08-29 18:35:32.048] [INFO] dateFileLog - param pid=175
[2015-08-29 18:35:32.048] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:35:32.050] [DEBUG] dateFileLog - GET /?uid=489&to=220&pid=175
[2015-08-29 18:35:32.256] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:35:32.257] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:35:32.353] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:35:32.662] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:35:32.869] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:35:32.871] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:35:32.872] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:35:33.265] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:35:33.267] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:35:33.585] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:35:33.585] [INFO] dateFileLog - param to=220
[2015-08-29 18:35:33.585] [INFO] dateFileLog - param pid=175
[2015-08-29 18:35:33.585] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:35:35.122] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=220
[2015-08-29 18:35:35.324] [INFO] dateFileLog - { user: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: '2015-08-28T10:37:03.000Z',
     delflag: 0 },
  counselor: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: Sat Aug 29 2015 13:39:37 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:35:35.327] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:35:35.539] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:35:36.041] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:35:36.042] [INFO] dateFileLog - param tid=220
[2015-08-29 18:35:36.042] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:35:36.042] [INFO] dateFileLog - param date=
[2015-08-29 18:35:36.042] [INFO] dateFileLog - param page=1
[2015-08-29 18:35:36.042] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:35:36.044] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:35:36.044] [INFO] dateFileLog - param pid=175
[2015-08-29 18:35:36.044] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:35:36.044] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:35:36.046] [INFO] dateFileLog - 用户000000489上线了..........
[2015-08-29 18:35:36.059] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:35:36.060] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 18:35:36.060] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:35:36.062] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:35:36.346] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:35:36.348] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:35:36.554] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:35:36.554] [INFO] dateFileLog - param uid=000000489
[2015-08-29 18:35:36.554] [INFO] dateFileLog - param tid=000000220
[2015-08-29 18:35:36.554] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:35:36.557] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:35:36.656] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000220
[2015-08-29 18:35:36.658] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:35:36.768] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:35:36.773] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:35:36.774] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:35:36.776] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:35:36.777] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:35:36.778] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:35:36.862] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000489 AND toid =000000220
[2015-08-29 18:35:36.871] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:35:36.873] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:35:36.875] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:35:36.877] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:35:36.878] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:35:36.879] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 18:35:36.967] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 18:35:37.259] [INFO] dateFileLog - start transaction...
[2015-08-29 18:35:37.259] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:35:36' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:35:37.543] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:35:36' WHERE  user='000000489' AND toid ='000000220'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:35:37.769] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:39:23.181] [ERROR] dateFileLog - { [Error: connect ETIMEDOUT]
  errorno: 'ETIMEDOUT',
  code: 'ETIMEDOUT',
  syscall: 'connect',
  fatal: true }
Error: connect ETIMEDOUT
    at PoolConnection.Connection._handleConnectTimeout (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:362:13)
    at Socket.g (events.js:199:16)
    at Socket.emit (events.js:104:17)
    at Socket._onTimeout (net.js:348:8)
    at _makeTimerTimeout (timers.js:467:11)
    at Timer.unrefTimeout (timers.js:531:5)
    --------------------
    at Protocol._enqueue (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:135:48)
    at Protocol.handshake (E:\code\project\s_chat\node_modules\mysql\lib\protocol\Protocol.js:52:41)
    at PoolConnection.connect (E:\code\project\s_chat\node_modules\mysql\lib\Connection.js:123:18)
    at Pool.getConnection (E:\code\project\s_chat\node_modules\mysql\lib\Pool.js:45:23)
    at Object.JDB.query (E:\code\project\s_chat\server\mysqldbfactory.js:15:14)
    at Object.chatService.getAllGroup (E:\code\project\s_chat\server\services\chats.js:63:13)
    at initGroupInfo (E:\code\project\s_chat\server\globalcache.js:7:17)
    at wrapper [as _onTimeout] (timers.js:265:14)
    at Timer.listOnTimeout (timers.js:110:15)
[2015-08-29 18:39:23.181] [INFO] dateFileLog - {"errorno":"ETIMEDOUT","code":"ETIMEDOUT","syscall":"connect","fatal":true}
[2015-08-29 18:49:14.733] [INFO] dateFileLog - SELECT * FROM tb_grouplist
[2015-08-29 18:49:15.049] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=14)
[2015-08-29 18:49:15.336] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=16)
[2015-08-29 18:49:15.660] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=17)
[2015-08-29 18:49:15.851] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=18)
[2015-08-29 18:49:16.265] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid IN (SELECT userid FROM tb_group_userlist WHERE groupid=15)
[2015-08-29 18:52:39.089] [INFO] dateFileLog - action / start......
[2015-08-29 18:52:39.090] [INFO] dateFileLog - param uid=220
[2015-08-29 18:52:39.090] [INFO] dateFileLog - param to=489
[2015-08-29 18:52:39.090] [INFO] dateFileLog - param pid=175
[2015-08-29 18:52:39.090] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:52:39.104] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 18:52:39.119] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:52:39.140] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:52:39.144] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:52:39.146] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:52:39.185] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:52:39.211] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:52:39.216] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:52:39.219] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:52:39.221] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:52:39.239] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:52:39.281] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:52:39.281] [INFO] dateFileLog - param to=489
[2015-08-29 18:52:39.281] [INFO] dateFileLog - param pid=175
[2015-08-29 18:52:39.281] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:52:39.865] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:52:40.267] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:52:40.271] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:52:40.307] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:52:40.309] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:52:40.309] [INFO] dateFileLog - param tid=489
[2015-08-29 18:52:40.309] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:52:40.309] [INFO] dateFileLog - param date=
[2015-08-29 18:52:40.309] [INFO] dateFileLog - param page=1
[2015-08-29 18:52:40.309] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:52:40.312] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:52:40.312] [INFO] dateFileLog - param pid=175
[2015-08-29 18:52:40.312] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:52:40.312] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:52:40.313] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:52:40.313] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:52:40.314] [INFO] dateFileLog - param tid=000000489
[2015-08-29 18:52:40.314] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:52:40.314] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:52:40.333] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:52:40.335] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:52:40.335] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:52:40.341] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:52:40.348] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:52:40.360] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:52:40.362] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:52:40.364] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:52:40.367] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:52:40.383] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:52:40.385] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:52:40.392] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:52:40.400] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:52:40.403] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:52:40.407] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:52:40.446] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 18:52:40.553] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:52:40.554] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:52:40.556] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:52:40.753] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 18:52:41.064] [INFO] dateFileLog - start transaction...
[2015-08-29 18:52:41.064] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:52:40' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:52:41.163] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:52:40' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:52:41.272] [INFO] dateFileLog - commit successfully and transaction end.
[2015-08-29 18:54:58.282] [INFO] dateFileLog - action / start......
[2015-08-29 18:54:58.282] [INFO] dateFileLog - param uid=220
[2015-08-29 18:54:58.282] [INFO] dateFileLog - param to=489
[2015-08-29 18:54:58.282] [INFO] dateFileLog - param pid=175
[2015-08-29 18:54:58.282] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:54:58.290] [DEBUG] dateFileLog - GET /?uid=220&to=489&pid=175
[2015-08-29 18:54:58.296] [INFO] dateFileLog - user 000000220 disconnected............
[2015-08-29 18:54:58.340] [DEBUG] dateFileLog - GET /css/service.css
[2015-08-29 18:54:58.347] [DEBUG] dateFileLog - GET /js/require.js
[2015-08-29 18:54:58.348] [DEBUG] dateFileLog - GET /css/bootstrap.min.css
[2015-08-29 18:54:58.415] [DEBUG] dateFileLog - GET /js/single_chat.js
[2015-08-29 18:54:58.431] [DEBUG] dateFileLog - GET /js/zepto.js
[2015-08-29 18:54:58.433] [DEBUG] dateFileLog - GET /js/common.js
[2015-08-29 18:54:58.438] [DEBUG] dateFileLog - GET /js/domReady.js
[2015-08-29 18:54:58.442] [DEBUG] dateFileLog - GET /js/ejs.js
[2015-08-29 18:54:58.470] [DEBUG] dateFileLog - GET /js/jquery.js
[2015-08-29 18:54:58.521] [INFO] dateFileLog - action /getUserInfoM start......
[2015-08-29 18:54:58.522] [INFO] dateFileLog - param to=489
[2015-08-29 18:54:58.522] [INFO] dateFileLog - param pid=175
[2015-08-29 18:54:58.522] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:54:58.785] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=489
[2015-08-29 18:54:58.992] [INFO] dateFileLog - { user: 
   { id: 16,
     uid: '000000220',
     name: '用户名称1',
     cname: '用户名称1',
     usertype: 2,
     headicon: '',
     groupcount: 1,
     createdate: '2015-08-29T05:39:37.000Z',
     delflag: 0 },
  counselor: 
   { id: 14,
     uid: '000000489',
     name: '战三',
     cname: '战三',
     usertype: 3,
     headicon: '',
     groupcount: 3,
     createdate: Fri Aug 28 2015 18:37:03 GMT+0800 (中国标准时间),
     delflag: 0 } }
[2015-08-29 18:54:58.996] [DEBUG] dateFileLog - POST /getUserInfoM
[2015-08-29 18:54:59.003] [DEBUG] dateFileLog - GET /views/tmpls/m_msgwindow.ejs
[2015-08-29 18:54:59.014] [INFO] dateFileLog - action /chatHistory start......
[2015-08-29 18:54:59.014] [INFO] dateFileLog - param tid=489
[2015-08-29 18:54:59.014] [INFO] dateFileLog - param chattype=single
[2015-08-29 18:54:59.014] [INFO] dateFileLog - param date=
[2015-08-29 18:54:59.014] [INFO] dateFileLog - param page=1
[2015-08-29 18:54:59.014] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:54:59.017] [INFO] dateFileLog - action /getProductInfo start......
[2015-08-29 18:54:59.017] [INFO] dateFileLog - param pid=175
[2015-08-29 18:54:59.017] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:54:59.017] [INFO] dateFileLog - get product 175 info from foreign system
[2015-08-29 18:54:59.028] [DEBUG] dateFileLog - GET /images/ads.jpg
[2015-08-29 18:54:59.032] [DEBUG] dateFileLog - GET /images/emoji/ssmile.png
[2015-08-29 18:54:59.033] [INFO] dateFileLog - 用户000000220上线了..........
[2015-08-29 18:54:59.047] [INFO] dateFileLog - action /addChatList start......
[2015-08-29 18:54:59.047] [INFO] dateFileLog - param uid=000000220
[2015-08-29 18:54:59.048] [INFO] dateFileLog - param tid=000000489
[2015-08-29 18:54:59.048] [INFO] dateFileLog - param __proto__=[object Object]
[2015-08-29 18:54:59.052] [DEBUG] dateFileLog - GET /images/arrow.jpg
[2015-08-29 18:54:59.054] [DEBUG] dateFileLog - GET /images/add.jpg
[2015-08-29 18:54:59.054] [INFO] dateFileLog - {"id":489,"cname":"战三","datetime":"2015-08-29 14:05:34","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 14:05:40","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:05:50","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:07:51","message":"adfsa "},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:30:38","message":"addsfd"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:41","message":"hahah"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:31:45","message":"水电费"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 14:33:23","message":""},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:03:56","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:19","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 15:43:20","message":""},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:02","message":"哈喽"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:11","message":"发的萨芬"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:28:19","message":"恩"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:25","message":"是是是"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:28:32","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:04","message":"啥情况啊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:29:04","message":"/88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:17","message":"范德萨"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:29:23","message":"发的萨芬"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:30:29","message":"/bsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:32:53","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:04","message":"恩"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:10","message":"我知道了"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:12","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:34:18","message":"/bsmile"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:21","message":"美很"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:38","message":"可不爽了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:45","message":"帅"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:34:54","message":"太帅了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:08","message":"/sexy/88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:24","message":"太没美了"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:35:37","message":"😊"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:06","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:10","message":"/kiss"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:15","message":"/idwtsy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:22","message":"是"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:33","message":"我婆"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:38:36","message":"收"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:53:50","message":"/sexy"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:31","message":"/sad"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:54:36","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:42","message":"/idwts"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:47","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:54:54","message":"沙发"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:55:01","message":"en"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:05","message":"/kiss"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:09","message":"/qq88"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:55:17","message":"fds"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:43","message":"/hsmile"},{"id":220,"cname":"用户名称1","datetime":"2015-08-29 16:57:48","message":"/qq88"},{"id":489,"cname":"战三","datetime":"2015-08-29 16:57:54","message":"/idwts"},{"id":489,"cname":"战三","datetime":"2015-08-29 17:51:09","message":"/fuck"},
[2015-08-29 18:54:59.056] [DEBUG] dateFileLog - POST /chatHistory
[2015-08-29 18:54:59.075] [DEBUG] dateFileLog - GET /views/tmpls/m_msgrow.ejs
[2015-08-29 18:54:59.099] [DEBUG] dateFileLog - GET /images/pic_r1_c1.jpg
[2015-08-29 18:54:59.105] [DEBUG] dateFileLog - GET /images/emoji/bsmile.png
[2015-08-29 18:54:59.108] [DEBUG] dateFileLog - GET /images/emoji/hsmile.png
[2015-08-29 18:54:59.111] [DEBUG] dateFileLog - GET /images/emoji/qq88.png
[2015-08-29 18:54:59.117] [DEBUG] dateFileLog - GET /images/emoji/88.png
[2015-08-29 18:54:59.121] [DEBUG] dateFileLog - GET /images/emoji/idwts.png
[2015-08-29 18:54:59.123] [DEBUG] dateFileLog - GET /images/emoji/kiss.png
[2015-08-29 18:54:59.124] [DEBUG] dateFileLog - GET /images/emoji/sexy.png
[2015-08-29 18:54:59.128] [DEBUG] dateFileLog - GET /images/emoji/fuck.png
[2015-08-29 18:54:59.130] [DEBUG] dateFileLog - GET /images/emoji/sad.png
[2015-08-29 18:54:59.135] [DEBUG] dateFileLog - GET /images/arrs_r3_c1.jpg
[2015-08-29 18:54:59.138] [DEBUG] dateFileLog - GET /images/arrs_r1_c6.jpg
[2015-08-29 18:54:59.548] [INFO] dateFileLog - SELECT * FROM tb_userinfo WHERE uid=000000489
[2015-08-29 18:54:59.722] [DEBUG] dateFileLog - POST /addChatList
[2015-08-29 18:54:59.723] [INFO] dateFileLog - got product info from foreign system:"{\"code\":\"SINO000000\",\"message\":\"请求成功\",\"result\":{\"appCount\":0,\"product\":{\"applicationCondition\":\"\",\"auditReason\":\"\",\"cardLevel\":\"\",\"costOf\":\"\",\"creditRequire\":\"\",\"currentFee\":0,\"custom1\":\"总息：0.47万元\",\"custom2\":\"月供：4555 元\",\"custom3\":\"利率说明：月利率\",\"designatedAdvisor\":\"0\",\"endTime\":0,\"endTimeCh\":\"\",\"financeName\":\"花旗银行\",\"financeType\":\"1\",\"fkPeriod\":3,\"focusId\":0,\"holder\":0,\"identity\":\"\",\"institution\":\"\",\"institutionId\":60,\"isAudit\":\"1\",\"isCooperate\":\"2\",\"isFocus\":0,\"isHidePhone\":\"2\",\"isNeedCar\":\"\",\"isNeedRoom\":\"\",\"isRecommend\":\"0\",\"isWeekRec\":\"\",\"loanLimit\":100.00,\"loanLimitMax\":300.00,\"loanPeriod\":\"1\",\"loanPeriodMax\":\"1\",\"localInsurance\":\"0\",\"localProvidentFund\":\"0\",\"monthRate\":1.0000,\"monthRateEnd\":2.0000,\"needService\":\"0\",\"platRecommend\":\"2\",\"platRecommendRate\":0.0000,\"productCharacteristic\":\"\",\"productId\":175,\"productIgUrl\":\"http://anliangfile1.7zhibao.com/www/software/1041/2015/08/29/17/052609/1440840360257.PNG\",\"productName\":\"花旗银行-幸福时贷\",\"productNumber\":\"700d5583-568c-4653-86f4-7639f19b1dac\",\"productType\":\"2\",\"productWeight\":1,\"publishTime\":1440840360250,\"publishTimeCh\":\"2015-08-29\",\"rate\":2.0000,\"remark\":\"\",\"repayDescript\":\"\",\"repayMethod\":\"2\",\"requiredMaterials\":\"\",\"returnFee\":\"\",\"searchId\":\"0,,,,\",\"source\":\"2\",\"stageRate\":0,\"status\":\"2\",\"supportHouse\":\"\",\"telephone\":\"\",\"userName1\":\"\",\"userName2\":\"\",\"userName3\":\"\",\"validityPeriod\":7,\"webSite\":\"\",\"yearFee\":\"\"}}}"
[2015-08-29 18:54:59.725] [DEBUG] dateFileLog - POST /getProductInfo
[2015-08-29 18:54:59.916] [INFO] dateFileLog - SELECT * FROM tb_contacthistory_list WHERE user=000000220 AND toid =000000489
[2015-08-29 18:55:00.323] [INFO] dateFileLog - start transaction...
[2015-08-29 18:55:00.323] [DEBUG] dateFileLog - UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:54:59' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 
[2015-08-29 18:55:00.423] [INFO] dateFileLog - excuted UPDATE tb_contacthistory_list SET lastchattime='2015-08-29 18:54:59' WHERE  user='000000220' AND toid ='000000489'  ORDER BY lastchattime DESC limit 1 successfully.
[2015-08-29 18:55:00.527] [INFO] dateFileLog - commit successfully and transaction end.
